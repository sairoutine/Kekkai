!function(){function t(e,i,r){function n(a,s){if(!i[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=i[a]={exports:{}};e[a][0].call(l.exports,function(t){var i=e[a][1][t];return n(i||t)},l,l.exports,t,e,i,r)}return i[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)n(r[a]);return n}return t}()({1:[function(t,e,i){"use strict";var r=t("./constant"),n={};n.images={title:"./image/trial/title.png",title_bg:"./image/trial/title_bg.png",menu_story_start_off:"./image/trial/menu/menu_story_start_off.png",menu_story_start_on:"./image/trial/menu/menu_story_start_on.png",menu_ex_story_start_off:"./image/trial/menu/menu_ex_story_start_off.png",menu_ex_story_start_on:"./image/trial/menu/menu_ex_story_start_on.png",menu_select_stage_off:"./image/trial/menu/menu_select_stage_off.png",menu_select_stage_on:"./image/trial/menu/menu_select_stage_on.png",menu_music_room_off:"./image/trial/menu/menu_music_room_off.png",menu_music_room_on:"./image/trial/menu/menu_music_room_on.png",menu_how_to_off:"./image/trial/menu/menu_how_to_off.png",menu_how_to_on:"./image/trial/menu/menu_how_to_on.png",menu_config_off:"./image/trial/menu/menu_config_off.png",menu_config_on:"./image/trial/menu/menu_config_on.png",reminiscence1:"./image/trial/reminiscence1.png",reminiscence2:"./image/trial/reminiscence2.jpg",shrine_noon:"./image/trial/shrine_noon.png",stage_bg01:"./image/trial/stage_bg01.png",stage_bg02:"./image/trial/stage_bg02.png",stage_bg03:"./image/trial/stage_bg03.png",stage_bg04:"./image/trial/stage_bg04.png",bg:"./image/trial/bg.png",stage_tile_24:"./image/trial/stage_tile_24.png",stage_tile_32:"./image/trial/stage_tile_32.png",block:"./image/trial/block.png",hashigo:"./image/trial/hashigo.png",tile_gray:"./image/trial/tile_gray.gif",tile_red:"./image/trial/tile_red.gif",mari_bg:"./image/trial/mari_bg.png",star_on:"./image/trial/star_on.png",star_off:"./image/trial/star_off.png",cursor:"./image/trial/right_arrow.png",reimu_angry1:"./image/trial/reimu/angry1.png",reimu_angry2:"./image/trial/reimu/angry2.png",reimu_confused:"./image/trial/reimu/confused.png",reimu_cry:"./image/trial/reimu/cry.png",reimu_laugh:"./image/trial/reimu/laugh1.png",reimu_laugh2:"./image/trial/reimu/laugh2.png",reimu_normal1:"./image/trial/reimu/normal1.png",reimu_normal2:"./image/trial/reimu/normal2.png",reimu_smile:"./image/trial/reimu/smile.png",reimu_yarare:"./image/trial/reimu/yarare.png",reimu_strength1:"./image/trial/reimu/strength1.png",reimu_strength2:"./image/trial/reimu/strength2.png",yukari_angry:"./image/trial/yukari/angry.png",yukari_confused:"./image/trial/yukari/confused.png",yukari_disappointed:"./image/trial/yukari/disappointed.png",yukari_ecstasy1:"./image/trial/yukari/ecstasy1.png",yukari_ecstasy2:"./image/trial/yukari/ecstasy2.png",yukari_laugh:"./image/trial/yukari/laugh.png",yukari_normal1:"./image/trial/yukari/normal1.png",yukari_normal2:"./image/trial/yukari/normal2.png",yukari_normal3:"./image/trial/yukari/normal3.png",yukari_normal4:"./image/trial/yukari/normal4.png",yukari_smile:"./image/trial/yukari/smile.png",yukari_yarare:"./image/trial/yukari/yarare.png"},r.TRIAL||Object.assign(n.images,{title_bg_without_yukari:"./image/production/title_bg_without_yukari.png",shrine_night:"./image/production/shrine_night.png",after_ex1:"./image/production/after_ex1.png",after_ex2:"./image/production/after_ex2.png",after_ex3:"./image/production/after_ex3.jpg",after_ex4:"./image/production/after_ex4.png",epilogue1:"./image/production/epilogue1.png",epilogue2:"./image/production/epilogue2.png",epilogue3:"./image/production/epilogue3.jpg"}),n.sounds={forbidden:{path:"./sound/forbidden",volume:.8},select:{path:"./sound/select",volume:.8},boss_powerup:{path:"./sound/boss_powerup",volume:.5},dead:{path:"./sound/dead",volume:.5},got_item_ohuda:{path:"./sound/got_item_ohuda",volume:.8},got_item_ribon:{path:"./sound/got_item_ribon",volume:.8},stage_result1:{path:"./sound/stage_result1",volume:1},drop:{path:"./sound/drop",volume:.5},stage_result2:{path:"./sound/stage_result2",volume:1}},n.bgms={title:{path:"./bgm/trial/title",loopStart:10.312,loopEnd:51.562,title:"永夜抄 ～ Eastern Night.",message:"チップチューンだけど、チップチューンっぽくない感じのアレンジね。\n曲制作者もうまく出来たって言ってるわ。",is_normal:!1,is_ex:!1},reminiscence:{path:"./bgm/trial/reminiscence",loopStart:13.22,loopEnd:82.373,title:"無何有の郷",message:"ほのぼのとした思い出のイメージの曲ね。\nのんびりとしていて、それでいてちょっと哀愁も含んだアレンジよね。",is_normal:!1,is_ex:!1},prologue:{path:"./bgm/trial/prologue",loopStart:0,loopEnd:52.881,title:"おてんば恋娘",message:"おてんば恋娘のちょっとアホっぽくて、何か抜けてる感じのあるアレンジね。",is_normal:!1,is_ex:!1},stage_a:{path:"./bgm/trial/stage_a",loopStart:29.143,loopEnd:111.429,title:"春色小径",message:"ステージ曲その1よ。勢いがそこそこあって、\n異変解決するぞ！的な感じが垣間見える曲ね。",is_normal:!1,is_ex:!1},stage_b:{path:"./bgm/trial/stage_b",loopStart:0,loopEnd:82.5,title:"少女綺想曲",message:"ステージ曲その2よ。ゆったりとして、徐々に不穏な感じが少しづつ出てきているわ。",is_normal:!1,is_ex:!1}},r.TRIAL||Object.assign(n.bgms,{stage_c:{path:"./bgm/production/stage_c",loopStart:14.746,loopEnd:113.898,title:"夜が降りてくる",message:"ステージ曲その3よ。かなりゆったりとして、不穏な感じがとても強い曲ね。",is_normal:!1,is_ex:!1},stage_d:{path:"./bgm/production/stage_d",loopStart:29.189,loopEnd:107.027,title:"二色蓮花蝶",message:"ラストバトルにふさわしい、かなり勢いのあるアレンジね。\nパズルゲームっぽくないけれど、緊迫した感じがあるわ。",is_normal:!0,is_ex:!1},stage_e:{path:"./bgm/production/stage_e",loopStart:0,loopEnd:157.297,title:"ネクロファンタジア",message:"こっちも、ネクロファンタジア同様、ラストバトルにふさわしい感じのアレンジね。\n紫を救いたい気持ちが曲に現れていると思うわ。",is_normal:!0,is_ex:!1},title_without_yukari:{path:"./bgm/production/title_without_yukari",loopStart:0,loopEnd:51.562,title:"永夜抄 ～ Eastern Night.",message:"退廃的な感じの曲ね。",is_normal:!0,is_ex:!1},after_ex:{path:"./bgm/production/after_ex",loopStart:0,loopEnd:69.153,title:"Eternal Dream",message:"別れの悲しい感じが出てるアレンジね。\nとにかく悲しくなるように、かなり音数を絞ったんですって。",is_normal:!1,is_ex:!0},staffroll:{path:"./bgm/production/staffroll",loopStart:8.727,loopEnd:64.364,title:"月見草",message:"めでたしめでたしじゃないエンディング曲ね。後味が悪い暗い感じにしようと思ったら\n思ったより暗くならなかったらしいわ。",is_normal:!1,is_ex:!0},epilogue:{path:"./bgm/production/epilogue",loopStart:19.831,loopEnd:68.664,title:"紅より儚い永遠",message:"すごくハッピーエンドな曲ね。落ち着いためでたしめでたしな感じだわ。\n曲制作者曰く「やっぱり、ゆかれいむはハッピーエンドが似合いますね」ですって。",is_normal:!1,is_ex:!0}}),e.exports=n},{"./constant":2}],2:[function(t,e,i){"use strict";var r=t("./debug_constant"),n={DEBUG:{},TRIAL:!1,TRIAL_LAST_STAGE_NO:10,MAX_SCORE:3,EX_STORY_START_STAGE_NO:31,TILE_SIZE:24,STAGE_OFFSET_X:25,STAGE_OFFSET_Y:50,STAGE_TILE_X_NUM:30,STAGE_TILE_Y_NUM:20,BLOCK_GREEN:1,BLOCK_BLUE:2,BLOCK_RED:3,BLOCK_PURPLE:4,BLOCK_DISAPPEAR:5,LADDER:6,PLAYER:7,ENEMY:8,ITEM_FOR_REIMU:9,DEATH:10,BLOCK_STONE1:11,BLOCK_STONE2:12,BLOCK_STONE3:13,ITEM_FOR_YUKARI:14,ITEM_OF_EXCHANGE:15,ENEMY_VERTICAL:16,ALTEREGO:17,STATE_NORMAL:1,STATE_CLIMBDOWN:2,STATE_DYING:3,STATE_EXCHANGE:4,STATE_FALLDOWN:5,STATE_MOVELEFT:6,STATE_MOVERIGHT:7,REIMU_NO:1,YUKARI_NO:2,EX_REIMU_NO:3};n.RENDER_SORT=[n.BLOCK_GREEN,n.BLOCK_BLUE,n.BLOCK_RED,n.BLOCK_PURPLE,n.BLOCK_DISAPPEAR,n.BLOCK_STONE1,n.BLOCK_STONE2,n.BLOCK_STONE3,n.DEATH,n.LADDER,n.ENEMY,n.ENEMY_VERTICAL,n.PLAYER,n.ITEM_FOR_REIMU,n.ITEM_FOR_YUKARI,n.ITEM_OF_EXCHANGE],r.ON&&(n.DEBUG=r),e.exports=n},{"./debug_constant":3}],3:[function(t,e,i){"use strict";var r={ON:!1,SOUND_OFF:!0,START_STAGE_NO:15,START_SCENE:"stage"};e.exports=r},{}],4:[function(t,e,i){"use strict";var r=t("./hakurei").core,n=t("./hakurei").util,o=t("./constant"),a=t("./storage/story"),s=60,u=30,c=1e3/s,l=t("./scene/00_loading"),h=t("./scene/01_title"),p=t("./scene/02_reminiscence"),f=t("./scene/03_logo"),_=t("./scene/04_prologue"),g=t("./scene/05_stage"),m=t("./scene/06_after_normal"),d=t("./scene/07_ex_epigraph"),y=t("./scene/08_ex_prologue"),x=t("./scene/09_after_ex"),b=t("./scene/10_staffroll"),S=t("./scene/11_epilogue"),v=t("./scene/music"),M=t("./scene/howto"),E=t("./scene/select"),I=function(t){r.apply(this,arguments)};n.inherit(I,r),I.prototype.init=function(){r.prototype.init.apply(this,arguments),this.before_update_time=0,this.before_time=0,this.fps=0,this.storage_story=a.load(),this.addScene("loading",new l(this)),this.addScene("title",new h(this)),this.addScene("select",new E(this)),this.addScene("reminiscence",new p(this)),this.addScene("logo",new f(this)),this.addScene("prologue",new _(this)),this.addScene("stage",new g(this)),this.addScene("after_normal",new m(this)),this.addScene("ex_epigraph",new d(this)),this.addScene("ex_prologue",new y(this)),this.addScene("after_ex",new x(this)),this.addScene("staffroll",new b(this)),this.addScene("epilogue",new S(this)),this.addScene("music",new v(this)),this.addScene("howto",new M(this)),this.changeScene("loading")},I.prototype.isKeyLongDown=function(t){var e=this.getKeyDownTime(t);return e>30&&e%5===0?!0:!1},I.prototype.isKeyPushOrLongDown=function(t){return this.isKeyPush(t)||this.isKeyLongDown(t)},I.prototype.playSound=function(){return o.DEBUG.SOUND_OFF?void 0:this.audio_loader.playSound.apply(this.audio_loader,arguments)},I.prototype.playBGM=function(){return o.DEBUG.SOUND_OFF?void 0:this.audio_loader.playBGM.apply(this.audio_loader,arguments)},I.prototype.changeBGM=function(){return o.DEBUG.SOUND_OFF?void 0:this.audio_loader.changeBGM.apply(this.audio_loader,arguments)},I.prototype.stopBGM=function(){return o.DEBUG.SOUND_OFF?void 0:this.audio_loader.stopBGM.apply(this.audio_loader,arguments)},I.prototype.clearStageForDebug=function(){this.currentScene()instanceof g&&this.currentScene().clearStageForDebug()},I.prototype.run=function(){var t=this.currentScene();if(t&&t.update)r.prototype.run.apply(this,arguments);else{this.input_manager.beforeRun(),this.changeNextSceneIfReserved(),this.audio_loader.executePlaySound();var t=this.currentScene();t&&(t.beforeDraw(),this.clearCanvas(),t.draw(),o.DEBUG.ON&&this._renderFPS(),t.afterDraw()),this.frame_count++,this.input_manager.afterRun(),this._requestAnimationFrame()}},I.prototype._requestAnimationFrame=function(){var t=Date.now();if(t-this.before_update_time>=c)this.before_update_time=t,this.request_id=requestAnimationFrame(this.run.bind(this));else{var e=this;setTimeout(function(){e.isRunning()&&(e.before_update_time=Date.now(),e.request_id=requestAnimationFrame(e.run.bind(e)))},this.before_update_time+c-t)}},I.prototype._renderFPS=function(){var t=this.ctx;if(t.save(),t.fillStyle="rgb( 6, 40, 255 )",t.textAlign="left",t.font="16px 'Migu'",t.fillText("FPS: "+this.fps,10,20),t.restore(),this.frame_count%u===0){var e=Date.now();this.before_time&&(this.fps=parseInt(1e3*u/(e-this.before_time))),this.before_time=e}},I.prototype.setupDebug=function(t){o.DEBUG.ON&&(this.debug_manager.setOn(t),this.debug_manager.addMenuText("Zキーで決定。Xキーで位置入れ替え。矢印キーで移動。\nステージ上のアイテムを全て獲得するとクリア"),this.debug_manager.addMenuButton("Run",function(t){t.startRun()}),this.debug_manager.addMenuButton("Stop",function(t){t.stopRun()}),this.debug_manager.addMenuButton("最大化",function(t){t.fullscreen()}),this.debug_manager.addMenuButton("現在のステージをクリア",function(t){t.clearStageForDebug()}),this.debug_manager.addMenuButton("セーブクリア",function(t){t.storage_story.del()}),this.debug_manager.addMenuButton("通常ストーリークリア",function(t){t.storage_story.clearNormalStageForDebug()}),this.debug_manager.addMenuButton("Ex ストーリークリア",function(t){t.storage_story.clearExStageForDebug()}))},e.exports=I},{"./constant":2,"./hakurei":5,"./scene/00_loading":166,"./scene/01_title":167,"./scene/02_reminiscence":168,"./scene/03_logo":169,"./scene/04_prologue":170,"./scene/05_stage":171,"./scene/06_after_normal":172,"./scene/07_ex_epigraph":173,"./scene/08_ex_prologue":174,"./scene/09_after_ex":175,"./scene/10_staffroll":176,"./scene/11_epilogue":177,"./scene/howto":178,"./scene/music":219,"./scene/select":220,"./storage/story":230}],5:[function(t,e,i){"use strict";e.exports=t("./hakureijs/index")},{"./hakureijs/index":13}],6:[function(t,e,i){"use strict";var r=function(){this.sounds={},this.bgms={},this.loading_audio_num=0,this.loaded_audio_num=0,this.id=0,this.soundflag=0,this.audio_context=null,window&&window.AudioContext&&(this.audio_context=new window.AudioContext,this.audio_context.createGain=this.audio_context.createGain||this.audio_context.createGainNode),this._playing_bgm_name=null,this.audio_source=null};r.prototype.init=function(){this.sounds={},this.bgms={},this.loading_audio_num=0,this.loaded_audio_num=0,this.id=0,this.soundflag=0,this._playing_bgm_name=null,this.audio_source=null},r.prototype.loadSound=function(t,e,i){var r=this;r.loading_audio_num++,i||(i=1);var n=function(){r.loaded_audio_num++},o=new Audio(e);o.volume=i,o.addEventListener("canplay",n),o.load(),r.sounds[t]={id:1<<r.id++,audio:o}},r.prototype.loadBGM=function(t,e,i,r,n){var o=this;o.loading_audio_num++;var a=function(e){o.loaded_audio_num++,o.bgms[t]={audio:e,volume:i,loopStart:r,loopEnd:n}},s=function(t){throw t instanceof Error?new Error(t.message):t},u=new XMLHttpRequest;u.onload=function(){if(200===u.status){var t=u.response;o.audio_context.decodeAudioData(t,a,s)}},u.open("GET",e,!0),u.responseType="arraybuffer",u.send(null)},r.prototype.isAllLoaded=function(){return this.loaded_audio_num===this.loading_audio_num},r.prototype.playSound=function(t){this.soundflag|=this.sounds[t].id},r.prototype.executePlaySound=function(){for(var t in this.sounds)this.soundflag&this.sounds[t].id&&(this.sounds[t].audio.pause(),this.sounds[t].audio.currentTime=0,this.sounds[t].audio.play(),this.soundflag&=~this.sounds[t].id)},r.prototype.playBGM=function(t){var e=this;e.stopBGM(),e._playing_bgm_name=t,e.audio_source=e._createSourceNode(t),e.audio_source.start(0)},r.prototype.changeBGM=function(t){this._playing_bgm_name!==t&&this.playBGM(t)},r.prototype.stopBGM=function(){var t=this;t.isPlayingBGM()&&(t.audio_source.stop(0),t.audio_source=null,t._playing_bgm_name=null)},r.prototype.isPlayingBGM=function(t){return"undefined"==typeof t?this.audio_source?!0:!1:this._playing_bgm_name===t?!0:!1},r.prototype.currentPlayingBGM=function(){return this._playing_bgm_name},r.prototype._createSourceNode=function(t){var e=this,i=e.bgms[t],r=e.audio_context.createBufferSource();r.buffer=i.audio,(i.loopStart||i.loopEnd)&&(r.loop=!0),i.loopStart&&(r.loopStart=i.loopStart),i.loopEnd&&(r.loopEnd=i.loopEnd);var n=this.audio_context.createGain();return n.gain.value=i.volume||1,r.connect(n),n.connect(e.audio_context.destination),r.start=r.start||r.noteOn,r.stop=r.stop||r.noteOff,r},r.prototype.progress=function(){return this.loaded_audio_num/this.loading_audio_num},e.exports=r},{}],7:[function(t,e,i){"use strict";var r=function(){this.is_done=!1};r.prototype.init=function(){this.is_done=!1},r.prototype.isAllLoaded=function(){return this.is_done},r.prototype.notifyLoadingDone=function(){this.is_done=!0},r.prototype.progress=function(){return this.is_done?1:0},e.exports=r},{}],8:[function(t,e,i){"use strict";var r=function(){this.images={},this.loading_image_num=0,this.loaded_image_num=0};r.prototype.init=function(){for(var t in this.images)this.images[t].src="";this.images={},this.loading_image_num=0,this.loaded_image_num=0},r.prototype.loadImage=function(t,e){var i=this;i.loading_image_num++;var r=function(){i.loaded_image_num++},n=new Image;n.src=e,n.onload=r,this.images[t]=n},r.prototype.isAllLoaded=function(){return this.loaded_image_num===this.loading_image_num},r.prototype.getImage=function(t){return this.images[t]},r.prototype.progress=function(){return this.loaded_image_num/this.loading_image_num},e.exports=r},{}],9:[function(t,e,i){"use strict";var r={BUTTON_LEFT:1,BUTTON_UP:2,BUTTON_RIGHT:4,BUTTON_DOWN:8,BUTTON_Z:16,BUTTON_X:32,BUTTON_SHIFT:64,BUTTON_SPACE:128};e.exports=r},{}],10:[function(t,e,i){"use strict";var r={SPRITE3D:{}};r.SPRITE3D.V_ITEM_SIZE=3,r.SPRITE3D.V_ITEM_NUM=4,r.SPRITE3D.V_SIZE=r.SPRITE3D.V_ITEM_SIZE*r.SPRITE3D.V_ITEM_NUM,r.SPRITE3D.C_ITEM_SIZE=2,r.SPRITE3D.C_ITEM_NUM=4,r.SPRITE3D.C_SIZE=r.SPRITE3D.C_ITEM_SIZE*r.SPRITE3D.C_ITEM_NUM,r.SPRITE3D.I_ITEM_SIZE=1,r.SPRITE3D.I_ITEM_NUM=6,r.SPRITE3D.I_SIZE=r.SPRITE3D.I_ITEM_SIZE*r.SPRITE3D.I_ITEM_NUM,r.SPRITE3D.A_ITEM_SIZE=4,r.SPRITE3D.A_ITEM_NUM=4,r.SPRITE3D.A_SIZE=r.SPRITE3D.A_ITEM_SIZE*r.SPRITE3D.A_ITEM_NUM,e.exports=r},{}],11:[function(t,e,i){"use strict";var r=t("webgl-debug"),n=(t("./constant"),t("./debug_manager")),o=t("./input_manager"),a=t("./asset_loader/image"),s=t("./asset_loader/audio"),u=t("./asset_loader/font"),c=t("./scene/loading"),l=t("./shader_program"),h=t("./shader/main.vs"),p=t("./shader/main.fs"),f=function(t,e){e||(e={}),this.canvas_dom=t,this.ctx=null,this.gl=null,e.webgl?(this.gl=this.createWebGLContext(this.canvas_dom),this.sprite_3d_shader=new l(this.gl,h,p,["aTextureCoordinates","aVertexPosition","aColor"],["uMVMatrix","uPMatrix","uSampler"])):this.ctx=this.canvas_dom.getContext("2d"),this.debug_manager=new n(this),this.input_manager=new o,this.width=Number(t.getAttribute("width")),this.height=Number(t.getAttribute("height")),this.current_scene=null,this._reserved_next_scene=null,this.scenes={},this.frame_count=0,this.request_id=null,this.image_loader=new a,this.audio_loader=new s,this.font_loader=new u};f.prototype.init=function(){this.current_scene=null,this._reserved_next_scene=null,this.frame_count=0,this.request_id=null,this.input_manager.init(),this.image_loader.init(),this.audio_loader.init(),this.font_loader.init(),this.addScene("loading",new c(this))},f.prototype.isRunning=function(){return this.request_id?!0:!1},f.prototype.startRun=function(){this.isRunning()||this.run()},f.prototype.stopRun=function(){this.isRunning()&&(cancelAnimationFrame(this.request_id),this.request_id=null)},f.prototype.run=function(){this.input_manager.beforeRun(),this.changeNextSceneIfReserved(),this.audio_loader.executePlaySound();var t=this.currentScene();t&&(t.beforeDraw(),this.clearCanvas(),t.draw(),t.afterDraw()),this.frame_count++,this.input_manager.afterRun(),this.request_id=requestAnimationFrame(this.run.bind(this))},f.prototype.currentScene=function(){return null!==this.current_scene?this.scenes[this.current_scene]:void 0},f.prototype.addScene=function(t,e){this.scenes[t]=e},f.prototype.changeScene=function(){var t=Array.prototype.slice.call(arguments);this._reserved_next_scene=t},f.prototype.changeNextSceneIfReserved=function(){if(this._reserved_next_scene)if(this.currentScene()&&this.currentScene().isSetFadeOut()&&!this.currentScene().isInFadeOut())this.currentScene().startFadeOut();else if(this.currentScene()&&this.currentScene().isSetFadeOut()&&this.currentScene().isInFadeOut());else{this.current_scene=this._reserved_next_scene.shift();var t=this.currentScene();t.init.apply(t,this._reserved_next_scene),this._reserved_next_scene=null}},f.prototype.changeSceneWithLoading=function(t,e){e||(e={}),this.changeScene("loading",e,t)},f.prototype.clearCanvas=function(){this.is2D()?this.ctx.clearRect(0,0,this.width,this.height):this.is3D()&&(this.gl.clearColor(0,0,0,0),this.gl.clearDepth(1),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT))},f.prototype.is2D=function(){return this.ctx?!0:!1},f.prototype.is3D=function(){return this.gl?!0:!1},f.prototype.isKeyDown=function(t){return this.input_manager.isKeyDown(t)},f.prototype.isKeyPush=function(t){return this.input_manager.isKeyPush(t)},f.prototype.getKeyDownTime=function(t){return this.input_manager.getKeyDownTime(t)},f.prototype.isLeftClickDown=function(){return this.input_manager.isLeftClickDown()},f.prototype.isLeftClickPush=function(){return this.input_manager.isLeftClickPush()},f.prototype.isRightClickDown=function(){return this.input_manager.isRightClickDown()},f.prototype.isRightClickPush=function(){return this.input_manager.isRightClickPush()},f.prototype.mousePositionX=function(){return this.input_manager.mousePositionX()},f.prototype.mousePositionY=function(){return this.input_manager.mousePositionX()},f.prototype.mouseMoveX=function(){return this.input_manager.mouseMoveX()},f.prototype.mouseMoveY=function(){return this.input_manager.mouseMoveY()},f.prototype.mouseScroll=function(){return this.input_manager.mouseScroll()},f.prototype.fullscreen=function(){var t=this.canvas_dom;t.requestFullscreen?t.requestFullscreen():t.msRequestuestFullscreen?t.msRequestuestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()},f.prototype.fontLoadingDone=function(){this.font_loader.notifyLoadingDone()},f.prototype.setupEvents=function(){if(window){var t=this;window.AudioContext=function(){return window.AudioContext||window.webkitAudioContext}(),window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),window.document&&window.document.fonts&&!navigator.userAgent.toLowerCase().indexOf("safari")?window.document.fonts.addEventListener("loadingdone",function(){t.fontLoadingDone()}):t.fontLoadingDone(),this.input_manager.setupEvents(this.canvas_dom)}},f.prototype.createWebGLContext=function(t){var e;try{e=t.getContext("webgl")||t.getContext("experimental-webgl"),e=r.makeDebugContext(e)}catch(i){throw i}if(!e)throw new Error("Could not initialize WebGL");return e},e.exports=f},{"./asset_loader/audio":6,"./asset_loader/font":7,"./asset_loader/image":8,"./constant":9,"./debug_manager":12,"./input_manager":14,"./scene/loading":32,"./shader/main.fs":34,"./shader/main.vs":35,"./shader_program":36,"webgl-debug":25}],12:[function(t,e,i){"use strict";var r=function(t){this.core=t,this.dom=null,this.is_debug_mode=!1};r.prototype.setOn=function(t){this.is_debug_mode=!0,this.dom=t},r.prototype.setOff=function(){this.is_debug_mode=!1,this.dom=null},r.prototype.addMenuText=function(t){if(this.is_debug_mode){var e=window.document.createElement("pre");e.textContent=t,this.dom.appendChild(e)}},r.prototype.addMenuButton=function(t,e){if(this.is_debug_mode){var i=this.core,r=window.document.createElement("input");r.setAttribute("type","button"),r.setAttribute("value",t),r.onclick=function(){e(i)},this.dom.appendChild(r)}},e.exports=r},{}],13:[function(t,e,i){"use strict";e.exports={util:t("./util"),core:t("./core"),constant:t("./constant"),serif_manager:t("./serif_manager"),shader_program:t("./shader_program"),scene:{base:t("./scene/base"),loading:t("./scene/loading")},object:{base:t("./object/base"),sprite:t("./object/sprite"),sprite3d:t("./object/sprite3d"),pool_manager:t("./object/pool_manager"),pool_manager3d:t("./object/pool_manager3d")},asset_loader:{image:t("./asset_loader/image"),audio:t("./asset_loader/audio"),font:t("./asset_loader/font")},storage:{base:t("./storage/base"),save:t("./storage/save")}}},{"./asset_loader/audio":6,"./asset_loader/font":7,"./asset_loader/image":8,"./constant":9,"./core":11,"./object/base":26,"./object/pool_manager":27,"./object/pool_manager3d":28,"./object/sprite":29,"./object/sprite3d":30,"./scene/base":31,"./scene/loading":32,"./serif_manager":33,"./shader_program":36,"./storage/base":37,"./storage/save":38,"./util":39}],14:[function(t,e,i){"use strict";var r=t("./constant"),n=t("./util"),o={0:r.BUTTON_Z,1:r.BUTTON_X,2:r.BUTTON_SPACE,3:r.BUTTON_SHIFT},a=function(){this.current_keyflag=0,this.before_keyflag=0,this._key_bit_code_to_down_time={},this._button_id_to_key_bit_code=n.shallowCopyHash(o),this.is_left_clicked=!1,this.is_right_clicked=!1,this.before_is_left_clicked=!1,this.before_is_right_clicked=!1,this.mouse_change_x=0,this.mouse_change_y=0,this.mouse_x=0,this.mouse_y=0,this.mouse_scroll=0,this.is_connect_gamepad=!1};a.prototype.init=function(){this.current_keyflag=0,this.before_keyflag=0,this.initPressedKeyTime(),this._button_id_to_key_bit_code=n.shallowCopyHash(o),this.is_left_clicked=!1,this.is_right_clicked=!1,this.before_is_left_clicked=!1,this.before_is_right_clicked=!1,this.mouse_change_x=0,this.mouse_change_y=0,this.mouse_x=0,this.mouse_y=0,this.mouse_scroll=0,this.is_connect_gamepad=!1},a.prototype.enableGamePad=function(){this.is_connect_gamepad=!0},a.prototype.beforeRun=function(){this.handleGamePad(),this.handlePressedKeyTime()},a.prototype.afterRun=function(){this.before_keyflag=this.current_keyflag,this.before_is_left_clicked=this.is_left_clicked,this.before_is_right_clicked=this.is_right_clicked,this.mouse_scroll=0,this.mouse_change_x=0,this.mouse_change_y=0},a.prototype.handleKeyDown=function(t){this.current_keyflag|=this._keyCodeToBitCode(t.keyCode),t.preventDefault()},a.prototype.handleKeyUp=function(t){this.current_keyflag&=~this._keyCodeToBitCode(t.keyCode),t.preventDefault()},a.prototype.isKeyDown=function(t){return this.current_keyflag&t?!0:!1},a.prototype.isKeyPush=function(t){return!(this.before_keyflag&t)&&this.current_keyflag&t},a.prototype.getKeyDownTime=function(t){return this._key_bit_code_to_down_time[t]},a.prototype.handleMouseDown=function(t){"which"in t?(this.is_left_clicked=1===t.which,this.is_right_clicked=3===t.which):"button"in t&&(this.is_left_clicked=1===t.button,this.is_right_clicked=2===t.button),t.preventDefault()},a.prototype.handleMouseUp=function(t){"which"in t?(this.is_left_clicked=1===t.which?!1:this.is_left_clicked,this.is_right_clicked=3===t.which?!1:this.is_right_clicked):"button"in t&&(this.is_left_clicked=1===t.button?!1:this.is_left_clicked,this.is_right_clicked=2===t.button?!1:this.is_right_clicked),t.preventDefault()},a.prototype.isLeftClickDown=function(){return this.is_left_clicked},a.prototype.isLeftClickPush=function(){return this.is_left_clicked&&!this.before_is_left_clicked},a.prototype.isRightClickDown=function(){return this.is_right_clicked},a.prototype.isRightClickPush=function(){return this.is_right_clicked&&!this.before_is_right_clicked},a.prototype.handleMouseMove=function(t){t=t?t:window.event,t.preventDefault(),this.mouse_change_x=this.mouse_x-t.clientX,this.mouse_change_y=this.mouse_y-t.clientY,this.mouse_x=t.clientX,this.mouse_y=t.clientY},a.prototype.mousePositionX=function(){return this.mouse_x},a.prototype.mousePositionY=function(){return this.mouse_y},a.prototype.mouseMoveX=function(){return this.mouse_change_x},a.prototype.mouseMoveY=function(){return this.mouse_change_y},a.prototype.handleMouseWheel=function(t){this.mouse_scroll=t.detail?t.detail:-t.wheelDelta/120},a.prototype.mouseScroll=function(){return this.mouse_scroll},a.prototype._keyCodeToBitCode=function(t){var e;switch(t){case 16:e=r.BUTTON_SHIFT;break;case 32:e=r.BUTTON_SPACE;break;case 37:e=r.BUTTON_LEFT;break;case 38:e=r.BUTTON_UP;break;case 39:e=r.BUTTON_RIGHT;break;case 40:e=r.BUTTON_DOWN;break;case 88:e=r.BUTTON_X;break;case 90:e=r.BUTTON_Z}return e},a.prototype.handleGamePad=function(){if(this.is_connect_gamepad){var t=window.navigator.getGamepads(),e=t[0];if(e){for(var i=0,n=e.buttons.length;n>i;i++)i in this._button_id_to_key_bit_code&&(e.buttons[i].pressed?this.current_keyflag|=this.getKeyByButtonId(i):this.current_keyflag&=~this.getKeyByButtonId(i));e.axes[1]<-.5?this.current_keyflag|=r.BUTTON_UP:this.current_keyflag&=~r.BUTTON_UP,e.axes[1]>.5?this.current_keyflag|=r.BUTTON_DOWN:this.current_keyflag&=~r.BUTTON_DOWN,e.axes[0]<-.5?this.current_keyflag|=r.BUTTON_LEFT:this.current_keyflag&=~r.BUTTON_LEFT,e.axes[0]>.5?this.current_keyflag|=r.BUTTON_RIGHT:this.current_keyflag&=~r.BUTTON_RIGHT}}},a.prototype.initPressedKeyTime=function(){this._key_bit_code_to_down_time={};for(var t in r){var e=r[t];this._key_bit_code_to_down_time[e]=0}},a.prototype.handlePressedKeyTime=function(){for(var t in r){var e=r[t];this.isKeyDown(e)?this._key_bit_code_to_down_time[e]++:this._key_bit_code_to_down_time[e]=0}},a.prototype.setupEvents=function(t){var e=this;window.onkeydown=function(t){e.handleKeyDown(t)},window.onkeyup=function(t){e.handleKeyUp(t)},t.onmousedown=function(t){e.handleMouseDown(t)},t.onmouseup=function(t){e.handleMouseUp(t)},t.onmousemove=function(t){e.handleMouseMove(t)};var i=window.navi&&/Firefox/i.test(window.navigator.userAgent)?"DOMMouseScroll":"mousewheel";t.addEventListener&&t.addEventListener(i,function(t){var i=window.event||t;e.handleMouseWheel(i)},!1),window.Gamepad&&window.navigator&&window.navigator.getGamepads&&e.enableGamePad()},a.prototype.getKeyByButtonId=function(t){var e=this._button_id_to_key_bit_code[t];return e||(e=0),e},a.prototype.getAnyButtonId=function(){if(this.is_connect_gamepad){var t=window.navigator.getGamepads(),e=t[0];if(e)for(var i=0;i<e.buttons.length;i++)if(e.buttons[i].pressed)return i}},e.exports=a},{"./constant":9,"./util":39}],15:[function(t,e,i){i.glMatrix=t("./gl-matrix/common.js"),i.mat2=t("./gl-matrix/mat2.js"),i.mat2d=t("./gl-matrix/mat2d.js"),i.mat3=t("./gl-matrix/mat3.js"),i.mat4=t("./gl-matrix/mat4.js"),i.quat=t("./gl-matrix/quat.js"),i.vec2=t("./gl-matrix/vec2.js"),i.vec3=t("./gl-matrix/vec3.js"),i.vec4=t("./gl-matrix/vec4.js")},{"./gl-matrix/common.js":16,"./gl-matrix/mat2.js":17,"./gl-matrix/mat2d.js":18,"./gl-matrix/mat3.js":19,"./gl-matrix/mat4.js":20,"./gl-matrix/quat.js":21,"./gl-matrix/vec2.js":22,"./gl-matrix/vec3.js":23,"./gl-matrix/vec4.js":24}],16:[function(t,e,i){var r={};r.EPSILON=1e-6,r.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,r.RANDOM=Math.random,r.ENABLE_SIMD=!1,r.SIMD_AVAILABLE=r.ARRAY_TYPE===Float32Array&&"SIMD"in this,r.USE_SIMD=r.ENABLE_SIMD&&r.SIMD_AVAILABLE,r.setMatrixArrayType=function(t){r.ARRAY_TYPE=t};var n=Math.PI/180;r.toRadian=function(t){return t*n},r.equals=function(t,e){return Math.abs(t-e)<=r.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))},e.exports=r},{}],17:[function(t,e,i){var r=t("./common.js"),n={};n.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},n.clone=function(t){var e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},n.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},n.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},n.fromValues=function(t,e,i,n){var o=new r.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=i,o[3]=n,o},n.set=function(t,e,i,r,n){return t[0]=e,t[1]=i,t[2]=r,t[3]=n,t},n.transpose=function(t,e){if(t===e){var i=e[1];t[1]=e[2],t[2]=i}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},n.invert=function(t,e){var i=e[0],r=e[1],n=e[2],o=e[3],a=i*o-n*r;return a?(a=1/a,t[0]=o*a,t[1]=-r*a,t[2]=-n*a,t[3]=i*a,t):null},n.adjoint=function(t,e){var i=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=i,t},n.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},n.multiply=function(t,e,i){var r=e[0],n=e[1],o=e[2],a=e[3],s=i[0],u=i[1],c=i[2],l=i[3];return t[0]=r*s+o*u,t[1]=n*s+a*u,t[2]=r*c+o*l,t[3]=n*c+a*l,t},n.mul=n.multiply,n.rotate=function(t,e,i){var r=e[0],n=e[1],o=e[2],a=e[3],s=Math.sin(i),u=Math.cos(i);return t[0]=r*u+o*s,t[1]=n*u+a*s,t[2]=r*-s+o*u,t[3]=n*-s+a*u,t},n.scale=function(t,e,i){var r=e[0],n=e[1],o=e[2],a=e[3],s=i[0],u=i[1];return t[0]=r*s,t[1]=n*s,t[2]=o*u,t[3]=a*u,t},n.fromRotation=function(t,e){var i=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=i,t[2]=-i,t[3]=r,t},n.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t},n.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},n.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},n.LDU=function(t,e,i,r){return t[2]=r[2]/r[0],i[0]=r[0],i[1]=r[1],i[3]=r[3]-t[2]*i[1],[t,e,i]},n.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t},n.subtract=function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t},n.sub=n.subtract,n.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},n.equals=function(t,e){var i=t[0],n=t[1],o=t[2],a=t[3],s=e[0],u=e[1],c=e[2],l=e[3];return Math.abs(i-s)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(n-u)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(o-c)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(a-l)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(l))},n.multiplyScalar=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t},n.multiplyScalarAndAdd=function(t,e,i,r){return t[0]=e[0]+i[0]*r,t[1]=e[1]+i[1]*r,t[2]=e[2]+i[2]*r,t[3]=e[3]+i[3]*r,t},e.exports=n},{"./common.js":16}],18:[function(t,e,i){
var r=t("./common.js"),n={};n.create=function(){var t=new r.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},n.clone=function(t){var e=new r.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},n.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},n.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},n.fromValues=function(t,e,i,n,o,a){var s=new r.ARRAY_TYPE(6);return s[0]=t,s[1]=e,s[2]=i,s[3]=n,s[4]=o,s[5]=a,s},n.set=function(t,e,i,r,n,o,a){return t[0]=e,t[1]=i,t[2]=r,t[3]=n,t[4]=o,t[5]=a,t},n.invert=function(t,e){var i=e[0],r=e[1],n=e[2],o=e[3],a=e[4],s=e[5],u=i*o-r*n;return u?(u=1/u,t[0]=o*u,t[1]=-r*u,t[2]=-n*u,t[3]=i*u,t[4]=(n*s-o*a)*u,t[5]=(r*a-i*s)*u,t):null},n.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},n.multiply=function(t,e,i){var r=e[0],n=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=i[0],l=i[1],h=i[2],p=i[3],f=i[4],_=i[5];return t[0]=r*c+o*l,t[1]=n*c+a*l,t[2]=r*h+o*p,t[3]=n*h+a*p,t[4]=r*f+o*_+s,t[5]=n*f+a*_+u,t},n.mul=n.multiply,n.rotate=function(t,e,i){var r=e[0],n=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=Math.sin(i),l=Math.cos(i);return t[0]=r*l+o*c,t[1]=n*l+a*c,t[2]=r*-c+o*l,t[3]=n*-c+a*l,t[4]=s,t[5]=u,t},n.scale=function(t,e,i){var r=e[0],n=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=i[0],l=i[1];return t[0]=r*c,t[1]=n*c,t[2]=o*l,t[3]=a*l,t[4]=s,t[5]=u,t},n.translate=function(t,e,i){var r=e[0],n=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=i[0],l=i[1];return t[0]=r,t[1]=n,t[2]=o,t[3]=a,t[4]=r*c+o*l+s,t[5]=n*c+a*l+u,t},n.fromRotation=function(t,e){var i=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=i,t[2]=-i,t[3]=r,t[4]=0,t[5]=0,t},n.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t},n.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t},n.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},n.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},n.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t},n.subtract=function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t},n.sub=n.subtract,n.multiplyScalar=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t},n.multiplyScalarAndAdd=function(t,e,i,r){return t[0]=e[0]+i[0]*r,t[1]=e[1]+i[1]*r,t[2]=e[2]+i[2]*r,t[3]=e[3]+i[3]*r,t[4]=e[4]+i[4]*r,t[5]=e[5]+i[5]*r,t},n.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]},n.equals=function(t,e){var i=t[0],n=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=e[0],l=e[1],h=e[2],p=e[3],f=e[4],_=e[5];return Math.abs(i-c)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(n-l)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(o-h)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(a-p)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(s-f)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(f))&&Math.abs(u-_)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(_))},e.exports=n},{"./common.js":16}],19:[function(t,e,i){var r=t("./common.js"),n={};n.create=function(){var t=new r.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},n.clone=function(t){var e=new r.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},n.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},n.fromValues=function(t,e,i,n,o,a,s,u,c){var l=new r.ARRAY_TYPE(9);return l[0]=t,l[1]=e,l[2]=i,l[3]=n,l[4]=o,l[5]=a,l[6]=s,l[7]=u,l[8]=c,l},n.set=function(t,e,i,r,n,o,a,s,u,c){return t[0]=e,t[1]=i,t[2]=r,t[3]=n,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=c,t},n.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.transpose=function(t,e){if(t===e){var i=e[1],r=e[2],n=e[5];t[1]=e[3],t[2]=e[6],t[3]=i,t[5]=e[7],t[6]=r,t[7]=n}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},n.invert=function(t,e){var i=e[0],r=e[1],n=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],h=l*a-s*c,p=-l*o+s*u,f=c*o-a*u,_=i*h+r*p+n*f;return _?(_=1/_,t[0]=h*_,t[1]=(-l*r+n*c)*_,t[2]=(s*r-n*a)*_,t[3]=p*_,t[4]=(l*i-n*u)*_,t[5]=(-s*i+n*o)*_,t[6]=f*_,t[7]=(-c*i+r*u)*_,t[8]=(a*i-r*o)*_,t):null},n.adjoint=function(t,e){var i=e[0],r=e[1],n=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8];return t[0]=a*l-s*c,t[1]=n*c-r*l,t[2]=r*s-n*a,t[3]=s*u-o*l,t[4]=i*l-n*u,t[5]=n*o-i*s,t[6]=o*c-a*u,t[7]=r*u-i*c,t[8]=i*a-r*o,t},n.determinant=function(t){var e=t[0],i=t[1],r=t[2],n=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8];return e*(c*o-a*u)+i*(-c*n+a*s)+r*(u*n-o*s)},n.multiply=function(t,e,i){var r=e[0],n=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],p=i[0],f=i[1],_=i[2],g=i[3],m=i[4],d=i[5],y=i[6],x=i[7],b=i[8];return t[0]=p*r+f*a+_*c,t[1]=p*n+f*s+_*l,t[2]=p*o+f*u+_*h,t[3]=g*r+m*a+d*c,t[4]=g*n+m*s+d*l,t[5]=g*o+m*u+d*h,t[6]=y*r+x*a+b*c,t[7]=y*n+x*s+b*l,t[8]=y*o+x*u+b*h,t},n.mul=n.multiply,n.translate=function(t,e,i){var r=e[0],n=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],p=i[0],f=i[1];return t[0]=r,t[1]=n,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=p*r+f*a+c,t[7]=p*n+f*s+l,t[8]=p*o+f*u+h,t},n.rotate=function(t,e,i){var r=e[0],n=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],p=Math.sin(i),f=Math.cos(i);return t[0]=f*r+p*a,t[1]=f*n+p*s,t[2]=f*o+p*u,t[3]=f*a-p*r,t[4]=f*s-p*n,t[5]=f*u-p*o,t[6]=c,t[7]=l,t[8]=h,t},n.scale=function(t,e,i){var r=i[0],n=i[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=n*e[3],t[4]=n*e[4],t[5]=n*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},n.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},n.fromRotation=function(t,e){var i=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=i,t[2]=0,t[3]=-i,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},n.fromQuat=function(t,e){var i=e[0],r=e[1],n=e[2],o=e[3],a=i+i,s=r+r,u=n+n,c=i*a,l=r*a,h=r*s,p=n*a,f=n*s,_=n*u,g=o*a,m=o*s,d=o*u;return t[0]=1-h-_,t[3]=l-d,t[6]=p+m,t[1]=l+d,t[4]=1-c-_,t[7]=f-g,t[2]=p-m,t[5]=f+g,t[8]=1-c-h,t},n.normalFromMat4=function(t,e){var i=e[0],r=e[1],n=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],h=e[9],p=e[10],f=e[11],_=e[12],g=e[13],m=e[14],d=e[15],y=i*s-r*a,x=i*u-n*a,b=i*c-o*a,S=r*u-n*s,v=r*c-o*s,M=n*c-o*u,E=l*g-h*_,I=l*m-p*_,w=l*d-f*_,T=h*m-p*g,k=h*d-f*g,D=p*d-f*m,F=y*D-x*k+b*T+S*w-v*I+M*E;return F?(F=1/F,t[0]=(s*D-u*k+c*T)*F,t[1]=(u*w-a*D-c*I)*F,t[2]=(a*k-s*w+c*E)*F,t[3]=(n*k-r*D-o*T)*F,t[4]=(i*D-n*w+o*I)*F,t[5]=(r*w-i*k-o*E)*F,t[6]=(g*M-m*v+d*S)*F,t[7]=(m*b-_*M-d*x)*F,t[8]=(_*v-g*b+d*y)*F,t):null},n.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},n.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},n.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t[6]=e[6]+i[6],t[7]=e[7]+i[7],t[8]=e[8]+i[8],t},n.subtract=function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t[6]=e[6]-i[6],t[7]=e[7]-i[7],t[8]=e[8]-i[8],t},n.sub=n.subtract,n.multiplyScalar=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*i,t},n.multiplyScalarAndAdd=function(t,e,i,r){return t[0]=e[0]+i[0]*r,t[1]=e[1]+i[1]*r,t[2]=e[2]+i[2]*r,t[3]=e[3]+i[3]*r,t[4]=e[4]+i[4]*r,t[5]=e[5]+i[5]*r,t[6]=e[6]+i[6]*r,t[7]=e[7]+i[7]*r,t[8]=e[8]+i[8]*r,t},n.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},n.equals=function(t,e){var i=t[0],n=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],h=t[8],p=e[0],f=e[1],_=e[2],g=e[3],m=e[4],d=e[5],y=t[6],x=e[7],b=e[8];return Math.abs(i-p)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(n-f)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(o-_)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(_))&&Math.abs(a-g)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-m)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(u-d)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(d))&&Math.abs(c-y)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(l-x)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(x))&&Math.abs(h-b)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(b))},e.exports=n},{"./common.js":16}],20:[function(t,e,i){var r=t("./common.js"),n={scalar:{},SIMD:{}};n.create=function(){var t=new r.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.clone=function(t){var e=new r.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},n.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},n.fromValues=function(t,e,i,n,o,a,s,u,c,l,h,p,f,_,g,m){var d=new r.ARRAY_TYPE(16);return d[0]=t,d[1]=e,d[2]=i,d[3]=n,d[4]=o,d[5]=a,d[6]=s,d[7]=u,d[8]=c,d[9]=l,d[10]=h,d[11]=p,d[12]=f,d[13]=_,d[14]=g,d[15]=m,d},n.set=function(t,e,i,r,n,o,a,s,u,c,l,h,p,f,_,g,m){return t[0]=e,t[1]=i,t[2]=r,t[3]=n,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=c,t[9]=l,t[10]=h,t[11]=p,t[12]=f,t[13]=_,t[14]=g,t[15]=m,t},n.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.scalar.transpose=function(t,e){if(t===e){var i=e[1],r=e[2],n=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=i,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=n,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},n.SIMD.transpose=function(t,e){var i,r,n,o,a,s,u,c,l,h;return i=SIMD.Float32x4.load(e,0),r=SIMD.Float32x4.load(e,4),n=SIMD.Float32x4.load(e,8),o=SIMD.Float32x4.load(e,12),a=SIMD.Float32x4.shuffle(i,r,0,1,4,5),s=SIMD.Float32x4.shuffle(n,o,0,1,4,5),u=SIMD.Float32x4.shuffle(a,s,0,2,4,6),c=SIMD.Float32x4.shuffle(a,s,1,3,5,7),SIMD.Float32x4.store(t,0,u),SIMD.Float32x4.store(t,4,c),a=SIMD.Float32x4.shuffle(i,r,2,3,6,7),s=SIMD.Float32x4.shuffle(n,o,2,3,6,7),l=SIMD.Float32x4.shuffle(a,s,0,2,4,6),h=SIMD.Float32x4.shuffle(a,s,1,3,5,7),SIMD.Float32x4.store(t,8,l),SIMD.Float32x4.store(t,12,h),t},n.transpose=r.USE_SIMD?n.SIMD.transpose:n.scalar.transpose,n.scalar.invert=function(t,e){var i=e[0],r=e[1],n=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],h=e[9],p=e[10],f=e[11],_=e[12],g=e[13],m=e[14],d=e[15],y=i*s-r*a,x=i*u-n*a,b=i*c-o*a,S=r*u-n*s,v=r*c-o*s,M=n*c-o*u,E=l*g-h*_,I=l*m-p*_,w=l*d-f*_,T=h*m-p*g,k=h*d-f*g,D=p*d-f*m,F=y*D-x*k+b*T+S*w-v*I+M*E;return F?(F=1/F,t[0]=(s*D-u*k+c*T)*F,t[1]=(n*k-r*D-o*T)*F,t[2]=(g*M-m*v+d*S)*F,t[3]=(p*v-h*M-f*S)*F,t[4]=(u*w-a*D-c*I)*F,t[5]=(i*D-n*w+o*I)*F,t[6]=(m*b-_*M-d*x)*F,t[7]=(l*M-p*b+f*x)*F,t[8]=(a*k-s*w+c*E)*F,t[9]=(r*w-i*k-o*E)*F,t[10]=(_*v-g*b+d*y)*F,t[11]=(h*b-l*v-f*y)*F,t[12]=(s*I-a*T-u*E)*F,t[13]=(i*T-r*I+n*E)*F,t[14]=(g*x-_*S-m*y)*F,t[15]=(l*S-h*x+p*y)*F,t):null},n.SIMD.invert=function(t,e){var i,r,n,o,a,s,u,c,l,h,p=SIMD.Float32x4.load(e,0),f=SIMD.Float32x4.load(e,4),_=SIMD.Float32x4.load(e,8),g=SIMD.Float32x4.load(e,12);return a=SIMD.Float32x4.shuffle(p,f,0,1,4,5),r=SIMD.Float32x4.shuffle(_,g,0,1,4,5),i=SIMD.Float32x4.shuffle(a,r,0,2,4,6),r=SIMD.Float32x4.shuffle(r,a,1,3,5,7),a=SIMD.Float32x4.shuffle(p,f,2,3,6,7),o=SIMD.Float32x4.shuffle(_,g,2,3,6,7),n=SIMD.Float32x4.shuffle(a,o,0,2,4,6),o=SIMD.Float32x4.shuffle(o,a,1,3,5,7),a=SIMD.Float32x4.mul(n,o),a=SIMD.Float32x4.swizzle(a,1,0,3,2),s=SIMD.Float32x4.mul(r,a),u=SIMD.Float32x4.mul(i,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,a),s),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,a),u),u=SIMD.Float32x4.swizzle(u,2,3,0,1),a=SIMD.Float32x4.mul(r,n),a=SIMD.Float32x4.swizzle(a,1,0,3,2),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),s),l=SIMD.Float32x4.mul(i,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(o,a)),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,a),l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),a=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(r,2,3,0,1),o),a=SIMD.Float32x4.swizzle(a,1,0,3,2),n=SIMD.Float32x4.swizzle(n,2,3,0,1),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(n,a),s),c=SIMD.Float32x4.mul(i,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(n,a)),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,a),c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),a=SIMD.Float32x4.mul(i,r),a=SIMD.Float32x4.swizzle(a,1,0,3,2),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),c),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,a),l),a=SIMD.Float32x4.swizzle(a,2,3,0,1),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,a),c),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(n,a)),a=SIMD.Float32x4.mul(i,o),a=SIMD.Float32x4.swizzle(a,1,0,3,2),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(n,a)),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,a),c),a=SIMD.Float32x4.swizzle(a,2,3,0,1),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(n,a),u),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(r,a)),a=SIMD.Float32x4.mul(i,n),a=SIMD.Float32x4.swizzle(a,1,0,3,2),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),u),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(r,a)),a=SIMD.Float32x4.swizzle(a,2,3,0,1),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(o,a)),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,a),l),h=SIMD.Float32x4.mul(i,s),h=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(h,2,3,0,1),h),h=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(h,1,0,3,2),h),a=SIMD.Float32x4.reciprocalApproximation(h),h=SIMD.Float32x4.sub(SIMD.Float32x4.add(a,a),SIMD.Float32x4.mul(h,SIMD.Float32x4.mul(a,a))),(h=SIMD.Float32x4.swizzle(h,0,0,0,0))?(SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(h,s)),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(h,u)),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(h,c)),SIMD.Float32x4.store(t,12,SIMD.Float32x4.mul(h,l)),t):null},n.invert=r.USE_SIMD?n.SIMD.invert:n.scalar.invert,n.scalar.adjoint=function(t,e){var i=e[0],r=e[1],n=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],h=e[9],p=e[10],f=e[11],_=e[12],g=e[13],m=e[14],d=e[15];return t[0]=s*(p*d-f*m)-h*(u*d-c*m)+g*(u*f-c*p),t[1]=-(r*(p*d-f*m)-h*(n*d-o*m)+g*(n*f-o*p)),t[2]=r*(u*d-c*m)-s*(n*d-o*m)+g*(n*c-o*u),t[3]=-(r*(u*f-c*p)-s*(n*f-o*p)+h*(n*c-o*u)),t[4]=-(a*(p*d-f*m)-l*(u*d-c*m)+_*(u*f-c*p)),t[5]=i*(p*d-f*m)-l*(n*d-o*m)+_*(n*f-o*p),t[6]=-(i*(u*d-c*m)-a*(n*d-o*m)+_*(n*c-o*u)),t[7]=i*(u*f-c*p)-a*(n*f-o*p)+l*(n*c-o*u),t[8]=a*(h*d-f*g)-l*(s*d-c*g)+_*(s*f-c*h),t[9]=-(i*(h*d-f*g)-l*(r*d-o*g)+_*(r*f-o*h)),t[10]=i*(s*d-c*g)-a*(r*d-o*g)+_*(r*c-o*s),t[11]=-(i*(s*f-c*h)-a*(r*f-o*h)+l*(r*c-o*s)),t[12]=-(a*(h*m-p*g)-l*(s*m-u*g)+_*(s*p-u*h)),t[13]=i*(h*m-p*g)-l*(r*m-n*g)+_*(r*p-n*h),t[14]=-(i*(s*m-u*g)-a*(r*m-n*g)+_*(r*u-n*s)),t[15]=i*(s*p-u*h)-a*(r*p-n*h)+l*(r*u-n*s),t},n.SIMD.adjoint=function(t,e){var i,r,n,o,a,s,u,c,l,h,p,f,_,i=SIMD.Float32x4.load(e,0),r=SIMD.Float32x4.load(e,4),n=SIMD.Float32x4.load(e,8),o=SIMD.Float32x4.load(e,12);return l=SIMD.Float32x4.shuffle(i,r,0,1,4,5),s=SIMD.Float32x4.shuffle(n,o,0,1,4,5),a=SIMD.Float32x4.shuffle(l,s,0,2,4,6),s=SIMD.Float32x4.shuffle(s,l,1,3,5,7),l=SIMD.Float32x4.shuffle(i,r,2,3,6,7),c=SIMD.Float32x4.shuffle(n,o,2,3,6,7),u=SIMD.Float32x4.shuffle(l,c,0,2,4,6),c=SIMD.Float32x4.shuffle(c,l,1,3,5,7),l=SIMD.Float32x4.mul(u,c),l=SIMD.Float32x4.swizzle(l,1,0,3,2),h=SIMD.Float32x4.mul(s,l),p=SIMD.Float32x4.mul(a,l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(s,l),h),p=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,l),p),p=SIMD.Float32x4.swizzle(p,2,3,0,1),l=SIMD.Float32x4.mul(s,u),l=SIMD.Float32x4.swizzle(l,1,0,3,2),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(c,l),h),_=SIMD.Float32x4.mul(a,l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(c,l)),_=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,l),_),_=SIMD.Float32x4.swizzle(_,2,3,0,1),l=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,3,0,1),c),l=SIMD.Float32x4.swizzle(l,1,0,3,2),u=SIMD.Float32x4.swizzle(u,2,3,0,1),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,l),h),f=SIMD.Float32x4.mul(a,l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(u,l)),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,l),f),f=SIMD.Float32x4.swizzle(f,2,3,0,1),l=SIMD.Float32x4.mul(a,s),l=SIMD.Float32x4.swizzle(l,1,0,3,2),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(c,l),f),_=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,l),_),l=SIMD.Float32x4.swizzle(l,2,3,0,1),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(c,l),f),_=SIMD.Float32x4.sub(_,SIMD.Float32x4.mul(u,l)),l=SIMD.Float32x4.mul(a,c),l=SIMD.Float32x4.swizzle(l,1,0,3,2),p=SIMD.Float32x4.sub(p,SIMD.Float32x4.mul(u,l)),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,l),f),l=SIMD.Float32x4.swizzle(l,2,3,0,1),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,l),p),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(s,l)),l=SIMD.Float32x4.mul(a,u),l=SIMD.Float32x4.swizzle(l,1,0,3,2),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(c,l),p),_=SIMD.Float32x4.sub(_,SIMD.Float32x4.mul(s,l)),l=SIMD.Float32x4.swizzle(l,2,3,0,1),p=SIMD.Float32x4.sub(p,SIMD.Float32x4.mul(c,l)),_=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,l),_),SIMD.Float32x4.store(t,0,h),SIMD.Float32x4.store(t,4,p),SIMD.Float32x4.store(t,8,f),SIMD.Float32x4.store(t,12,_),t},n.adjoint=r.USE_SIMD?n.SIMD.adjoint:n.scalar.adjoint,n.determinant=function(t){var e=t[0],i=t[1],r=t[2],n=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8],l=t[9],h=t[10],p=t[11],f=t[12],_=t[13],g=t[14],m=t[15],d=e*a-i*o,y=e*s-r*o,x=e*u-n*o,b=i*s-r*a,S=i*u-n*a,v=r*u-n*s,M=c*_-l*f,E=c*g-h*f,I=c*m-p*f,w=l*g-h*_,T=l*m-p*_,k=h*m-p*g;return d*k-y*T+x*w+b*I-S*E+v*M},n.SIMD.multiply=function(t,e,i){var r=SIMD.Float32x4.load(e,0),n=SIMD.Float32x4.load(e,4),o=SIMD.Float32x4.load(e,8),a=SIMD.Float32x4.load(e,12),s=SIMD.Float32x4.load(i,0),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,1,1,1,1),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,3,3,3,3),a))));SIMD.Float32x4.store(t,0,u);var c=SIMD.Float32x4.load(i,4),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,1,1,1,1),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,3,3,3,3),a))));SIMD.Float32x4.store(t,4,l);var h=SIMD.Float32x4.load(i,8),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,1,1,1,1),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,3,3,3,3),a))));SIMD.Float32x4.store(t,8,p);var f=SIMD.Float32x4.load(i,12),_=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,1,1,1,1),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,3,3,3,3),a))));return SIMD.Float32x4.store(t,12,_),t},n.scalar.multiply=function(t,e,i){var r=e[0],n=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],p=e[9],f=e[10],_=e[11],g=e[12],m=e[13],d=e[14],y=e[15],x=i[0],b=i[1],S=i[2],v=i[3];return t[0]=x*r+b*s+S*h+v*g,t[1]=x*n+b*u+S*p+v*m,t[2]=x*o+b*c+S*f+v*d,t[3]=x*a+b*l+S*_+v*y,x=i[4],b=i[5],S=i[6],v=i[7],t[4]=x*r+b*s+S*h+v*g,t[5]=x*n+b*u+S*p+v*m,t[6]=x*o+b*c+S*f+v*d,t[7]=x*a+b*l+S*_+v*y,x=i[8],b=i[9],S=i[10],v=i[11],t[8]=x*r+b*s+S*h+v*g,t[9]=x*n+b*u+S*p+v*m,t[10]=x*o+b*c+S*f+v*d,t[11]=x*a+b*l+S*_+v*y,x=i[12],b=i[13],S=i[14],v=i[15],t[12]=x*r+b*s+S*h+v*g,t[13]=x*n+b*u+S*p+v*m,t[14]=x*o+b*c+S*f+v*d,t[15]=x*a+b*l+S*_+v*y,t},n.multiply=r.USE_SIMD?n.SIMD.multiply:n.scalar.multiply,n.mul=n.multiply,n.scalar.translate=function(t,e,i){var r,n,o,a,s,u,c,l,h,p,f,_,g=i[0],m=i[1],d=i[2];return e===t?(t[12]=e[0]*g+e[4]*m+e[8]*d+e[12],t[13]=e[1]*g+e[5]*m+e[9]*d+e[13],t[14]=e[2]*g+e[6]*m+e[10]*d+e[14],t[15]=e[3]*g+e[7]*m+e[11]*d+e[15]):(r=e[0],n=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],p=e[9],f=e[10],_=e[11],t[0]=r,t[1]=n,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=c,t[7]=l,t[8]=h,t[9]=p,t[10]=f,t[11]=_,t[12]=r*g+s*m+h*d+e[12],t[13]=n*g+u*m+p*d+e[13],t[14]=o*g+c*m+f*d+e[14],t[15]=a*g+l*m+_*d+e[15]),t},n.SIMD.translate=function(t,e,i){var r=SIMD.Float32x4.load(e,0),n=SIMD.Float32x4.load(e,4),o=SIMD.Float32x4.load(e,8),a=SIMD.Float32x4.load(e,12),s=SIMD.Float32x4(i[0],i[1],i[2],0);e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11]),r=SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(s,0,0,0,0)),n=SIMD.Float32x4.mul(n,SIMD.Float32x4.swizzle(s,1,1,1,1)),o=SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(s,2,2,2,2));var u=SIMD.Float32x4.add(r,SIMD.Float32x4.add(n,SIMD.Float32x4.add(o,a)));return SIMD.Float32x4.store(t,12,u),t},n.translate=r.USE_SIMD?n.SIMD.translate:n.scalar.translate,n.scalar.scale=function(t,e,i){var r=i[0],n=i[1],o=i[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},n.SIMD.scale=function(t,e,i){var r,n,o,a=SIMD.Float32x4(i[0],i[1],i[2],0);return r=SIMD.Float32x4.load(e,0),SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(a,0,0,0,0))),n=SIMD.Float32x4.load(e,4),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(n,SIMD.Float32x4.swizzle(a,1,1,1,1))),o=SIMD.Float32x4.load(e,8),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(a,2,2,2,2))),t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},n.scale=r.USE_SIMD?n.SIMD.scale:n.scalar.scale,n.rotate=function(t,e,i,n){var o,a,s,u,c,l,h,p,f,_,g,m,d,y,x,b,S,v,M,E,I,w,T,k,D=n[0],F=n[1],A=n[2],R=Math.sqrt(D*D+F*F+A*A);return Math.abs(R)<r.EPSILON?null:(R=1/R,D*=R,F*=R,A*=R,o=Math.sin(i),a=Math.cos(i),s=1-a,u=e[0],c=e[1],l=e[2],h=e[3],p=e[4],f=e[5],_=e[6],g=e[7],m=e[8],d=e[9],y=e[10],x=e[11],b=D*D*s+a,S=F*D*s+A*o,v=A*D*s-F*o,M=D*F*s-A*o,E=F*F*s+a,I=A*F*s+D*o,w=D*A*s+F*o,T=F*A*s-D*o,k=A*A*s+a,t[0]=u*b+p*S+m*v,t[1]=c*b+f*S+d*v,t[2]=l*b+_*S+y*v,t[3]=h*b+g*S+x*v,t[4]=u*M+p*E+m*I,t[5]=c*M+f*E+d*I,t[6]=l*M+_*E+y*I,t[7]=h*M+g*E+x*I,t[8]=u*w+p*T+m*k,t[9]=c*w+f*T+d*k,t[10]=l*w+_*T+y*k,t[11]=h*w+g*T+x*k,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},n.scalar.rotateX=function(t,e,i){var r=Math.sin(i),n=Math.cos(i),o=e[4],a=e[5],s=e[6],u=e[7],c=e[8],l=e[9],h=e[10],p=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*n+c*r,t[5]=a*n+l*r,t[6]=s*n+h*r,t[7]=u*n+p*r,t[8]=c*n-o*r,t[9]=l*n-a*r,t[10]=h*n-s*r,t[11]=p*n-u*r,t},n.SIMD.rotateX=function(t,e,i){var r=SIMD.Float32x4.splat(Math.sin(i)),n=SIMD.Float32x4.splat(Math.cos(i));e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,4),a=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,n),SIMD.Float32x4.mul(a,r))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,n),SIMD.Float32x4.mul(o,r))),t},n.rotateX=r.USE_SIMD?n.SIMD.rotateX:n.scalar.rotateX,n.scalar.rotateY=function(t,e,i){var r=Math.sin(i),n=Math.cos(i),o=e[0],a=e[1],s=e[2],u=e[3],c=e[8],l=e[9],h=e[10],p=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*n-c*r,t[1]=a*n-l*r,t[2]=s*n-h*r,t[3]=u*n-p*r,t[8]=o*r+c*n,t[9]=a*r+l*n,t[10]=s*r+h*n,t[11]=u*r+p*n,t},n.SIMD.rotateY=function(t,e,i){var r=SIMD.Float32x4.splat(Math.sin(i)),n=SIMD.Float32x4.splat(Math.cos(i));e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,0),a=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,n),SIMD.Float32x4.mul(a,r))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,r),SIMD.Float32x4.mul(a,n))),t},n.rotateY=r.USE_SIMD?n.SIMD.rotateY:n.scalar.rotateY,n.scalar.rotateZ=function(t,e,i){var r=Math.sin(i),n=Math.cos(i),o=e[0],a=e[1],s=e[2],u=e[3],c=e[4],l=e[5],h=e[6],p=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*n+c*r,t[1]=a*n+l*r,t[2]=s*n+h*r,t[3]=u*n+p*r,t[4]=c*n-o*r,t[5]=l*n-a*r,t[6]=h*n-s*r,t[7]=p*n-u*r,t},n.SIMD.rotateZ=function(t,e,i){var r=SIMD.Float32x4.splat(Math.sin(i)),n=SIMD.Float32x4.splat(Math.cos(i));e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,0),a=SIMD.Float32x4.load(e,4);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,n),SIMD.Float32x4.mul(a,r))),SIMD.Float32x4.store(t,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,n),SIMD.Float32x4.mul(o,r))),t},n.rotateZ=r.USE_SIMD?n.SIMD.rotateZ:n.scalar.rotateZ,n.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},n.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.fromRotation=function(t,e,i){var n,o,a,s=i[0],u=i[1],c=i[2],l=Math.sqrt(s*s+u*u+c*c);return Math.abs(l)<r.EPSILON?null:(l=1/l,s*=l,u*=l,c*=l,n=Math.sin(e),o=Math.cos(e),a=1-o,t[0]=s*s*a+o,t[1]=u*s*a+c*n,t[2]=c*s*a-u*n,t[3]=0,t[4]=s*u*a-c*n,t[5]=u*u*a+o,t[6]=c*u*a+s*n,t[7]=0,t[8]=s*c*a+u*n,t[9]=u*c*a-s*n,t[10]=c*c*a+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},n.fromXRotation=function(t,e){var i=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=i,t[7]=0,t[8]=0,t[9]=-i,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.fromYRotation=function(t,e){var i=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-i,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=i,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.fromZRotation=function(t,e){var i=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=i,t[2]=0,t[3]=0,t[4]=-i,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.fromRotationTranslation=function(t,e,i){var r=e[0],n=e[1],o=e[2],a=e[3],s=r+r,u=n+n,c=o+o,l=r*s,h=r*u,p=r*c,f=n*u,_=n*c,g=o*c,m=a*s,d=a*u,y=a*c;return t[0]=1-(f+g),t[1]=h+y,t[2]=p-d,t[3]=0,t[4]=h-y,t[5]=1-(l+g),t[6]=_+m,t[7]=0,t[8]=p+d,t[9]=_-m,t[10]=1-(l+f),t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t},n.getTranslation=function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},n.getRotation=function(t,e){var i=e[0]+e[5]+e[10],r=0;return i>0?(r=2*Math.sqrt(i+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t},n.fromRotationTranslationScale=function(t,e,i,r){var n=e[0],o=e[1],a=e[2],s=e[3],u=n+n,c=o+o,l=a+a,h=n*u,p=n*c,f=n*l,_=o*c,g=o*l,m=a*l,d=s*u,y=s*c,x=s*l,b=r[0],S=r[1],v=r[2];return t[0]=(1-(_+m))*b,t[1]=(p+x)*b,t[2]=(f-y)*b,t[3]=0,t[4]=(p-x)*S,t[5]=(1-(h+m))*S,t[6]=(g+d)*S,t[7]=0,t[8]=(f+y)*v,t[9]=(g-d)*v,t[10]=(1-(h+_))*v,t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t},n.fromRotationTranslationScaleOrigin=function(t,e,i,r,n){var o=e[0],a=e[1],s=e[2],u=e[3],c=o+o,l=a+a,h=s+s,p=o*c,f=o*l,_=o*h,g=a*l,m=a*h,d=s*h,y=u*c,x=u*l,b=u*h,S=r[0],v=r[1],M=r[2],E=n[0],I=n[1],w=n[2];return t[0]=(1-(g+d))*S,t[1]=(f+b)*S,t[2]=(_-x)*S,t[3]=0,t[4]=(f-b)*v,t[5]=(1-(p+d))*v,t[6]=(m+y)*v,t[7]=0,t[8]=(_+x)*M,t[9]=(m-y)*M,t[10]=(1-(p+g))*M,t[11]=0,t[12]=i[0]+E-(t[0]*E+t[4]*I+t[8]*w),t[13]=i[1]+I-(t[1]*E+t[5]*I+t[9]*w),t[14]=i[2]+w-(t[2]*E+t[6]*I+t[10]*w),t[15]=1,t},n.fromQuat=function(t,e){var i=e[0],r=e[1],n=e[2],o=e[3],a=i+i,s=r+r,u=n+n,c=i*a,l=r*a,h=r*s,p=n*a,f=n*s,_=n*u,g=o*a,m=o*s,d=o*u;return t[0]=1-h-_,t[1]=l+d,t[2]=p-m,t[3]=0,t[4]=l-d,t[5]=1-c-_,t[6]=f+g,t[7]=0,t[8]=p+m,t[9]=f-g,t[10]=1-c-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.frustum=function(t,e,i,r,n,o,a){var s=1/(i-e),u=1/(n-r),c=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*u,t[6]=0,t[7]=0,t[8]=(i+e)*s,t[9]=(n+r)*u,t[10]=(a+o)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*c,t[15]=0,t},n.perspective=function(t,e,i,r,n){var o=1/Math.tan(e/2),a=1/(r-n);return t[0]=o/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(n+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*n*r*a,t[15]=0,t},n.perspectiveFromFieldOfView=function(t,e,i,r){var n=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(a+s),c=2/(n+o);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-((a-s)*u*.5),t[9]=(n-o)*c*.5,t[10]=r/(i-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*i/(i-r),t[15]=0,t},n.ortho=function(t,e,i,r,n,o,a){var s=1/(e-i),u=1/(r-n),c=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+i)*s,t[13]=(n+r)*u,t[14]=(a+o)*c,t[15]=1,t},n.lookAt=function(t,e,i,o){var a,s,u,c,l,h,p,f,_,g,m=e[0],d=e[1],y=e[2],x=o[0],b=o[1],S=o[2],v=i[0],M=i[1],E=i[2];return Math.abs(m-v)<r.EPSILON&&Math.abs(d-M)<r.EPSILON&&Math.abs(y-E)<r.EPSILON?n.identity(t):(p=m-v,f=d-M,_=y-E,g=1/Math.sqrt(p*p+f*f+_*_),p*=g,f*=g,_*=g,a=b*_-S*f,s=S*p-x*_,u=x*f-b*p,g=Math.sqrt(a*a+s*s+u*u),g?(g=1/g,a*=g,s*=g,u*=g):(a=0,s=0,u=0),c=f*u-_*s,l=_*a-p*u,h=p*s-f*a,g=Math.sqrt(c*c+l*l+h*h),g?(g=1/g,c*=g,l*=g,h*=g):(c=0,l=0,h=0),t[0]=a,t[1]=c,t[2]=p,t[3]=0,t[4]=s,t[5]=l,t[6]=f,t[7]=0,t[8]=u,t[9]=h,t[10]=_,t[11]=0,t[12]=-(a*m+s*d+u*y),t[13]=-(c*m+l*d+h*y),t[14]=-(p*m+f*d+_*y),t[15]=1,t)},n.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},n.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},n.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t[6]=e[6]+i[6],t[7]=e[7]+i[7],t[8]=e[8]+i[8],t[9]=e[9]+i[9],t[10]=e[10]+i[10],t[11]=e[11]+i[11],t[12]=e[12]+i[12],t[13]=e[13]+i[13],t[14]=e[14]+i[14],t[15]=e[15]+i[15],t},n.subtract=function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t[6]=e[6]-i[6],t[7]=e[7]-i[7],t[8]=e[8]-i[8],t[9]=e[9]-i[9],t[10]=e[10]-i[10],t[11]=e[11]-i[11],t[12]=e[12]-i[12],t[13]=e[13]-i[13],t[14]=e[14]-i[14],t[15]=e[15]-i[15],t},n.sub=n.subtract,n.multiplyScalar=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,
t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12]*i,t[13]=e[13]*i,t[14]=e[14]*i,t[15]=e[15]*i,t},n.multiplyScalarAndAdd=function(t,e,i,r){return t[0]=e[0]+i[0]*r,t[1]=e[1]+i[1]*r,t[2]=e[2]+i[2]*r,t[3]=e[3]+i[3]*r,t[4]=e[4]+i[4]*r,t[5]=e[5]+i[5]*r,t[6]=e[6]+i[6]*r,t[7]=e[7]+i[7]*r,t[8]=e[8]+i[8]*r,t[9]=e[9]+i[9]*r,t[10]=e[10]+i[10]*r,t[11]=e[11]+i[11]*r,t[12]=e[12]+i[12]*r,t[13]=e[13]+i[13]*r,t[14]=e[14]+i[14]*r,t[15]=e[15]+i[15]*r,t},n.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},n.equals=function(t,e){var i=t[0],n=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],h=t[8],p=t[9],f=t[10],_=t[11],g=t[12],m=t[13],d=t[14],y=t[15],x=e[0],b=e[1],S=e[2],v=e[3],M=e[4],E=e[5],I=e[6],w=e[7],T=e[8],k=e[9],D=e[10],F=e[11],A=e[12],R=e[13],O=e[14],N=e[15];return Math.abs(i-x)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(n-b)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(o-S)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(S))&&Math.abs(a-v)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(s-M)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(M))&&Math.abs(u-E)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(E))&&Math.abs(c-I)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(I))&&Math.abs(l-w)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(w))&&Math.abs(h-T)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(T))&&Math.abs(p-k)<=r.EPSILON*Math.max(1,Math.abs(p),Math.abs(k))&&Math.abs(f-D)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(D))&&Math.abs(_-F)<=r.EPSILON*Math.max(1,Math.abs(_),Math.abs(F))&&Math.abs(g-A)<=r.EPSILON*Math.max(1,Math.abs(g),Math.abs(A))&&Math.abs(m-R)<=r.EPSILON*Math.max(1,Math.abs(m),Math.abs(R))&&Math.abs(d-O)<=r.EPSILON*Math.max(1,Math.abs(d),Math.abs(O))&&Math.abs(y-N)<=r.EPSILON*Math.max(1,Math.abs(y),Math.abs(N))},e.exports=n},{"./common.js":16}],21:[function(t,e,i){var r=t("./common.js"),n=t("./mat3.js"),o=t("./vec3.js"),a=t("./vec4.js"),s={};s.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},s.rotationTo=function(){var t=o.create(),e=o.fromValues(1,0,0),i=o.fromValues(0,1,0);return function(r,n,a){var u=o.dot(n,a);return-.999999>u?(o.cross(t,e,n),o.length(t)<1e-6&&o.cross(t,i,n),o.normalize(t,t),s.setAxisAngle(r,t,Math.PI),r):u>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(o.cross(t,n,a),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+u,s.normalize(r,r))}}(),s.setAxes=function(){var t=n.create();return function(e,i,r,n){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=n[0],t[4]=n[1],t[7]=n[2],t[2]=-i[0],t[5]=-i[1],t[8]=-i[2],s.normalize(e,s.fromMat3(e,t))}}(),s.clone=a.clone,s.fromValues=a.fromValues,s.copy=a.copy,s.set=a.set,s.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},s.setAxisAngle=function(t,e,i){i=.5*i;var r=Math.sin(i);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(i),t},s.getAxisAngle=function(t,e){var i=2*Math.acos(e[3]),r=Math.sin(i/2);return 0!=r?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),i},s.add=a.add,s.multiply=function(t,e,i){var r=e[0],n=e[1],o=e[2],a=e[3],s=i[0],u=i[1],c=i[2],l=i[3];return t[0]=r*l+a*s+n*c-o*u,t[1]=n*l+a*u+o*s-r*c,t[2]=o*l+a*c+r*u-n*s,t[3]=a*l-r*s-n*u-o*c,t},s.mul=s.multiply,s.scale=a.scale,s.rotateX=function(t,e,i){i*=.5;var r=e[0],n=e[1],o=e[2],a=e[3],s=Math.sin(i),u=Math.cos(i);return t[0]=r*u+a*s,t[1]=n*u+o*s,t[2]=o*u-n*s,t[3]=a*u-r*s,t},s.rotateY=function(t,e,i){i*=.5;var r=e[0],n=e[1],o=e[2],a=e[3],s=Math.sin(i),u=Math.cos(i);return t[0]=r*u-o*s,t[1]=n*u+a*s,t[2]=o*u+r*s,t[3]=a*u-n*s,t},s.rotateZ=function(t,e,i){i*=.5;var r=e[0],n=e[1],o=e[2],a=e[3],s=Math.sin(i),u=Math.cos(i);return t[0]=r*u+n*s,t[1]=n*u-r*s,t[2]=o*u+a*s,t[3]=a*u-o*s,t},s.calculateW=function(t,e){var i=e[0],r=e[1],n=e[2];return t[0]=i,t[1]=r,t[2]=n,t[3]=Math.sqrt(Math.abs(1-i*i-r*r-n*n)),t},s.dot=a.dot,s.lerp=a.lerp,s.slerp=function(t,e,i,r){var n,o,a,s,u,c=e[0],l=e[1],h=e[2],p=e[3],f=i[0],_=i[1],g=i[2],m=i[3];return o=c*f+l*_+h*g+p*m,0>o&&(o=-o,f=-f,_=-_,g=-g,m=-m),1-o>1e-6?(n=Math.acos(o),a=Math.sin(n),s=Math.sin((1-r)*n)/a,u=Math.sin(r*n)/a):(s=1-r,u=r),t[0]=s*c+u*f,t[1]=s*l+u*_,t[2]=s*h+u*g,t[3]=s*p+u*m,t},s.sqlerp=function(){var t=s.create(),e=s.create();return function(i,r,n,o,a,u){return s.slerp(t,r,a,u),s.slerp(e,n,o,u),s.slerp(i,t,e,2*u*(1-u)),i}}(),s.invert=function(t,e){var i=e[0],r=e[1],n=e[2],o=e[3],a=i*i+r*r+n*n+o*o,s=a?1/a:0;return t[0]=-i*s,t[1]=-r*s,t[2]=-n*s,t[3]=o*s,t},s.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},s.length=a.length,s.len=s.length,s.squaredLength=a.squaredLength,s.sqrLen=s.squaredLength,s.normalize=a.normalize,s.fromMat3=function(t,e){var i,r=e[0]+e[4]+e[8];if(r>0)i=Math.sqrt(r+1),t[3]=.5*i,i=.5/i,t[0]=(e[5]-e[7])*i,t[1]=(e[6]-e[2])*i,t[2]=(e[1]-e[3])*i;else{var n=0;e[4]>e[0]&&(n=1),e[8]>e[3*n+n]&&(n=2);var o=(n+1)%3,a=(n+2)%3;i=Math.sqrt(e[3*n+n]-e[3*o+o]-e[3*a+a]+1),t[n]=.5*i,i=.5/i,t[3]=(e[3*o+a]-e[3*a+o])*i,t[o]=(e[3*o+n]+e[3*n+o])*i,t[a]=(e[3*a+n]+e[3*n+a])*i}return t},s.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},s.exactEquals=a.exactEquals,s.equals=a.equals,e.exports=s},{"./common.js":16,"./mat3.js":19,"./vec3.js":23,"./vec4.js":24}],22:[function(t,e,i){var r=t("./common.js"),n={};n.create=function(){var t=new r.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},n.clone=function(t){var e=new r.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},n.fromValues=function(t,e){var i=new r.ARRAY_TYPE(2);return i[0]=t,i[1]=e,i},n.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},n.set=function(t,e,i){return t[0]=e,t[1]=i,t},n.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t},n.subtract=function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t},n.sub=n.subtract,n.multiply=function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t},n.mul=n.multiply,n.divide=function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t},n.div=n.divide,n.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},n.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},n.min=function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t},n.max=function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t},n.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},n.scale=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t},n.scaleAndAdd=function(t,e,i,r){return t[0]=e[0]+i[0]*r,t[1]=e[1]+i[1]*r,t},n.distance=function(t,e){var i=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(i*i+r*r)},n.dist=n.distance,n.squaredDistance=function(t,e){var i=e[0]-t[0],r=e[1]-t[1];return i*i+r*r},n.sqrDist=n.squaredDistance,n.length=function(t){var e=t[0],i=t[1];return Math.sqrt(e*e+i*i)},n.len=n.length,n.squaredLength=function(t){var e=t[0],i=t[1];return e*e+i*i},n.sqrLen=n.squaredLength,n.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},n.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},n.normalize=function(t,e){var i=e[0],r=e[1],n=i*i+r*r;return n>0&&(n=1/Math.sqrt(n),t[0]=e[0]*n,t[1]=e[1]*n),t},n.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},n.cross=function(t,e,i){var r=e[0]*i[1]-e[1]*i[0];return t[0]=t[1]=0,t[2]=r,t},n.lerp=function(t,e,i,r){var n=e[0],o=e[1];return t[0]=n+r*(i[0]-n),t[1]=o+r*(i[1]-o),t},n.random=function(t,e){e=e||1;var i=2*r.RANDOM()*Math.PI;return t[0]=Math.cos(i)*e,t[1]=Math.sin(i)*e,t},n.transformMat2=function(t,e,i){var r=e[0],n=e[1];return t[0]=i[0]*r+i[2]*n,t[1]=i[1]*r+i[3]*n,t},n.transformMat2d=function(t,e,i){var r=e[0],n=e[1];return t[0]=i[0]*r+i[2]*n+i[4],t[1]=i[1]*r+i[3]*n+i[5],t},n.transformMat3=function(t,e,i){var r=e[0],n=e[1];return t[0]=i[0]*r+i[3]*n+i[6],t[1]=i[1]*r+i[4]*n+i[7],t},n.transformMat4=function(t,e,i){var r=e[0],n=e[1];return t[0]=i[0]*r+i[4]*n+i[12],t[1]=i[1]*r+i[5]*n+i[13],t},n.forEach=function(){var t=n.create();return function(e,i,r,n,o,a){var s,u;for(i||(i=2),r||(r=0),u=n?Math.min(n*i+r,e.length):e.length,s=r;u>s;s+=i)t[0]=e[s],t[1]=e[s+1],o(t,t,a),e[s]=t[0],e[s+1]=t[1];return e}}(),n.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},n.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},n.equals=function(t,e){var i=t[0],n=t[1],o=e[0],a=e[1];return Math.abs(i-o)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(n-a)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))},e.exports=n},{"./common.js":16}],23:[function(t,e,i){var r=t("./common.js"),n={};n.create=function(){var t=new r.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t},n.clone=function(t){var e=new r.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},n.fromValues=function(t,e,i){var n=new r.ARRAY_TYPE(3);return n[0]=t,n[1]=e,n[2]=i,n},n.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},n.set=function(t,e,i,r){return t[0]=e,t[1]=i,t[2]=r,t},n.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t},n.subtract=function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t},n.sub=n.subtract,n.multiply=function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t},n.mul=n.multiply,n.divide=function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],t},n.div=n.divide,n.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},n.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},n.min=function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t[2]=Math.min(e[2],i[2]),t},n.max=function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t[2]=Math.max(e[2],i[2]),t},n.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},n.scale=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t},n.scaleAndAdd=function(t,e,i,r){return t[0]=e[0]+i[0]*r,t[1]=e[1]+i[1]*r,t[2]=e[2]+i[2]*r,t},n.distance=function(t,e){var i=e[0]-t[0],r=e[1]-t[1],n=e[2]-t[2];return Math.sqrt(i*i+r*r+n*n)},n.dist=n.distance,n.squaredDistance=function(t,e){var i=e[0]-t[0],r=e[1]-t[1],n=e[2]-t[2];return i*i+r*r+n*n},n.sqrDist=n.squaredDistance,n.length=function(t){var e=t[0],i=t[1],r=t[2];return Math.sqrt(e*e+i*i+r*r)},n.len=n.length,n.squaredLength=function(t){var e=t[0],i=t[1],r=t[2];return e*e+i*i+r*r},n.sqrLen=n.squaredLength,n.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},n.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},n.normalize=function(t,e){var i=e[0],r=e[1],n=e[2],o=i*i+r*r+n*n;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t},n.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},n.cross=function(t,e,i){var r=e[0],n=e[1],o=e[2],a=i[0],s=i[1],u=i[2];return t[0]=n*u-o*s,t[1]=o*a-r*u,t[2]=r*s-n*a,t},n.lerp=function(t,e,i,r){var n=e[0],o=e[1],a=e[2];return t[0]=n+r*(i[0]-n),t[1]=o+r*(i[1]-o),t[2]=a+r*(i[2]-a),t},n.hermite=function(t,e,i,r,n,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,c=a*(o-1),l=a*(3-2*o);return t[0]=e[0]*s+i[0]*u+r[0]*c+n[0]*l,t[1]=e[1]*s+i[1]*u+r[1]*c+n[1]*l,t[2]=e[2]*s+i[2]*u+r[2]*c+n[2]*l,t},n.bezier=function(t,e,i,r,n,o){var a=1-o,s=a*a,u=o*o,c=s*a,l=3*o*s,h=3*u*a,p=u*o;return t[0]=e[0]*c+i[0]*l+r[0]*h+n[0]*p,t[1]=e[1]*c+i[1]*l+r[1]*h+n[1]*p,t[2]=e[2]*c+i[2]*l+r[2]*h+n[2]*p,t},n.random=function(t,e){e=e||1;var i=2*r.RANDOM()*Math.PI,n=2*r.RANDOM()-1,o=Math.sqrt(1-n*n)*e;return t[0]=Math.cos(i)*o,t[1]=Math.sin(i)*o,t[2]=n*e,t},n.transformMat4=function(t,e,i){var r=e[0],n=e[1],o=e[2],a=i[3]*r+i[7]*n+i[11]*o+i[15];return a=a||1,t[0]=(i[0]*r+i[4]*n+i[8]*o+i[12])/a,t[1]=(i[1]*r+i[5]*n+i[9]*o+i[13])/a,t[2]=(i[2]*r+i[6]*n+i[10]*o+i[14])/a,t},n.transformMat3=function(t,e,i){var r=e[0],n=e[1],o=e[2];return t[0]=r*i[0]+n*i[3]+o*i[6],t[1]=r*i[1]+n*i[4]+o*i[7],t[2]=r*i[2]+n*i[5]+o*i[8],t},n.transformQuat=function(t,e,i){var r=e[0],n=e[1],o=e[2],a=i[0],s=i[1],u=i[2],c=i[3],l=c*r+s*o-u*n,h=c*n+u*r-a*o,p=c*o+a*n-s*r,f=-a*r-s*n-u*o;return t[0]=l*c+f*-a+h*-u-p*-s,t[1]=h*c+f*-s+p*-a-l*-u,t[2]=p*c+f*-u+l*-s-h*-a,t},n.rotateX=function(t,e,i,r){var n=[],o=[];return n[0]=e[0]-i[0],n[1]=e[1]-i[1],n[2]=e[2]-i[2],o[0]=n[0],o[1]=n[1]*Math.cos(r)-n[2]*Math.sin(r),o[2]=n[1]*Math.sin(r)+n[2]*Math.cos(r),t[0]=o[0]+i[0],t[1]=o[1]+i[1],t[2]=o[2]+i[2],t},n.rotateY=function(t,e,i,r){var n=[],o=[];return n[0]=e[0]-i[0],n[1]=e[1]-i[1],n[2]=e[2]-i[2],o[0]=n[2]*Math.sin(r)+n[0]*Math.cos(r),o[1]=n[1],o[2]=n[2]*Math.cos(r)-n[0]*Math.sin(r),t[0]=o[0]+i[0],t[1]=o[1]+i[1],t[2]=o[2]+i[2],t},n.rotateZ=function(t,e,i,r){var n=[],o=[];return n[0]=e[0]-i[0],n[1]=e[1]-i[1],n[2]=e[2]-i[2],o[0]=n[0]*Math.cos(r)-n[1]*Math.sin(r),o[1]=n[0]*Math.sin(r)+n[1]*Math.cos(r),o[2]=n[2],t[0]=o[0]+i[0],t[1]=o[1]+i[1],t[2]=o[2]+i[2],t},n.forEach=function(){var t=n.create();return function(e,i,r,n,o,a){var s,u;for(i||(i=3),r||(r=0),u=n?Math.min(n*i+r,e.length):e.length,s=r;u>s;s+=i)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}(),n.angle=function(t,e){var i=n.fromValues(t[0],t[1],t[2]),r=n.fromValues(e[0],e[1],e[2]);n.normalize(i,i),n.normalize(r,r);var o=n.dot(i,r);return o>1?0:Math.acos(o)},n.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},n.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},n.equals=function(t,e){var i=t[0],n=t[1],o=t[2],a=e[0],s=e[1],u=e[2];return Math.abs(i-a)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(n-s)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(o-u)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))},e.exports=n},{"./common.js":16}],24:[function(t,e,i){var r=t("./common.js"),n={};n.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},n.clone=function(t){var e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},n.fromValues=function(t,e,i,n){var o=new r.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=i,o[3]=n,o},n.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},n.set=function(t,e,i,r,n){return t[0]=e,t[1]=i,t[2]=r,t[3]=n,t},n.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t},n.subtract=function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t},n.sub=n.subtract,n.multiply=function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t[3]=e[3]*i[3],t},n.mul=n.multiply,n.divide=function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],t[3]=e[3]/i[3],t},n.div=n.divide,n.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},n.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},n.min=function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t[2]=Math.min(e[2],i[2]),t[3]=Math.min(e[3],i[3]),t},n.max=function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t[2]=Math.max(e[2],i[2]),t[3]=Math.max(e[3],i[3]),t},n.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},n.scale=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t},n.scaleAndAdd=function(t,e,i,r){return t[0]=e[0]+i[0]*r,t[1]=e[1]+i[1]*r,t[2]=e[2]+i[2]*r,t[3]=e[3]+i[3]*r,t},n.distance=function(t,e){var i=e[0]-t[0],r=e[1]-t[1],n=e[2]-t[2],o=e[3]-t[3];return Math.sqrt(i*i+r*r+n*n+o*o)},n.dist=n.distance,n.squaredDistance=function(t,e){var i=e[0]-t[0],r=e[1]-t[1],n=e[2]-t[2],o=e[3]-t[3];return i*i+r*r+n*n+o*o},n.sqrDist=n.squaredDistance,n.length=function(t){var e=t[0],i=t[1],r=t[2],n=t[3];return Math.sqrt(e*e+i*i+r*r+n*n)},n.len=n.length,n.squaredLength=function(t){var e=t[0],i=t[1],r=t[2],n=t[3];return e*e+i*i+r*r+n*n},n.sqrLen=n.squaredLength,n.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},n.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},n.normalize=function(t,e){var i=e[0],r=e[1],n=e[2],o=e[3],a=i*i+r*r+n*n+o*o;return a>0&&(a=1/Math.sqrt(a),t[0]=i*a,t[1]=r*a,t[2]=n*a,t[3]=o*a),t},n.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},n.lerp=function(t,e,i,r){var n=e[0],o=e[1],a=e[2],s=e[3];return t[0]=n+r*(i[0]-n),t[1]=o+r*(i[1]-o),t[2]=a+r*(i[2]-a),t[3]=s+r*(i[3]-s),t},n.random=function(t,e){return e=e||1,t[0]=r.RANDOM(),t[1]=r.RANDOM(),t[2]=r.RANDOM(),t[3]=r.RANDOM(),n.normalize(t,t),n.scale(t,t,e),t},n.transformMat4=function(t,e,i){var r=e[0],n=e[1],o=e[2],a=e[3];return t[0]=i[0]*r+i[4]*n+i[8]*o+i[12]*a,t[1]=i[1]*r+i[5]*n+i[9]*o+i[13]*a,t[2]=i[2]*r+i[6]*n+i[10]*o+i[14]*a,t[3]=i[3]*r+i[7]*n+i[11]*o+i[15]*a,t},n.transformQuat=function(t,e,i){var r=e[0],n=e[1],o=e[2],a=i[0],s=i[1],u=i[2],c=i[3],l=c*r+s*o-u*n,h=c*n+u*r-a*o,p=c*o+a*n-s*r,f=-a*r-s*n-u*o;return t[0]=l*c+f*-a+h*-u-p*-s,t[1]=h*c+f*-s+p*-a-l*-u,t[2]=p*c+f*-u+l*-s-h*-a,t[3]=e[3],t},n.forEach=function(){var t=n.create();return function(e,i,r,n,o,a){var s,u;for(i||(i=4),r||(r=0),u=n?Math.min(n*i+r,e.length):e.length,s=r;u>s;s+=i)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}(),n.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},n.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},n.equals=function(t,e){var i=t[0],n=t[1],o=t[2],a=t[3],s=e[0],u=e[1],c=e[2],l=e[3];return Math.abs(i-s)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(n-u)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(o-c)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(a-l)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(l))},e.exports=n},{"./common.js":16}],25:[function(t,e,i){(function(t){(function(){WebGLDebugUtils=function(){function e(t){if(null==_){_={},g={};for(var e in t)"number"==typeof t[e]&&(_[t[e]]=e,g[e]=t[e])}}function i(){if(null==_)throw"WebGLDebugUtils.init(ctx) not called"}function r(t){return i(),void 0!==_[t]}function n(t){i();var e=_[t];return void 0!==e?"gl."+e:"/*UNKNOWN WebGL ENUM*/ 0x"+t.toString(16)}function o(t,e,i,r){var o=f[t];if(void 0!==o){var o=o[e];if(void 0!==o&&o[i]){if("object"==typeof o[i]&&void 0!==o[i].enumBitwiseOr){for(var a=o[i].enumBitwiseOr,s=0,u=[],c=0;c<a.length;++c){var l=g[a[c]];0!==(r&l)&&(s|=l,u.push(n(l)))}return s===r?u.join(" | "):n(r)}return n(r)}}return null===r?"null":void 0===r?"undefined":r.toString()}function a(t,e){for(var i="",r=e.length,n=0;r>n;++n)i+=(0==n?"":", ")+o(t,r,n,e[n]);return i}function s(t,e,i){t.__defineGetter__(i,function(){return e[i]}),t.__defineSetter__(i,function(t){e[i]=t})}function u(t,i,r,a){function c(t,e){return function(){r&&r(e,arguments);var n=t[e].apply(t,arguments),o=a.getError();return 0!=o&&(l[o]=!0,i(o,e,arguments)),n}}a=a||t,e(t),i=i||function(t,e,i){for(var r="",a=i.length,s=0;a>s;++s)r+=(0==s?"":", ")+o(e,a,s,i[s]);p("WebGL error "+n(t)+" in "+e+"("+r+")")};var l={},h={};for(var f in t)if("function"==typeof t[f])if("getExtension"!=f)h[f]=c(t,f);else{var _=c(t,f);h[f]=function(){var e=_.apply(t,arguments);return u(e,i,r,a)}}else s(h,t,f);return h.getError=function(){for(var e in l)if(l.hasOwnProperty(e)&&l[e])return l[e]=!1,e;return t.NO_ERROR},h}function c(t){var e=t.getParameter(t.MAX_VERTEX_ATTRIBS),i=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,i);for(var r=0;e>r;++r)t.disableVertexAttribArray(r),t.vertexAttribPointer(r,4,t.FLOAT,!1,0,0),t.vertexAttrib1f(r,0);t.deleteBuffer(i);for(var n=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),r=0;n>r;++r)t.activeTexture(t.TEXTURE0+r),t.bindTexture(t.TEXTURE_CUBE_MAP,null),t.bindTexture(t.TEXTURE_2D,null);for(t.activeTexture(t.TEXTURE0),t.useProgram(null),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindRenderbuffer(t.RENDERBUFFER,null),t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.DITHER),t.disable(t.SCISSOR_TEST),t.blendColor(0,0,0,0),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.clearColor(0,0,0,0),t.clearDepth(1),t.clearStencil(-1),t.colorMask(!0,!0,!0,!0),t.cullFace(t.BACK),t.depthFunc(t.LESS),t.depthMask(!0),t.depthRange(0,1),t.frontFace(t.CCW),t.hint(t.GENERATE_MIPMAP_HINT,t.DONT_CARE),t.lineWidth(1),t.pixelStorei(t.PACK_ALIGNMENT,4),t.pixelStorei(t.UNPACK_ALIGNMENT,4),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.UNPACK_COLORSPACE_CONVERSION_WEBGL&&t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.BROWSER_DEFAULT_WEBGL),t.polygonOffset(0,0),t.sampleCoverage(1,!1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilMask(4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.viewport(0,0,t.canvas.width,t.canvas.height),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT|t.STENCIL_BUFFER_BIT);t.getError(););}function l(t){function e(t){return"function"==typeof t?t:function(e){t.handleEvent(e)}}function i(t){var e=t.addEventListener;t.addEventListener=function(i,r,n){switch(i){case"webglcontextlost":M(r);break;case"webglcontextrestored":E(r);break;default:e.apply(t,arguments)}}}function r(){for(var t=Object.keys(v),e=0;e<t.length;++e)delete v[t]}function n(){++x,m||y==x&&t.loseContext()}function o(t,e){var i=t[e];return function(){if(n(),!m){var e=i.apply(t,arguments);return e}}}function a(){for(var t=0;t<d.length;++t){var e=d[t];e instanceof WebGLBuffer?h.deleteBuffer(e):e instanceof WebGLFramebuffer?h.deleteFramebuffer(e):e instanceof WebGLProgram?h.deleteProgram(e):e instanceof WebGLRenderbuffer?h.deleteRenderbuffer(e):e instanceof WebGLShader?h.deleteShader(e):e instanceof WebGLTexture&&h.deleteTexture(e)}}function u(t){return{statusMessage:t,preventDefault:function(){b=!0}}}function l(t){for(var e in t)"function"==typeof t[e]?p[e]=o(t,e):s(p,t,e);p.getError=function(){if(n(),!m)for(var t;t=h.getError();)v[t]=!0;for(var t in v)if(v[t])return delete v[t],t;return p.NO_ERROR};for(var i=["createBuffer","createFramebuffer","createProgram","createRenderbuffer","createShader","createTexture"],r=0;r<i.length;++r){var a=i[r];p[a]=function(e){return function(){if(n(),m)return null;var i=e.apply(t,arguments);return i.__webglDebugContextLostId__=g,d.push(i),i}}(t[a])}for(var u=["getActiveAttrib","getActiveUniform","getBufferParameter","getContextAttributes","getAttachedShaders","getFramebufferAttachmentParameter","getParameter","getProgramParameter","getProgramInfoLog","getRenderbufferParameter","getShaderParameter","getShaderInfoLog","getShaderSource","getTexParameter","getUniform","getUniformLocation","getVertexAttrib"],r=0;r<u.length;++r){var a=u[r];p[a]=function(e){return function(){return n(),m?null:e.apply(t,arguments)}}(p[a])}for(var c=["isBuffer","isEnabled","isFramebuffer","isProgram","isRenderbuffer","isShader","isTexture"],r=0;r<c.length;++r){var a=c[r];p[a]=function(e){return function(){return n(),m?!1:e.apply(t,arguments)}}(p[a])}return p.checkFramebufferStatus=function(e){return function(){return n(),m?p.FRAMEBUFFER_UNSUPPORTED:e.apply(t,arguments)}}(p.checkFramebufferStatus),p.getAttribLocation=function(e){return function(){return n(),m?-1:e.apply(t,arguments)}}(p.getAttribLocation),p.getVertexAttribOffset=function(e){return function(){return n(),m?0:e.apply(t,arguments)}}(p.getVertexAttribOffset),p.isContextLost=function(){return m},p}var h,p,f=[],_=[],p={},g=1,m=!1,d=[],y=0,x=0,b=!1,S=0,v={};t.getContext=function(e){return function(){var i=e.apply(t,arguments);if(i instanceof WebGLRenderingContext){if(i!=h){if(h)throw"got different context";h=i,p=l(h)}return p}return i}}(t.getContext);var M=function(t){f.push(e(t))},E=function(t){_.push(e(t))};return i(t),t.loseContext=function(){if(!m){for(m=!0,y=0,++g;h.getError(););r(),v[h.CONTEXT_LOST_WEBGL]=!0;var e=u("context lost"),i=f.slice();setTimeout(function(){for(var r=0;r<i.length;++r)i[r](e);S>=0&&setTimeout(function(){t.restoreContext()},S)},0)}},t.restoreContext=function(){m&&_.length&&setTimeout(function(){if(!b)throw"can not restore. webglcontestlost listener did not call event.preventDefault";a(),c(h),m=!1,x=0,b=!1;for(var t=_.slice(),e=u("context restored"),i=0;i<t.length;++i)t[i](e)},0)},t.loseContextInNCalls=function(t){if(m)throw"You can not ask a lost contet to be lost";y=x+t},t.getNumCalls=function(){return x},t.setRestoreTimeout=function(t){S=t},t}"undefined"==typeof window&&(window=t);var h=function(t){window.console&&window.console.log&&window.console.log(t)},p=function(t){window.console&&window.console.error?window.console.error(t):h(t)},f={enable:{1:{0:!0}},disable:{1:{0:!0}},getParameter:{1:{0:!0}},drawArrays:{3:{0:!0}},drawElements:{4:{0:!0,2:!0}},createShader:{1:{0:!0}},getShaderParameter:{2:{1:!0}},getProgramParameter:{2:{1:!0}},getShaderPrecisionFormat:{2:{0:!0,1:!0}},getVertexAttrib:{2:{1:!0}},vertexAttribPointer:{6:{2:!0}},bindTexture:{2:{0:!0}},activeTexture:{1:{0:!0}},getTexParameter:{2:{0:!0,1:!0}},texParameterf:{3:{0:!0,1:!0}},texParameteri:{3:{0:!0,1:!0,2:!0}},texImage2D:{9:{0:!0,2:!0,6:!0,7:!0},6:{0:!0,2:!0,3:!0,4:!0}},texSubImage2D:{9:{0:!0,6:!0,7:!0},7:{0:!0,4:!0,5:!0}},copyTexImage2D:{8:{0:!0,2:!0}},copyTexSubImage2D:{8:{0:!0}},generateMipmap:{1:{0:!0}},compressedTexImage2D:{7:{0:!0,2:!0}},compressedTexSubImage2D:{8:{0:!0,6:!0}},bindBuffer:{2:{0:!0}},bufferData:{3:{0:!0,2:!0}},bufferSubData:{3:{0:!0}},getBufferParameter:{2:{0:!0,1:!0}},pixelStorei:{2:{0:!0,1:!0}},readPixels:{7:{4:!0,5:!0}},bindRenderbuffer:{2:{0:!0}},bindFramebuffer:{2:{0:!0}},checkFramebufferStatus:{1:{0:!0}},framebufferRenderbuffer:{4:{0:!0,1:!0,2:!0}},framebufferTexture2D:{5:{0:!0,1:!0,2:!0}},getFramebufferAttachmentParameter:{3:{0:!0,1:!0,2:!0}},getRenderbufferParameter:{2:{0:!0,1:!0}},renderbufferStorage:{4:{0:!0,1:!0}},clear:{1:{0:{enumBitwiseOr:["COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","STENCIL_BUFFER_BIT"]}}},depthFunc:{1:{0:!0}},blendFunc:{2:{0:!0,1:!0}},blendFuncSeparate:{4:{0:!0,1:!0,2:!0,3:!0}},blendEquation:{1:{0:!0}},blendEquationSeparate:{2:{0:!0,1:!0}},stencilFunc:{3:{0:!0}},stencilFuncSeparate:{4:{0:!0,1:!0}},stencilMaskSeparate:{2:{0:!0}},stencilOp:{3:{0:!0,1:!0,2:!0}},stencilOpSeparate:{4:{0:!0,1:!0,2:!0,3:!0}},cullFace:{1:{0:!0}},frontFace:{1:{0:!0}},drawArraysInstancedANGLE:{4:{0:!0}},drawElementsInstancedANGLE:{5:{0:!0,2:!0}},blendEquationEXT:{1:{0:!0}}},_=null,g=null;return{init:e,mightBeEnum:r,glEnumToString:n,glFunctionArgToString:o,glFunctionArgsToString:a,makeDebugContext:u,makeLostContextSimulatingCanvas:l,resetToInitialState:c}}(),e.exports=WebGLDebugUtils}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],26:[function(t,e,i){"use strict";var r=t("../util"),n=0,o=!1,a=function(t,e){this.scene=t,this.core=t.core,this.parent=e,this.id=++n,this.frame_count=0,this._x=0,this._y=0,this.auto_disable_times_map={},this.velocity={magnitude:0,theta:0},this.objects=[]};a.prototype.init=function(){this.frame_count=0,this._x=0,this._y=0,this.auto_disable_times_map={};for(var t=0,e=this.objects.length;e>t;t++)this.objects[t].init()},a.prototype.beforeDraw=function(){this.frame_count++,this.checkAutoDisableFlags();for(var t=0,e=this.objects.length;e>t;t++)this.objects[t].beforeDraw();this.move()},a.prototype.draw=function(){var t=this.core.ctx;o&&(t.save(),t.fillStyle="rgb( 255, 255, 255 )",t.globalAlpha=.4,t.fillRect(this.getCollisionLeftX(),this.getCollisionUpY(),this.collisionWidth(),this.collisionHeight()),t.restore());for(var e=0,i=this.objects.length;i>e;e++)this.objects[e].draw()},a.prototype.afterDraw=function(){for(var t=0,e=this.objects.length;e>t;t++)this.objects[t].afterDraw()},a.prototype.addSubObject=function(t){this.objects.push(t)},a.prototype.removeSubObject=function(t){for(var e=0,i=this.objects.length;i>e;e++)if(this.objects[e].id===t.id){this.objects.splice(e,1);break}},a.prototype.removeAllSubObject=function(){this.objects=[]},a.prototype.move=function(){var t=r.calcMoveXByVelocity(this.velocity),e=r.calcMoveYByVelocity(this.velocity);this._x+=t,this._y+=e},a.prototype.onCollision=function(t){},a.prototype.width=function(){return 0},a.prototype.height=function(){return 0},a.prototype.globalCenterX=function(){return this.scene.x()+this.x()},a.prototype.globalCenterY=function(){return this.scene.y()+this.y()},a.prototype.globalLeftX=function(){return this.scene.x()+this.x()-this.width()/2},a.prototype.globalRightX=function(){return this.scene.x()+this.x()+this.width()/2},a.prototype.globalUpY=function(){return this.scene.x()+this.y()-this.height()/2},a.prototype.globalDownY=function(){return this.scene.x()+this.y()+this.height()/2},a.prototype.collisionWidth=function(t){return 0},a.prototype.collisionHeight=function(t){return 0},a.prototype.isCollision=function(t){return!0},a.prototype.checkCollisionWithObject=function(t){var e=this;t.checkCollision(e)&&(t.onCollision(e),e.onCollision(t))},a.prototype.checkCollisionWithObjects=function(t){for(var e=this,i=0;i<t.length;i++){var r=t[i];e.checkCollision(r)&&(e.onCollision(r),r.onCollision(e))}},a.prototype.checkCollision=function(t){return this.isCollision(t)&&t.isCollision(this)&&Math.abs(this.x()-t.x())<this.collisionWidth(t)/2+t.collisionWidth(this)/2&&Math.abs(this.y()-t.y())<this.collisionHeight(t)/2+t.collisionHeight(this)/2?!0:!1},a.prototype.getCollisionLeftX=function(t){return this.x()-this.collisionWidth(t)/2},a.prototype.getCollisionRightX=function(t){return this.x()+this.collisionWidth(t)/2},a.prototype.getCollisionUpY=function(t){return this.y()-this.collisionHeight(t)/2},a.prototype.getCollisionDownY=function(t){return this.y()+this.collisionHeight(t)/2},a.prototype.setAutoDisableFlag=function(t,e){var i=this;i[t]=!0,i.auto_disable_times_map[t]=i.frame_count+e},a.prototype.checkAutoDisableFlags=function(){var t=this;for(var e in t.auto_disable_times_map)this.auto_disable_times_map[e]<t.frame_count&&(t[e]=!1,delete t.auto_disable_times_map[e])},a.prototype.x=function(t){return"undefined"!=typeof t&&(this._x=t),this._x},a.prototype.y=function(t){return"undefined"!=typeof t&&(this._y=t),this._y},a.prototype.setVelocity=function(t){this.velocity=t};var s=100;a.prototype.isOutOfStage=function(){return this.x()+s<0||this.y()+s<0||this.x()>this.core.width+s||this.y()>this.core.height+s?!0:!1},e.exports=a},{"../util":39}],27:[function(t,e,i){"use strict";var r=t("./base"),n=t("../util"),o=function(t,e){r.apply(this,arguments),this.Class=e,this.objects={}};n.inherit(o,r),o.prototype.init=function(){r.prototype.init.apply(this,arguments),this.objects={}},o.prototype.beforeDraw=function(){r.prototype.beforeDraw.apply(this,arguments);for(var t in this.objects)this.objects[t].beforeDraw()},o.prototype.draw=function(){r.prototype.draw.apply(this,arguments);for(var t in this.objects)this.objects[t].draw()},o.prototype.afterDraw=function(){r.prototype.afterDraw.apply(this,arguments);for(var t in this.objects)this.objects[t].afterDraw()},o.prototype.create=function(){var t=new this.Class(this.scene);return t.init.apply(t,arguments),this.objects[t.id]=t,t},o.prototype.remove=function(t){delete this.objects[t]},o.prototype.checkCollisionWithObject=function(t){for(var e in this.objects){var i=this.objects[e];t.checkCollision(i)&&(t.onCollision(i),i.onCollision(t))}},o.prototype.checkCollisionWithManager=function(t){for(var e in this.objects)for(var i in t.objects)if(this.objects[e].checkCollision(t.objects[i])){var r=this.objects[e],n=t.objects[i];if(r.onCollision(n),n.onCollision(r),!this.objects[e])break}},o.prototype.removeOutOfStageObjects=function(){for(var t in this.objects)this.objects[t].isOutOfStage()&&this.remove(t)},e.exports=o},{"../util":39,"./base":26}],28:[function(t,e,i){"use strict";var r=t("./base"),n=t("../util"),o=t("gl-matrix"),a=t("../constant_3d").SPRITE3D,s=function(t,e){r.apply(this,arguments),this.Class=e,this.objects={},this.vertices=[],this.coordinates=[],this.indices=[],this.colors=[];var i=this.core.gl;this.vBuffer=i.createBuffer(),this.cBuffer=i.createBuffer(),this.iBuffer=i.createBuffer(),this.aBuffer=i.createBuffer(),this.mvMatrix=o.mat4.create(),this.pMatrix=o.mat4.create()};n.inherit(s,r),s.prototype.init=function(){
r.prototype.init.apply(this,arguments),this.objects={},this._initmvpMatrix()},s.prototype._initmvpMatrix=function(){o.mat4.identity(this.mvMatrix),o.mat4.translate(this.mvMatrix,this.mvMatrix,[-this.core.width/2,this.core.height/2,0]),this._setOrthographicProjection()},s.prototype._setOrthographicProjection=function(){o.mat4.identity(this.pMatrix);var t=.1,e=10;o.mat4.ortho(this.pMatrix,-this.core.width/2,this.core.width/2,-this.core.height/2,this.core.height/2,t,e)},s.prototype.beforeDraw=function(){r.prototype.beforeDraw.apply(this,arguments);for(var t in this.objects)this.objects[t].beforeDraw();this._updateAttributes()},s.prototype._updateAttributes=function(){this._resetAttributes();var t=0;for(var e in this.objects){var i=this.objects[e];if(i.isShow()){var r;for(r=0;r<a.V_SIZE;r++)this.vertices[t*a.V_SIZE+r]=i.vertices[r];for(r=0;r<a.C_SIZE;r++)this.coordinates[t*a.C_SIZE+r]=i.coordinates[r];for(r=0;r<a.I_SIZE;r++)this.indices[t*a.I_SIZE+r]=t*a.V_ITEM_NUM+i.indices[r];for(r=0;r<a.A_SIZE;r++)this.colors[t*a.A_SIZE+r]=i.colors[r];t++}}},s.prototype._resetAttributes=function(){this.vertices.length=0,this.coordinates.length=0,this.indices.length=0,this.colors.length=0},s.prototype.draw=function(){if(r.prototype.draw.apply(this,arguments),0!==this.vertices.length){var t=this.core.gl,e=this.shader();t.useProgram(e.shader_program),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),t.enable(t.BLEND),t.disable(t.DEPTH_TEST),this._setupAttribute("aVertexPosition",this.vBuffer,new Float32Array(this.vertices),a.V_ITEM_SIZE),this._setupAttribute("aTextureCoordinates",this.cBuffer,new Float32Array(this.coordinates),a.C_ITEM_SIZE),this._setupAttribute("aColor",this.aBuffer,new Float32Array(this.colors),a.A_ITEM_SIZE);for(var i in this.objects){var n=this.objects[i].texture;this._setupTexture("uSampler",0,n);break}t.uniformMatrix4fv(e.uniform_locations.uPMatrix,!1,this.pMatrix),t.uniformMatrix4fv(e.uniform_locations.uMVMatrix,!1,this.mvMatrix),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.iBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(this.indices),t.STATIC_DRAW),t.drawElements(t.TRIANGLES,this.indices.length,t.UNSIGNED_SHORT,0)}},s.prototype._setupAttribute=function(t,e,i,r){var n=this.core.gl,o=this.shader();n.bindBuffer(n.ARRAY_BUFFER,e),n.bufferData(n.ARRAY_BUFFER,i,n.STATIC_DRAW),n.enableVertexAttribArray(o.attribute_locations[t]),n.vertexAttribPointer(o.attribute_locations[t],r,n.FLOAT,!1,0,0)},s.prototype._setupTexture=function(t,e,i){var r=this.core.gl,n=this.shader();r.activeTexture(r["TEXTURE"+e]),r.bindTexture(r.TEXTURE_2D,i),r.uniform1i(n.uniform_locations[t],e)},s.prototype.afterDraw=function(){r.prototype.afterDraw.apply(this,arguments);for(var t in this.objects)this.objects[t].afterDraw()},s.prototype.create=function(){var t=new this.Class(this.scene);return t.init.apply(t,arguments),this.objects[t.id]=t,t},s.prototype.remove=function(t){delete this.objects[t]},s.prototype.checkCollisionWithObject=function(t){for(var e in this.objects){var i=this.objects[e];t.checkCollision(i)&&(t.onCollision(i),i.onCollision(t))}},s.prototype.checkCollisionWithManager=function(t){for(var e in this.objects)for(var i in t.objects)if(this.objects[e].checkCollision(t.objects[i])){var r=this.objects[e],n=t.objects[i];if(r.onCollision(n),n.onCollision(r),!this.objects[e])break}},s.prototype.removeOutOfStageObjects=function(){for(var t in this.objects)this.objects[t].isOutOfStage()&&this.remove(t)},s.prototype.shader=function(){return this.core.sprite_3d_shader},e.exports=s},{"../constant_3d":10,"../util":39,"./base":26,"gl-matrix":15}],29:[function(t,e,i){"use strict";var r=t("./base"),n=t("../util"),o=function(t){r.apply(this,arguments),this.current_sprite_index=0};n.inherit(o,r),o.prototype.init=function(){r.prototype.init.apply(this,arguments),this.current_sprite_index=0},o.prototype.beforeDraw=function(){r.prototype.beforeDraw.apply(this,arguments),this.frame_count%this.spriteAnimationSpan()===0&&(this.current_sprite_index++,this.current_sprite_index>=this.spriteIndices().length&&(this.current_sprite_index=0))},o.prototype.draw=function(){if(this.isShow()){var t=this.core.image_loader.getImage(this.spriteName());this.scale()&&console.error("scale method is deprecated. you should use scaleWidth and scaleHeight.");var e=this.core.ctx;e.save(),e.translate(this.globalCenterX(),this.globalCenterY());var i=n.thetaToRadian(this.velocity.theta+this.rotateAdjust());e.rotate(i);var o=this.spriteWidth(),a=this.spriteHeight();o||(o=t.width),a||(a=t.height);var s=this.width(),u=this.height();this.isReflect()&&e.transform(-1,0,0,1,0,0),e.globalAlpha=this.alpha(),e.drawImage(t,o*this.spriteIndexX(),a*this.spriteIndexY(),o,a,-s/2,-u/2,s,u),e.restore()}r.prototype.draw.apply(this,arguments)},o.prototype.spriteName=function(){throw new Error("spriteName method must be overridden.")},o.prototype.spriteIndexX=function(){return this.spriteIndices()[this.current_sprite_index].x},o.prototype.spriteIndexY=function(){return this.spriteIndices()[this.current_sprite_index].y},o.prototype.width=function(){return this.spriteWidth()*this.scaleWidth()},o.prototype.height=function(){return this.spriteHeight()*this.scaleHeight()},o.prototype.isShow=function(){return!0},o.prototype.spriteAnimationSpan=function(){return 0},o.prototype.spriteIndices=function(){return[{x:0,y:0}]},o.prototype.spriteWidth=function(){return 0},o.prototype.spriteHeight=function(){return 0},o.prototype.rotateAdjust=function(){return 0},o.prototype.scale=function(){return 0},o.prototype.scaleWidth=function(){return 1},o.prototype.scaleHeight=function(){return 1},o.prototype.isReflect=function(){return!1},o.prototype.alpha=function(){return 1},e.exports=o},{"../util":39,"./base":26}],30:[function(t,e,i){"use strict";var r=t("./base"),n=t("../util"),o=t("../constant_3d").SPRITE3D,a=t("gl-matrix"),s=function(t){r.apply(this,arguments),this.current_sprite_index=0,this._z=0,this.vertices=[],this.coordinates=[],this.indices=[],this.colors=[],this.vertices.length=o.V_SIZE,this.coordinates.length=o.C_SIZE,this.indices.length=o.I_SIZE,this.colors.length=o.A_SIZE;var e=this.core.gl;this.vBuffer=e.createBuffer(),this.cBuffer=e.createBuffer(),this.iBuffer=e.createBuffer(),this.aBuffer=e.createBuffer(),this.texture=null,this.mvMatrix=a.mat4.create(),this.pMatrix=a.mat4.create()};n.inherit(s,r),s.prototype.init=function(){r.prototype.init.apply(this,arguments),this.current_sprite_index=0,this._initmvpMatrix(),this._initVertices(),this._initCoordinates(),this._initIndices(),this._initColors(),this._initTexture()},s.prototype._initmvpMatrix=function(){a.mat4.identity(this.mvMatrix),a.mat4.translate(this.mvMatrix,this.mvMatrix,[-this.core.width/2,this.core.height/2,0]),this._setOrthographicProjection()},s.prototype._initVertices=function(){var t=this.spriteWidth()/2,e=this.spriteHeight()/2;this.vertices[0]=-t,this.vertices[1]=-e,this.vertices[2]=-1,this.vertices[3]=t,this.vertices[4]=-e,this.vertices[5]=-1,this.vertices[6]=t,this.vertices[7]=e,this.vertices[8]=-1,this.vertices[9]=-t,this.vertices[10]=e,this.vertices[11]=-1},s.prototype._initCoordinates=function(){var t=this.core.image_loader.getImage(this.spriteName()),e=this.spriteWidth()/t.width,i=this.spriteHeight()/t.height,r=e*this.spriteIndexX(),n=i*this.spriteIndexY(),o=r+e,a=n+i;this.coordinates[0]=r,this.coordinates[1]=a,this.coordinates[2]=o,this.coordinates[3]=a,this.coordinates[4]=o,this.coordinates[5]=n,this.coordinates[6]=r,this.coordinates[7]=n},s.prototype._initIndices=function(){this.indices[0]=0,this.indices[1]=1,this.indices[2]=2,this.indices[3]=0,this.indices[4]=2,this.indices[5]=3},s.prototype._initColors=function(){this.colors[0]=1,this.colors[1]=1,this.colors[2]=1,this.colors[3]=1,this.colors[4]=1,this.colors[5]=1,this.colors[6]=1,this.colors[7]=1,this.colors[8]=1,this.colors[9]=1,this.colors[10]=1,this.colors[11]=1,this.colors[12]=1,this.colors[13]=1,this.colors[14]=1,this.colors[15]=1},s.prototype._initTexture=function(){var t=this.core.gl,e=this.core.image_loader.getImage(this.spriteName()),i=t.createTexture();t.bindTexture(t.TEXTURE_2D,i),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.bindTexture(t.TEXTURE_2D,null),this.texture=i},s.prototype._setOrthographicProjection=function(){a.mat4.identity(this.pMatrix);var t=.1,e=10;a.mat4.ortho(this.pMatrix,-this.core.width/2,this.core.width/2,-this.core.height/2,this.core.height/2,t,e)},s.prototype.beforeDraw=function(){r.prototype.beforeDraw.apply(this,arguments),this.frame_count%this.spriteAnimationSpan()===0&&(this.current_sprite_index++,this.current_sprite_index>=this.spriteIndices().length&&(this.current_sprite_index=0)),this._initVertices(),this._initCoordinates(),this._translate()},s.prototype._translate=function(){for(var t=0;t<o.V_ITEM_NUM;t++)this.vertices[t*o.V_ITEM_SIZE+0]+=this.x(),this.vertices[t*o.V_ITEM_SIZE+1]-=this.y(),this.vertices[t*o.V_ITEM_SIZE+2]+=this.z()},s.prototype._rotate=function(){for(var t=this._getRadian(),e=0;e<o.V_ITEM_NUM;e++){var i=this.vertices[e*o.V_ITEM_SIZE+0],r=this.vertices[e*o.V_ITEM_SIZE+1];this.vertices[e*o.V_ITEM_SIZE+0]=i*Math.cos(t)-r*Math.sin(t),this.vertices[e*o.V_ITEM_SIZE+1]=i*Math.sin(t)+r*Math.cos(t)}},s.prototype._getRadian=function(){var t=this.velocity.theta;return n.thetaToRadian(t)},s.prototype.draw=function(){if(this.isShow()){var t=this.core.gl,e=this.shader();t.useProgram(e.shader_program),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),t.enable(t.BLEND),t.disable(t.DEPTH_TEST),this._setupAttribute("aVertexPosition",this.vBuffer,new Float32Array(this.vertices),o.V_ITEM_SIZE),this._setupAttribute("aTextureCoordinates",this.cBuffer,new Float32Array(this.coordinates),o.C_ITEM_SIZE),this._setupAttribute("aColor",this.aBuffer,new Float32Array(this.colors),o.A_ITEM_SIZE),this._setupTexture("uSampler",0,this.texture),t.uniformMatrix4fv(e.uniform_locations.uPMatrix,!1,this.pMatrix),t.uniformMatrix4fv(e.uniform_locations.uMVMatrix,!1,this.mvMatrix),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.iBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(this.indices),t.STATIC_DRAW),this.setupAdditionalVariables(),t.drawElements(t.TRIANGLES,this.indices.length,t.UNSIGNED_SHORT,0)}r.prototype.draw.apply(this,arguments)},s.prototype._setupAttribute=function(t,e,i,r){var n=this.core.gl,o=this.shader();n.bindBuffer(n.ARRAY_BUFFER,e),n.bufferData(n.ARRAY_BUFFER,i,n.STATIC_DRAW),n.enableVertexAttribArray(o.attribute_locations[t]),n.vertexAttribPointer(o.attribute_locations[t],r,n.FLOAT,!1,0,0)},s.prototype._setupTexture=function(t,e,i){var r=this.core.gl,n=this.shader();r.activeTexture(r["TEXTURE"+e]),r.bindTexture(r.TEXTURE_2D,i),r.uniform1i(n.uniform_locations[t],e)},s.prototype.z=function(t){return"undefined"!=typeof t&&(this._z=t),this._z},s.prototype.shader=function(){return this.core.sprite_3d_shader},s.prototype.setupAdditionalVariables=function(){},s.prototype.spriteName=function(){throw new Error("spriteName method must be overridden.")},s.prototype.spriteIndexX=function(){return this.spriteIndices()[this.current_sprite_index].x},s.prototype.spriteIndexY=function(){return this.spriteIndices()[this.current_sprite_index].y},s.prototype.width=function(){return this.spriteWidth()*this.scaleWidth()},s.prototype.height=function(){return this.spriteHeight()*this.scaleHeight()},s.prototype.isShow=function(){return!0},s.prototype.spriteAnimationSpan=function(){return 0},s.prototype.spriteIndices=function(){return[{x:0,y:0}]},s.prototype.spriteWidth=function(){return 0},s.prototype.spriteHeight=function(){return 0},s.prototype.rotateAdjust=function(){return 0},s.prototype.scaleWidth=function(){return 1},s.prototype.scaleHeight=function(){return 1},s.prototype.isReflect=function(){return!1},e.exports=s},{"../constant_3d":10,"../util":39,"./base":26,"gl-matrix":15}],31:[function(t,e,i){"use strict";var r=function(t,e){this.core=t,this.parent=e,this.width=this.core.width,this.height=this.core.height,this._x=0,this._y=0,this.frame_count=0,this.objects=[],this.current_scene=null,this._reserved_next_scene=null,this.scenes={},this._fade_in_duration=null,this._fade_in_color=null,this._fade_in_start_frame_count=null,this._fade_out_duration=null,this._fade_out_color=null,this._fade_out_start_frame_count=null};r.prototype.init=function(){this.current_scene=null,this._reserved_next_scene=null,this._x=0,this._y=0,this.frame_count=0,this._fade_in_duration=null,this._fade_in_color=null,this._fade_in_start_frame_count=null,this._fade_out_duration=null,this._fade_out_color=null,this._fade_out_start_frame_count=null;for(var t=0,e=this.objects.length;e>t;t++)this.objects[t].init()},r.prototype.beforeDraw=function(){this.frame_count++,this.changeNextSubSceneIfReserved();for(var t=0,e=this.objects.length;e>t;t++)this.objects[t].beforeDraw();this.currentSubScene()&&this.currentSubScene().beforeDraw()},r.prototype.draw=function(){for(var t=0,e=this.objects.length;e>t;t++)this.objects[t].draw();this.currentSubScene()&&this.currentSubScene().draw()},r.prototype.afterDraw=function(){var t,e=this.core.ctx;this.isInFadeIn()?(e.save(),t=this.frame_count-this._fade_in_start_frame_count<this._fade_in_duration?1-(this.frame_count-this._fade_in_start_frame_count)/this._fade_in_duration:0,e.globalAlpha=t,e.fillStyle=this._fade_in_color,e.fillRect(0,0,this.width,this.height),e.restore(),1===t&&this._quitFadeIn()):this.isInFadeOut()&&(e.save(),t=this.frame_count-this._fade_out_start_frame_count<this._fade_out_duration?(this.frame_count-this._fade_out_start_frame_count)/this._fade_out_duration:1,e.globalAlpha=t,e.fillStyle=this._fade_out_color,e.fillRect(0,0,this.width,this.height),e.restore(),1===t&&this._quitFadeOut());for(var i=0,r=this.objects.length;r>i;i++)this.objects[i].afterDraw();this.currentSubScene()&&this.currentSubScene().afterDraw()},r.prototype.addObject=function(t){this.objects.push(t)},r.prototype.addObjects=function(t){this.objects=this.objects.concat(t)},r.prototype.removeAllObject=function(){this.objects=[]},r.prototype.currentSubScene=function(){return null!==this.current_scene?this.scenes[this.current_scene]:void 0},r.prototype.getSubScene=function(t){return this.scenes[t]},r.prototype.addSubScene=function(t,e){this.scenes[t]=e},r.prototype.changeSubScene=function(){var t=Array.prototype.slice.call(arguments);this._reserved_next_scene=t},r.prototype.changeNextSubSceneIfReserved=function(){if(this._reserved_next_scene){this.current_scene=this._reserved_next_scene.shift();var t=this.currentSubScene();t.init.apply(t,this._reserved_next_scene),this._reserved_next_scene=null}},r.prototype.setFadeIn=function(t,e){this._fade_in_duration=t||30,this._fade_in_color=e||"white",this._startFadeIn()},r.prototype._startFadeIn=function(){this._quitFadeOut(),this._fade_in_start_frame_count=this.frame_count},r.prototype._quitFadeIn=function(){this._fade_in_duration=null,this._fade_in_color=null,this._fade_in_start_frame_count=null},r.prototype.isInFadeIn=function(){return null!==this._fade_in_start_frame_count?!0:!1},r.prototype.setFadeOut=function(t,e){this._fade_out_duration=t||30,this._fade_out_color=e||"black"},r.prototype.startFadeOut=function(){this.isSetFadeOut()&&(this._quitFadeIn(),this._fade_out_start_frame_count=this.frame_count)},r.prototype._quitFadeOut=function(){this._fade_out_duration=null,this._fade_out_color=null,this._fade_out_start_frame_count=null},r.prototype.isInFadeOut=function(){return null!==this._fade_out_start_frame_count?!0:!1},r.prototype.isSetFadeOut=function(){return this._fade_out_duration&&this._fade_out_color?!0:!1},r.prototype.x=function(t){return"undefined"!=typeof t&&(this._x=t),this._x},r.prototype.y=function(t){return"undefined"!=typeof t&&(this._y=t),this._y},e.exports=r},{}],32:[function(t,e,i){"use strict";var r=t("./base"),n=t("../util"),o=function(t){r.apply(this,arguments),this.next_scene_name=null};n.inherit(o,r),o.prototype.init=function(t,e){r.prototype.init.apply(this,arguments);var i=t.images||[],n=t.sounds||[],o=t.bgms||[];this.next_scene_name=e;for(var a in i)this.core.image_loader.loadImage(a,i[a]);for(var s in n){var u=n[s];this.core.audio_loader.loadSound(s,u.path,u.volume)}for(var c in o){var l=o[c];this.core.audio_loader.loadBGM(c,l.path,1,l.loopStart,l.loopEnd)}},o.prototype.beforeDraw=function(){r.prototype.beforeDraw.apply(this,arguments),this.core.image_loader.isAllLoaded()&&this.core.audio_loader.isAllLoaded()&&this.notifyAllLoaded()},o.prototype.progress=function(){var t=(this.core.audio_loader.progress()+this.core.image_loader.progress()+this.core.font_loader.progress())/3;return t},o.prototype.draw=function(){r.prototype.draw.apply(this,arguments)},o.prototype.notifyAllLoaded=function(){this.next_scene_name&&this.core.changeScene(this.next_scene_name)},e.exports=o},{"../util":39,"./base":31}],33:[function(t,e,i){"use strict";var r=10,n=t("./util"),o=function(){this._timeoutID=null,this._script=null,this._progress=null,this._chara_id_list=[],this._exp_id_list=[],this._option={},this._pos=null,this._is_background_changed=!1,this._background_image_name=null,this._char_list="",this._char_idx=0,this._is_enable_printing_message=!0,this._line_num=0,this._printing_lines=[]};o.prototype.init=function(t){t||console.error("set script arguments to use serif_manager class"),this._script=t,this._chara_id_list=[],this._exp_id_list=[],this._option={},this._progress=-1,this._timeoutID=null,this._pos=null,this._is_background_changed=!1,this._background_image_name=null,this._char_list="",this._char_idx=0,this._is_enable_printing_message=!0,this._line_num=0,this._printing_lines=[],this.is_end()||this.next()},o.prototype.isEnd=function(){return this._progress===this._script.length-1},o.prototype.next=function(){this._progress++;var t=this._script[this._progress];this._showChara(t),this._showBackground(t),this._setOption(t),t.serif?this._printMessage(t.serif):this.next()},o.prototype._showBackground=function(t){this._is_background_changed=!1,t.background&&this._background_image_name!==t.background&&(this._is_background_changed=!0,this._background_image_name=t.background)},o.prototype._showChara=function(t){var e=t.pos;e&&("left"===e&&(e=0),"right"===e&&(e=1),this._pos=e,this._chara_id_list[e]=t.chara,this._exp_id_list[e]=t.exp)},o.prototype._setOption=function(t){this._option=t.option||{},t.font_color&&(this._option=n.shallowCopyHash(this.option),this._option.font_color=t.font_color)},o.prototype._printMessage=function(t){this._cancelPrintMessage(),this._char_list=t.split(""),this._char_idx=0,this._line_num=0,this._printing_lines=[],this._startPrintMessage()},o.prototype._startPrintMessage=function(){var t=this._char_list.length;if(!(this._char_idx>=t)){if(this._is_enable_printing_message){var e=this._char_list[this._char_idx];this._char_idx++,"\n"===e?this._line_num++:(this._printing_lines[this._line_num]||(this._printing_lines[this._line_num]=""),this._printing_lines[this._line_num]=this._printing_lines[this._line_num]+e)}this._timeoutID=setTimeout(this._startPrintMessage.bind(this),r)}},o.prototype._cancelPrintMessage=function(){null!==this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)},o.prototype.startPrintMessage=function(){this._is_enable_printing_message=!0},o.prototype.cancelPrintMessage=function(){this._is_enable_printing_message=!1},o.prototype.isBackgroundChanged=function(){return this._is_background_changed},o.prototype.getBackgroundImageName=function(){return this._background_image_name},o.prototype.getImageName=function(t){return t=t||0,this._chara_id_list[t]?this._chara_id_list[t]+"_"+this._exp_id_list[t]:null},o.prototype.isTalking=function(t){return this._pos===t?!0:!1},o.prototype.getOption=function(){return this._option},o.prototype.lines=function(){return this._printing_lines},o.prototype.right_image=function(){var t=1;return this.getImageName(t)},o.prototype.left_image=function(){var t=0;return this.getImageName(t)},o.prototype.is_right_talking=function(){var t=1;return this.isTalking(t)},o.prototype.is_left_talking=function(){var t=0;return this.isTalking(t)},o.prototype.font_color=function(){return this._option.font_color},o.prototype.is_end=function(){return this.isEnd()},o.prototype.is_background_changed=function(){return this.isBackgroundChanged()},o.prototype.background_image=function(){return this.getBackgroundImageName()},e.exports=o},{"./util":39}],34:[function(t,e,i){e.exports="precision mediump float;\nuniform sampler2D uSampler;\nvarying vec2 vTextureCoordinates;\nvarying vec4 vColor;\n\nvoid main() {\n	vec4 textureColor = texture2D(uSampler, vTextureCoordinates);\n	gl_FragColor = textureColor * vColor;\n}\n\n"},{}],35:[function(t,e,i){e.exports="attribute vec3 aVertexPosition;\nattribute vec2 aTextureCoordinates;\nattribute vec4 aColor;\n\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\nvarying vec2 vTextureCoordinates;\nvarying vec4 vColor;\n\nvoid main() {\n	gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);\n	vTextureCoordinates = aTextureCoordinates;\n	vColor = aColor;\n}\n\n"},{}],36:[function(t,e,i){"use strict";var r=(t("gl-matrix"),function(t,e,i,r,n){if(!t)throw new Error("arguments 1 must be WebGLRenderingContext instance");this.gl=t;var o,a=this.createShader(t,t.VERTEX_SHADER,e),s=this.createShader(t,t.FRAGMENT_SHADER,i),u=this.createShaderProgram(t,a,s),c={};for(o=0;o<r.length;o++)c[r[o]]=t.getAttribLocation(u,r[o]);var l={};for(o=0;o<n.length;o++)l[n[o]]=t.getUniformLocation(u,n[o]);this.shader_program=u,this.attribute_locations=c,this.uniform_locations=l});r.prototype.createShader=function(t,e,i){if(e!==t.VERTEX_SHADER&&e!==t.FRAGMENT_SHADER)throw new Error("type must be vertex or fragment");var r=t.createShader(e);if(t.shaderSource(r,i),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw(e===t.VERTEX_SHADER?"Vertex":"Fragment")+" failed to compile:\n\n"+t.getShaderInfoLog(r);return r},r.prototype.createShaderProgram=function(t,e,i){var r=t.createProgram();if(t.attachShader(r,e),t.attachShader(r,i),t.linkProgram(r),!t.getProgramParameter(r,t.LINK_STATUS))throw new Error("Could not initialize shaders:\n\n"+t.getProgramInfoLog(r));return r},e.exports=r},{"gl-matrix":15}],37:[function(t,e,i){"use strict";var r=t("../util"),n="hakurei_engine:default",o=function(t){t||(t={}),this._data=t};o.KEY=function(){return n},o.prototype.set=function(t,e){this._data[t]=e},o.prototype.get=function(t){return this._data[t]},o.prototype.remove=function(t){return delete this._data[t]},o.prototype.isEmpty=function(t){return 0===Object.keys(this._data).length},o.prototype.toHash=function(){return r.shallowCopyHash(this._data)},o.isLocalMode=function(){return r.isElectron()?!0:!1},o.prototype.save=function(){var t=this.constructor;t.isLocalMode()?this._saveToLocalFile():this._saveToWebStorage()},o.prototype._saveToLocalFile=function(){var t=this.constructor,e=window.require("fs"),i=JSON.stringify(this._data),r=t._localFileDirectoryPath(),n=r+t._localFileName(t.KEY());e.existsSync(r)||e.mkdirSync(r),e.writeFileSync(n,i)},o._localFileDirectoryPath=function(){var t=window.require("path"),e=window.require("electron").remote.app,i=e.getPath("appData"),r=e.getName();return t.join(i,r,"save/")},o._localFileName=function(t){return t+".json"},o._localFilePath=function(t){return this._localFileDirectoryPath()+this._localFileName(t)},o.prototype._saveToWebStorage=function(){var t=this.constructor,e=t.KEY(),i=JSON.stringify(this._data);try{window.localStorage.setItem(e,i)}catch(r){}},o.load=function(){var t;t=this.isLocalMode()?this._loadFromLocalFile():this._loadFromWebStorage();var e=this;return t?new e(t):new e},o._loadFromLocalFile=function(){var t=window.require("fs"),e=this._localFilePath(this.KEY());if(!t.existsSync(e))return null;var i=t.readFileSync(e,{encoding:"utf8"});return i?JSON.parse(i):null},o._loadFromWebStorage=function(){var t,e=this.KEY();try{t=window.localStorage.getItem(e)}catch(i){}return t?JSON.parse(t):null},o.prototype.del=function(){var t=this.constructor;t.isLocalMode()?this._removeLocalFile():this._removeWebStorage(),this._data={}},o.prototype._removeLocalFile=function(){var t=this.constructor,e=window.require("fs"),i=this._localFilePath(t.KEY());e.existsSync(i)&&e.unlinkSync(i)},o.prototype._removeWebStorage=function(){var t=this.constructor,e=t.KEY();try{window.localStorage.removeItem(e)}catch(i){}},e.exports=o},{"../util":39}],38:[function(t,e,i){"use strict";var r=t("./base"),n=t("../util"),o=function(t){r.apply(this,arguments)};n.inherit(o,r),o.KEY=function(){var t="hakurei_engine:save";return!this.isLocalMode()&&window&&window.location?t+":"+window.location.pathname:"save"},e.exports=o},{"../util":39,"./base":37}],39:[function(t,e,i){"use strict";var r={inherit:function(t,e){var i=function(t){if(Object.create)return Object.create(t);var e=function(){};return e.prototype=t,new e};t.prototype=i(e.prototype),t.prototype.constructor=t;for(var r in e)t[r]=e[r]},radianToTheta:function(t){return 180*t/Math.PI|0},thetaToRadian:function(t){return t*Math.PI/180},calcMoveXByVelocity:function(t){return t.magnitude*Math.cos(r.thetaToRadian(t.theta))},calcMoveYByVelocity:function(t){return t.magnitude*Math.sin(r.thetaToRadian(t.theta))},hexToRGBString:function(t){var e="#"===t.charAt(0)?t.substring(1,7):t,i=parseInt(e.substring(0,2),16),r=parseInt(e.substring(2,4),16),n=parseInt(e.substring(4,6),16);return"rgb("+i+", "+r+", "+n+")"},clamp:function(t,e,i){return e>t?e:t>i?i:t},isElectron:function(){return"undefined"!=typeof window&&window.process&&"renderer"===window.process.type?!0:!1},canPlayOgg:function(){var t=document.createElement("audio");return t.canPlayType?t.canPlayType("audio/ogg"):!1},shallowCopyHash:function(t){var e={};for(var i in t)e[i]=t[i];return e}};e.exports=r},{}],40:[function(t,e,i){"use strict";var r=function(){};r.exec=function(t){var e=document.createElement("canvas");e.width=t.width,e.height=t.height;var i=e.getContext("2d");return i.globalAlpha=.5,i.fillStyle="rgb( 0, 0, 0 )",i.fillRect(0,0,t.width,t.height),i.globalCompositeOperation="destination-atop",i.globalAlpha=1,i.drawImage(t,0,0,t.width,t.height),e},e.exports=r},{}],41:[function(t,e,i){"use strict";var r=t("../constant"),n=t("../object/tile/block_green"),o=t("../object/tile/block_blue"),a=t("../object/tile/block_red"),s=t("../object/tile/block_purple"),u=t("../object/tile/block_disappear"),c=t("../object/tile/ladder"),l=t("../object/tile/player"),h=t("../object/tile/enemy"),p=t("../object/tile/enemy_vertical"),f=t("../object/tile/item_for_reimu"),_=t("../object/tile/item_for_yukari"),g=t("../object/tile/item_of_exchange"),m=t("../object/tile/death"),d=t("../object/tile/block_stone1"),y=t("../object/tile/block_stone2"),x=t("../object/tile/block_stone3"),b=t("../object/stage_frame1"),S=t("../object/stage_frame2"),v=(t("../logic/score"),{});v[r.BLOCK_GREEN]=n,v[r.BLOCK_BLUE]=o,v[r.BLOCK_RED]=a,v[r.BLOCK_PURPLE]=s,v[r.BLOCK_DISAPPEAR]=u,v[r.LADDER]=c,v[r.PLAYER]=l,v[r.ENEMY]=h,v[r.ENEMY_VERTICAL]=p,v[r.ITEM_FOR_REIMU]=f,v[r.ITEM_FOR_YUKARI]=_,v[r.ITEM_OF_EXCHANGE]=g,v[r.DEATH]=m,v[r.BLOCK_STONE1]=d,v[r.BLOCK_STONE2]=y,v[r.BLOCK_STONE3]=x;var M=function(){};M._initializeObjectsByTileType=function(){var t={};for(var e in v)t[e]=[];return t},M.exec=function(t,e,i,n,o){o=o||1;for(var a=r.TILE_SIZE*o,s=this._initializeObjectsByTileType(),u=0;u<e.length;u++)for(var c=e[u],l=0;l<c.length;l++){var h=c[l],p=l*a+i+a/2,f=u*a+n+a/2,_=v[h];if(_){var g=new _(t);g.init(p,f,o),s[h]||(s[h]=[]),s[h].push(g)}}return s},M.drawBackground=function(t,e,i,n,o){o=o||1;var a=r.TILE_SIZE*o;t.save();var s=t.createPattern(e,"repeat");t.fillStyle=s,t.fillRect(i,n,a*r.STAGE_TILE_X_NUM,a*r.STAGE_TILE_Y_NUM),t.restore()},M.drawFrames=function(t,e,i,n){n=n||1;for(var o,a,s,u=r.TILE_SIZE*n,c=new b(t),l=new S(t),h=0;h<r.STAGE_TILE_Y_NUM-1;h++)o=e,a=h*u+i+24,s=!0,c.draw(o,a,s),o=e+u*r.STAGE_TILE_X_NUM,s=!0,c.draw(o,a,s);for(var p=0;p<r.STAGE_TILE_X_NUM-1;p++)o=p*u+e+24,a=i,s=!1,c.draw(o,a,s),a=i+u*r.STAGE_TILE_Y_NUM,s=!1,c.draw(o,a,s);l.draw(e,i,270),l.draw(e+u*r.STAGE_TILE_X_NUM,i,0),l.draw(e,i+u*r.STAGE_TILE_Y_NUM,180),l.draw(e+u*r.STAGE_TILE_X_NUM,i+u*r.STAGE_TILE_Y_NUM,90)},e.exports=M},{"../constant":2,"../logic/score":45,"../object/stage_frame1":137,"../object/stage_frame2":138,"../object/tile/block_blue":140,"../object/tile/block_disappear":141,"../object/tile/block_green":142,"../object/tile/block_purple":143,"../object/tile/block_red":144,"../object/tile/block_stone1":145,"../object/tile/block_stone2":146,"../object/tile/block_stone3":147,"../object/tile/death":148,"../object/tile/enemy":149,"../object/tile/enemy_vertical":150,"../object/tile/item_for_reimu":151,"../object/tile/item_for_yukari":152,"../object/tile/item_of_exchange":153,"../object/tile/ladder":154,"../object/tile/player":155}],42:[function(t,e,i){"use strict";var r=function(){};r.exec=function(t){return t.getIsNormalStageCleared()&&!t.getIsExStageCleared()?"title_without_yukari":"title"},e.exports=r},{}],43:[function(t,e,i){"use strict";var r=[["reimu","smile","やるじゃない！"],["yukari","smile","あら、すてきね！"]],n=[["reimu","laugh2","まぁ、こんなところね"],["yukari","normal3","上出来ね"]],o=[["reimu","yarare","ちょっと調子が悪かっただけよ"],["yukari","normal2","あら、残念"],["yukari","normal1","雨垂れでも石を穿つものよ。次がんばりましょう"]];e.exports={1:o,2:n,3:r}},{}],44:[function(t,e,i){"use strict";var r,n=[["reimu","confused","紫がベタベタひっついてくるけど、暑くないのかしら"],["reimu","normal2","紫がこの前言ってた、せんぷうき？アレうちの神社に持ってきてよ"],["reimu","normal1","冬までまだ時間があるからか、紫がやたら元気なのよね"],["yukari","disappointed","霊夢ったら、せっかくの肝試しなのに全然怖がってくれないわ"],["yukari","ecstasy2","霊夢ー！おばけー！"],["yukari","normal2","ちっちゃい頃は、霊夢の方から「ゆかりー！おばけこわいー！」って\nひっついてきたのに、寂しいわ"],["yukari","smile","あらあら、霊夢ったらせっかくのリボンの結びが崩れてるわ"]],o=[["reimu","normal1","そもそも、このオバケたち、どこから持ってきたのかしら"],["reimu","normal1","紫、アイツ何か隠しているんじゃないかしら"],["yukari","ecstasy1","霊夢ったら、いつの間にか一人前になっちゃって"],["yukari","normal1","博麗大結界は代々、博麗の巫女が管理してきたのよ"],["reimu","normal1","アイツとこうしてるのも、月の異変以来ね"]],a=[["reimu","strength1","アイツ、ガラにもないこと言い出して...\n絶対連れ戻すんだから！"],["reimu","confused","紫..."],["reimu","strength2","まったく...アイツは本当に面倒くさいのよ"],["reimu","confused","思えば、アイツがいなくなるなんて、考えもしなかったわね"]],s=[];for(r=0;15>r;r++)s.push(n);for(r=15;30>r;r++)s.push(o);for(r=30;40>r;r++)s.push(a);e.exports=s},{}],45:[function(t,e,i){"use strict";var r=t("../stage_config").MAPS,n=function(){};n.calcHonor=function(t,e,i){var r=this.getStageData(t),n=this.calcScore(e,i),o=this.calcScore(r.criteria_time,r.criteria_exchange_num);return n>o?3:o>=n&&n>o-1e4?2:o-1e4>=n?1:void 0},n.calcScore=function(t,e){var i=1e4-t,r=10-e;return 0>i&&(i=0),0>r&&(r=0),i*r},n.getStageData=function(t){return r[t]},e.exports=n},{"../stage_config":229}],46:[function(t,e,i){"use strict";var r=[{font_color:"#e6373c",background:"after_ex1",pos:null,exp:null,chara:null,serif:"やっぱり……無理なの？"},{font_color:"#8b5fbf",background:"after_ex1",pos:null,exp:null,chara:null,serif:"ええ、ごめんなさいね"},{font_color:"#8b5fbf",background:"after_ex1",pos:null,exp:null,chara:null,serif:"でも……また逢えるから。貴女が寂しくなったときにはきっと、ね"},{font_color:"#e6373c",background:"after_ex1",pos:null,exp:null,chara:null,serif:"紫は……幻想郷の方が大事なの？"},{font_color:"#8b5fbf",background:"after_ex1",pos:null,exp:null,chara:null,serif:"……そんなことはないわよ。愛しの子らだもの、貴女も幻想郷も同じくらい好きよ"},{font_color:"#8b5fbf",background:"after_ex1",pos:null,exp:null,chara:null,serif:"でもね、霊夢。始まりには必ず終わりが来るものなのよ。生きとし生けるものが\n泡沫のように散り去るのと同じように、森羅万象全てにはそう宿命付けられているの"},{font_color:"#8b5fbf",background:"after_ex1",pos:null,exp:null,chara:null,serif:"それはとても哀しいことだけれども、終わることで始まることもある。\n消えぬ霧を、迎えぬ春を、明けぬ夜を終えて乗り越えた貴女なら分かるでしょう？"},{font_color:"#8b5fbf",background:"after_ex1",pos:null,exp:null,chara:null,serif:"だから大丈夫、心配する必要なんてないわ。私が愛することが出来なくても、\n今度は代わりに幻想郷が貴女を愛する。貴女はもう素敵な楽園の巫女なのだから、ね？"},{font_color:"#e6373c",background:"after_ex1",pos:null,exp:null,chara:null,serif:"…………そんなこと……ない"},{font_color:"#e6373c",background:"after_ex1",pos:null,exp:null,chara:null,serif:"私にだって、終わらせたくない異変もあるのよ……紫"},{font_color:"#8b5fbf",
background:"after_ex1",pos:null,exp:null,chara:null,serif:"ダメよ、霊夢。貴女の手でこの異変に幕を下ろさなきゃ。\n異変を解決するのが、貴女の務めなのだから。お願い、分かって"},{font_color:"#e6373c",background:"after_ex1",pos:null,exp:null,chara:null,serif:"…………"},{background:"after_ex2",pos:null,exp:null,chara:null,serif:"…………わかったわよ。紫にそんな顔されたんじゃ、\nまるで私が紫を困らせる悪い子みたいじゃない"},{background:"after_ex2",pos:null,exp:null,chara:null,serif:"薄々は感じていたわ。紫がこんなことをするってことは、もうどうしようもないところ\nまで来ていることくらいは。それでも可能性があるのなら、それに賭けたかったのよ"},{background:"after_ex2",pos:null,exp:null,chara:null,serif:"……でも、その賭けもどうやら負けのようね。私はこのまま幻想郷に戻るわ。\nそろそろ心も体も限界だし"},{background:"after_ex2",pos:null,exp:null,chara:null,serif:"寂しくないと言ったら嘘になるけれど……、こればかりは仕方ないわよね"},{background:"after_ex2",pos:null,exp:null,chara:null,serif:"じゃあここでお別れね。楽しかったわ、紫"},{background:"after_ex2",pos:null,exp:null,chara:null,serif:"さようなら……"},{background:"after_ex3",pos:null,exp:null,chara:null,serif:"霊夢、忘れ物よ"},{background:"after_ex3",pos:null,exp:null,chara:null,serif:"えっ"},{background:"after_ex4",pos:null,exp:null,chara:null,serif:"じゃあね、霊夢。またね"}];e.exports=r},{}],47:[function(t,e,i){"use strict";var r=[{background:"shrine_night",pos:"right",exp:"confused",chara:"reimu",serif:"ここは……ウチの神社！？"},{background:"shrine_night",pos:"right",exp:"confused",chara:"reimu",serif:"まさか――始めからこうなることを分かっていて、\n私だけを送り飛ばしたんじゃ……！？"},{background:"shrine_night",pos:"right",exp:"confused",chara:"reimu",serif:"あ……"},{background:"shrine_night",pos:"right",exp:null,chara:null,serif:null},{background:"reminiscence1",pos:null,exp:null,chara:null,serif:"私がいつまで霊夢のそばにいられるか分からないでしょ？"},{background:"reminiscence1",pos:null,exp:null,chara:null,serif:"そんなことあり得るの？　紫の方がずっと長生きするのに"},{background:"reminiscence1",pos:null,exp:null,chara:null,serif:"さぁ、どうかしら"},{background:"reminiscence1",pos:null,exp:null,chara:null,serif:"でもね、霊夢。幻想郷は全てを受け入れるのよ。それはそれは残酷な話ですわ"},{background:"shrine_night",pos:"right",exp:"confused",chara:"reimu",serif:"――紫は今、おそらく博麗大結界と幻と実体の境界との狭間にいるはず……"},{background:"shrine_night",pos:"right",exp:"confused",chara:"reimu",serif:"けれど――、境界を操る能力を持たない私には、\nその境目にすら行くことが出来ない……"},{background:"shrine_night",pos:"right",exp:"cry",chara:"reimu",serif:"なら――、これも受け入れなくちゃいけないのね……"},{background:"shrine_night",pos:"right",exp:"cry",chara:"reimu",serif:"紫――――。"}];e.exports=r},{}],48:[function(t,e,i){"use strict";var r=[{background:"epilogue1",pos:null,exp:null,chara:null,serif:"――あれから何度目の夏だろう。いつからか、数えることも止めてしまった。\nあの夏からずっと、私の中で何かが止まってしまっていた。"},{background:"epilogue1",pos:null,exp:null,chara:null,serif:"紫とはあの夏を境に一度も会えていない。今もまだ、行方知れずのままだ。"},{background:"epilogue1",pos:null,exp:null,chara:null,serif:"それでも、紫が最後まで愛していたこの幻想郷だけは守るべく、\n暇さえあればこうして霊符を作っては博麗大結界の修復に勤しんでいる。"},{background:"epilogue2",pos:null,exp:null,chara:null,serif:"……ふぅ"},{background:"epilogue2",pos:null,exp:null,chara:null,serif:"これで今日の分はお終いかな。これだけ作っておけば十分でしょ"},{background:"epilogue2",pos:null,exp:null,chara:null,serif:"ただまぁ、流石にアイツのようにはそう綺麗に書けないわね。\n量産ができるようになっただけ、いくらかマシにはなったけれども"},{background:"epilogue2",pos:null,exp:null,chara:null,serif:"…………今頃何してるんだろう、アイツ……"},{background:"epilogue2",pos:null,exp:null,chara:null,serif:"いつかまた会えるとは言っていたけれども――\nやっぱり、あれは嘘だったのかしらね……"},{background:"epilogue2",pos:null,exp:null,chara:null,serif:"もう二度と、アイツの顔は見られないのかな……"},{background:"epilogue3",pos:null,exp:null,chara:null,serif:"……あ、やば"},{background:"epilogue3",pos:null,exp:null,chara:null,serif:"ってあれ？　この辺に筆を落としたはずなんだけれど……"},{font_color:"#8b5fbf",background:"epilogue3",pos:null,exp:null,chara:null,serif:"――ったく、貴女は昔から何も変わってないのね"},{font_color:"#8b5fbf",background:"epilogue3",pos:null,exp:null,chara:null,serif:"ダメじゃない、筆を落としちゃ。ちゃんと握りなさいって習わなかった？"},{font_color:"#8b5fbf",background:"epilogue3",pos:null,exp:null,chara:null,serif:"って、なに泣いてるのよ。貴女らしくもない。せっかくの可愛い顔が台無しじゃない"},{font_color:"#e6373c",background:"epilogue3",pos:null,exp:null,chara:null,serif:"……うっさい！　待たせ過ぎたアンタが悪い！"},{font_color:"#8b5fbf",background:"epilogue3",pos:null,exp:null,chara:null,serif:"だって仕方がないじゃない。貴女の心に全然スキマが生まれないせいで、\n通って来ようにもまるで通れなかったんだもの"},{font_color:"#e6373c",background:"epilogue3",pos:null,exp:null,chara:null,serif:"火間虫入道のしすぎで太りでもしたんじゃないの？"},{font_color:"#8b5fbf",background:"epilogue3",pos:null,exp:null,chara:null,serif:"久しぶりの再会だっていうのにー。ひどいわー"},{font_color:"#e6373c",background:"epilogue3",pos:null,exp:null,chara:null,serif:"ひどいのはアンタの方よ！　女を泣かすなんて極刑よ極刑！"},{font_color:"#8b5fbf",background:"epilogue3",pos:null,exp:null,chara:null,serif:"あら、女って言えるほどの歳になったのかしら？\n見たところ、その両胸の果実はずいぶんとまだ固そうだけれども"},{font_color:"#e6373c",background:"epilogue3",pos:null,exp:null,chara:null,serif:"あーもう、うっさい！　アンタが来ると調子が狂う"},{font_color:"#e6373c",background:"epilogue3",pos:null,exp:null,chara:null,serif:"……でも、まぁ……その…………"},{font_color:null,background:"title_bg",pos:null,exp:null,chara:null,serif:"…………おかえりなさい、紫"},{font_color:null,background:"title_bg",pos:null,exp:null,chara:null,serif:"ええ。ただいま、霊夢"}];e.exports=r},{}],49:[function(t,e,i){"use strict";var r=[{pos:"right",exp:"strength1",chara:"reimu",serif:"――――もし、"},{pos:"right",exp:"strength1",chara:"reimu",serif:"もし、この幻想郷が全てを受け入れるというのであれば――"},{pos:"right",exp:"strength2",chara:"reimu",serif:"この結末を受け入れない私もまた、受け入れるはずよ！"}];e.exports=r},{}],50:[function(t,e,i){"use strict";var r=[{pos:"right",exp:"strength1",chara:"reimu",serif:"あー、ったく暑い！\nもう晩夏だっていうのに、どうしてこうも暑いのよ！"},{pos:"right",exp:"strength1",chara:"reimu",serif:"せめてあの氷精みたいに、そばにいるだけで\n温度を下げてくれるような冷気を帯びた奴がいれば良いのに……"},{pos:"left",exp:"smile",chara:"yukari",serif:"あら、呼んだかしら？"},{pos:"right",exp:"strength2",chara:"reimu",serif:"アンタは呼んでない！"},{pos:"left",exp:"normal1",chara:"yukari",serif:"そう？ 私の手にかかれば、例えばこんな感じで\n貴女の背中をつつーっとなぞれば……"},{pos:"right",exp:"angry2",chara:"reimu",serif:"な、何してんのよ！？"},{pos:"left",exp:"ecstasy2",chara:"yukari",serif:"いやー、こうすれば少しは涼しくなるかなーって"},{pos:"right",exp:"angry2",chara:"reimu",serif:"アンタのそれは冷気じゃなくて寒気！気色悪いからやめて！"},{pos:"left",exp:"disappointed",chara:"yukari",serif:"っもう、相変わらずつれないのね。他にもとっておきの案を持ってきたって言うのに"},{pos:"right",exp:"strength1",chara:"reimu",serif:"……アンタが出してきた案の中で、今までロクなものがなかったじゃない"},{pos:"left",exp:"normal3",chara:"yukari",serif:"まぁまぁそう言わずに。今回は暑がりな霊夢のために、\nとびっきりのスペシャルコースを用意しといたから"},{pos:"left",exp:"smile",chara:"yukari",serif:"それじゃ、早速行くわよ"},{pos:"right",exp:"normal1",chara:"reimu",serif:"行くって、一体何をしに行く気よ"},{pos:"left",exp:"normal1",chara:"yukari",serif:"決まっているじゃない、霊夢"},{pos:"left",exp:"smile",chara:"yukari",serif:"納涼の定番、肝試しよ"}];e.exports=r},{}],51:[function(t,e,i){"use strict";var r=[{background:"reminiscence1",pos:null,exp:null,chara:null,serif:"もう、霊夢ったら。そう力任せにぐちゃっと書いちゃダメよ。\n霊符にならないじゃない"},{background:"reminiscence1",pos:null,exp:null,chara:null,serif:"霊符はね、紙と咒文とが組み合わさって初めて効果を発揮するの。いい？\n書く時はこう、筆の向きに逆らわないようにしながら、すすーっと走らせて――"},{background:"reminiscence1",pos:null,exp:null,chara:null,serif:"そんなこと言われたって難しいんだもん！"},{background:"reminiscence1",pos:null,exp:null,chara:null,serif:"そうやってすぐにむくれて筆を投げ落とさないの。ほら、ちゃんと筆を握って。\nいつかは貴女も、この札を使わなきゃいけなくなる時が来るのよ？"},{background:"reminiscence1",pos:null,exp:null,chara:null,serif:"……紫が書いて作り置きしとけばいいじゃん"},{background:"reminiscence1",pos:null,exp:null,chara:null,serif:"私がいつまで霊夢のそばにいられるか分からないでしょ？"},{background:"reminiscence1",pos:null,exp:null,chara:null,serif:"そんなことあり得るの？\n紫の方がずっと長生きするのに"},{background:"reminiscence1",pos:null,exp:null,chara:null,serif:"さぁ、どうかしら"},{background:"reminiscence2",pos:null,exp:null,chara:null,serif:"でもね、霊夢。幻想郷は全てを受け入れるのよ。\nそれはそれは残酷な話ですわ"}];e.exports=r},{}],52:[function(t,e,i){"use strict";var r=[];e.exports=r},{}],53:[function(t,e,i){"use strict";var r=[{pos:"right",exp:"confused",chara:"reimu",fukidashi:"normal",serif:"きゃっ"},{pos:"left",exp:"smile",chara:"yukari",fukidashi:"normal",serif:"肝試しの会場へようこそ"},{pos:"right",exp:"angry2",chara:"reimu",fukidashi:"normal",serif:"すいぶん丁重な送迎してくれるじゃない"},{pos:"left",exp:"normal3",chara:"yukari",fukidashi:"normal",serif:"ほら、見て"},{pos:"right",exp:"angry2",chara:"reimu",fukidashi:"normal",serif:"なによ"},{pos:"right",exp:"normal1",chara:"reimu",fukidashi:"normal",serif:"御札が落ちてるわ"},{pos:"left",exp:"normal1",chara:"yukari",fukidashi:"normal",serif:"せっかくなので、御札を集めていきましょう"},{pos:"right",exp:"normal1",chara:"reimu",fukidashi:"normal",serif:"わたしじゃ取れない場所にあるじゃない"},{pos:"left",exp:"normal2",chara:"yukari",fukidashi:"normal",serif:"手伝ってあげるわよ"},{pos:"left",exp:"normal2",chara:"yukari",fukidashi:"normal",serif:"X キーで私と霊夢の位置を入れかえることができるわ"},{pos:"left",exp:"smile",chara:"yukari",fukidashi:"normal",serif:"私は霊夢といつも反対の位置にいるから"},{pos:"right",exp:"normal1",chara:"reimu",fukidashi:"normal",serif:"X キーね"},{pos:"left",exp:"normal1",chara:"yukari",fukidashi:"normal",serif:"入れ替えられる回数には上限があるから"},{pos:"left",exp:"normal3",chara:"yukari",fukidashi:"normal",serif:"私の上にある数字はよく見ていてね"}];e.exports=r},{}],54:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],55:[function(t,e,i){"use strict";var r=[{pos:"left",exp:"ecstasy2",chara:"yukari",fukidashi:"normal",serif:"きゃー、れいむー！"},{pos:"left",exp:"ecstasy2",chara:"yukari",fukidashi:"normal",serif:"オバケ、こわーい！"},{pos:"right",exp:"normal2",chara:"reimu",fukidashi:"normal",serif:"(ベシッ)"},{pos:"left",exp:"yarare",chara:"yukari",fukidashi:"normal",serif:"いたいっ！"},{pos:"right",exp:"normal1",chara:"reimu",fukidashi:"normal",serif:"あれ、なによ"},{pos:"left",exp:"normal4",chara:"yukari",fukidashi:"normal",serif:"オバケみたいね"},{pos:"left",exp:"normal1",chara:"yukari",fukidashi:"normal",serif:"触れちゃダメよ"},{pos:"right",exp:"normal2",chara:"reimu",fukidashi:"normal",serif:"はいはい"},{pos:"left",exp:"smile",chara:"yukari",fukidashi:"normal",serif:"わたしはオバケに触れても大丈夫だから"},{pos:"right",exp:"angry1",chara:"reimu",fukidashi:"normal",serif:"アンタだけずるくない！？"}];e.exports=r},{}],56:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],57:[function(t,e,i){"use strict";var r=[{pos:"right",exp:"normal1",chara:"reimu",fukidashi:"normal",serif:"リボンが落ちてるわ"},{pos:"left",exp:"normal4",chara:"yukari",fukidashi:"normal",serif:"あら、わたしのリボン"},{pos:"right",exp:"normal1",chara:"reimu",fukidashi:"normal",serif:"なんでこんなところに落ちてるのよ"},{pos:"left",exp:"laugh",chara:"yukari",fukidashi:"normal",serif:"どうりでここ最近、リボンの数が足りないと思ったわー"},{pos:"right",exp:"confused",chara:"reimu",fukidashi:"normal",serif:"アンタ、何個リボン持ってるのよ"},{pos:"left",exp:"normal1",chara:"yukari",fukidashi:"normal",serif:"霊夢が御札を集めて、私がリボンを集めましょう"},{pos:"right",exp:"normal1",chara:"reimu",fukidashi:"normal",serif:"リボンはわたしじゃ拾えないのね"}];e.exports=r},{}],58:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],59:[function(t,e,i){"use strict";var r=[{pos:"left",exp:"normal1",chara:"yukari",fukidashi:"normal",serif:null},{pos:"right",exp:"normal2",chara:"reimu",fukidashi:"normal",serif:"色の違うブロックがあるわ"},{pos:"left",exp:"normal1",chara:"yukari",fukidashi:"normal",serif:"一度乗ったら消えちゃうみたいね"},{pos:"right",exp:"normal1",chara:"reimu",fukidashi:"normal",serif:"消えちゃうのね"}];e.exports=r},{}],60:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],61:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],62:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],63:[function(t,e,i){"use strict";var r=[{pos:"right",exp:"normal1",chara:"reimu",fukidashi:"normal",serif:"あれ、ゆかり？どこー？"},{pos:"left",exp:"normal3",chara:"yukari",fukidashi:"normal",serif:"なーに、霊夢？"},{pos:"right",exp:"normal2",chara:"reimu",fukidashi:"normal",serif:"アンタさっきと違う位置にいない？"},{pos:"left",exp:"normal4",chara:"yukari",fukidashi:"normal",serif:"このステージでは上下の反対側にいるみたいね"},{pos:"right",exp:"normal1",chara:"reimu",fukidashi:"normal",serif:"ふぅん"}];e.exports=r},{}],64:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],65:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],66:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],67:[function(t,e,i){"use strict";var r=[{pos:"right",exp:"normal1",chara:"reimu",fukidashi:"normal",serif:null},{pos:"left",exp:"normal3",chara:"yukari",fukidashi:"normal",serif:"霊夢、見て"},{pos:"right",exp:"normal1",chara:"reimu",fukidashi:"normal",serif:"あら、陰陽玉が落ちてるわ"},{pos:"left",exp:"normal3",chara:"yukari",fukidashi:"normal",serif:"取ると私の位置がかわるわ"},{pos:"right",exp:"normal1",chara:"reimu",fukidashi:"normal",serif:"どういうこと？"},{pos:"left",exp:"normal3",chara:"yukari",fukidashi:"normal",serif:"霊夢の左右の反対側に私がいるときに取ると、\n霊夢の上下の反対側に私がいるようになるの"},{pos:"left",exp:"normal3",chara:"yukari",fukidashi:"normal",serif:"その逆で、霊夢の上下の反対側にいるときは、\n霊夢の左右の反対側になるわ"},{pos:"right",exp:"normal1",chara:"reimu",fukidashi:"normal",serif:"紫が左右の反対にいるのか、上下の反対にいるのかが入れ替わるわけね"}];e.exports=r},{}],68:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],69:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],70:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],71:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],72:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],73:[function(t,e,i){"use strict";var r=[{pos:"left",exp:"normal1",chara:"yukari",serif:null},{pos:"right",exp:"normal2",chara:"reimu",serif:"結構先が長いのね"},{pos:"left",exp:"normal1",chara:"yukari",serif:"少しは涼しくなったかしら"},{pos:"right",exp:"normal2",chara:"reimu",serif:"アンタたち妖怪のほうが、よっぽど怖いわね"},{pos:"left",exp:"normal2",chara:"yukari",serif:"つれないわねぇ..."}];e.exports=r},{}],74:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],75:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],76:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],77:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],78:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],79:[function(t,e,i){"use strict";var r=[{pos:"right",exp:"normal1",chara:"reimu",fukidashi:"normal",serif:null},{pos:"left",exp:"normal3",chara:"yukari",fukidashi:"normal",serif:"また陰陽玉があるわね"},{pos:"right",exp:"normal1",chara:"reimu",fukidashi:"normal",serif:"取ると紫の場所が、変わるんでしょ"},{pos:"left",exp:"smile",chara:"yukari",fukidashi:"normal",serif:"そのとおりよ♪"}];e.exports=r},{}],80:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],81:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],82:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],83:[function(t,e,i){"use strict";var r=[{pos:"left",exp:"normal1",chara:"yukari",serif:null},{pos:"right",exp:"normal2",chara:"reimu",serif:"ねぇ、紫"},{pos:"left",exp:"normal1",chara:"yukari",serif:"うん？ なあに？"},{pos:"right",exp:"normal1",chara:"reimu",serif:"もしかしてだけれども、ここってまさか、\nアンタがお得意のスキマ空間じゃないわよね？"},{pos:"left",exp:"normal1",chara:"yukari",serif:"どうかしら"},{pos:"right",exp:"normal2",chara:"reimu",serif:"どうかしらってどういう意味よ"},{pos:"left",exp:"normal3",chara:"yukari",serif:"そのまんまの意味よ。そうとも言えるし、そうじゃないとも言えるわ"},{pos:"right",exp:"normal2",chara:"reimu",serif:"……？"}];e.exports=r},{}],84:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],85:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],86:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],87:[function(t,e,i){"use strict";var r=[{pos:"left",exp:"normal1",chara:"yukari",serif:null},{pos:"right",exp:"confused",chara:"reimu",serif:"答えてよ紫。ここは一体どこなの？\nアンタは私に、一体何をやらせようとしているのよ？"},{pos:"left",exp:"normal4",chara:"yukari",serif:"……そうね、前者の問いかけに関して言えば、\n霊夢が言う通り、ここはスキマ空間ということになるかしら"},{pos:"right",exp:"confused",chara:"reimu",serif:"やっぱりそうだったのね。なんかおかしいと思ったわ"},{pos:"right",exp:"confused",chara:"reimu",serif:"どうしてそう、大事なことを黙っていたのよ？"},{pos:"left",exp:"normal2",chara:"yukari",serif:"……好きで黙っていたわけじゃないわ"},{pos:"left",exp:"normal2",chara:"yukari",serif:"ただ……、少しでも霊夢といつも通りでいたかったからよ"},{pos:"right",exp:"confused",chara:"reimu",serif:"一体、何を言って――"}];e.exports=r},{}],88:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],89:[function(t,e,i){"use strict";var r=[{pos:"right",exp:"confused",chara:"reimu",serif:null},{pos:"left",exp:"normal1",chara:"yukari",serif:"始めから決まっていたことなのよ。\n元々私は、この幻想郷にいていいはずの妖怪じゃないから"},{pos:"right",exp:"confused",chara:"reimu",serif:"……どういうこと？"},{pos:"left",exp:"angry",chara:"yukari",serif:"幻想郷は２つの結界で成り立っているの。\n１つは貴女が管理している結界――幻想郷を取り囲むようにして張られた“博麗大結界”"},{pos:"left",exp:"angry",chara:"yukari",serif:"そしてもう１つの結界が、その博麗大結界の外側を\nさらに取り囲むようして張られた結界――私が管理している“幻と実体の境界”"},{pos:"left",exp:"angry",chara:"yukari",serif:"ここはね、霊夢。そんな“博麗大結界”と“幻と実体の境界”との境目に生まれた、\n幻になりえども幻想郷入りは叶わなかった有象無象が集う、“スキマ”の淵源よ"},{pos:"right",exp:"confused",chara:"reimu",serif:"なっ！？"}];e.exports=r},{}],90:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],91:[function(t,e,i){"use strict";var r=[{pos:"left",exp:"angry",chara:"yukari",serif:null},{pos:"right",exp:"confused",chara:"reimu",serif:"まさか……この空間が、アンタが本来住むべき世界だってこと！？"},{pos:"left",exp:"angry",chara:"yukari",serif:"ええ、そうよ。そして私の本当の役目は、\n結界の緩衝地帯であるこの空間を維持する為の、言わば“番人”"},{pos:"left",exp:"laugh",chara:"yukari",serif:"もっとも、これだけ結界が綻んでしまったら、\nもう番人と名乗る資格はないだろうけれどもね"},{pos:"right",exp:"confused",chara:"reimu",serif:"結界が……綻ぶ……？？"},{pos:"right",exp:"normal2",chara:"reimu",serif:"……今の言葉でようやく分かったわ。この肝試しの本当の意味が"},{pos:"right",exp:"normal2",chara:"reimu",serif:"散り散りになったアンタのリボン……それに、この古びた霊符の数々……"},{pos:"right",exp:"normal1",chara:"reimu",serif:"肝試しというのはあくまでも建前で、\n本当はこれらを回収して結界を修復し直すのが、今回の真の目的だったというわけね！"}];e.exports=r},{}],92:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],93:[function(t,e,i){"use strict";var r=[{pos:"left",exp:"laugh",chara:"yukari",serif:null},{pos:"right",exp:"normal1",chara:"reimu",serif:"どうしてこんなになるまで放っておいたのよ、アンタらしくもない"},{pos:"left",exp:"normal2",chara:"yukari",serif:"…………"},{pos:"left",exp:"normal2",chara:"yukari",serif:"それだけ好きだったのよ、この幻想郷が"},{pos:"left",exp:"normal2",chara:"yukari",serif:"色めく春も、茹だる夏も、枯れゆく秋も、凍える冬も。\n幻想郷の息づかいの、その全てが"},{pos:"left",exp:"normal2",chara:"yukari",serif:"流石に妖力が衰える冬だけは、\nこっちの世界に戻っていたのだけれども"},{pos:"right",exp:"normal1",chara:"reimu",serif:"それで冬だけは冬眠と称して、決して幻想郷には姿を見せようとしなかったのね"},{pos:"left",exp:"normal2",chara:"yukari",serif:"ええ、そうよ。でも、それももうお終い"},{pos:"left",exp:"normal2",chara:"yukari",serif:"これ以上私が幻想郷に留まり続けたら、幻想郷そのものがこの空間と\n溶けて混ざってしまう。それだけは避けなくちゃいけないのよ、何としてもね"}];e.exports=r},{}],94:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],95:[function(t,e,i){"use strict";var r=[];e.exports=r},{}],96:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],97:[function(t,e,i){"use strict";var r=[{pos:"right",exp:"normal1",chara:"reimu",serif:null},{pos:"left",exp:"normal1",chara:"yukari",serif:"さっきから手間かけさせてばかりで悪いわね、霊夢"},{pos:"right",exp:"normal1",chara:"reimu",serif:"ええ、その分のお代はきっちりと払ってもらうわ。お酒と一緒にね"},{pos:"left",exp:"normal1",chara:"yukari",serif:"ありがとう、頼りになるわ"},{pos:"right",exp:"normal1",chara:"reimu",serif:"この調子でちゃっちゃっと終わらせるわよ"}];e.exports=r},{}],98:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],99:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],100:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],101:[function(t,e,i){"use strict";var r=[{pos:"left",exp:"normal1",chara:"yukari",serif:null},{pos:"right",exp:"normal1",chara:"reimu",serif:"ところでだけれどもさ、紫"},{pos:"left",exp:"normal1",chara:"yukari",serif:"ん？　どうしたの？"},{pos:"right",exp:"normal1",chara:"reimu",serif:"仮にこれで全ての結界を私たちが修復しきった場合、\nこの空間って完全に閉じられることになるわけじゃない？"},{pos:"left",exp:"normal1",chara:"yukari",serif:"ええ、そうなるわね"},{pos:"right",exp:"normal1",chara:"reimu",serif:"その状態で私たちが幻想郷に戻っちゃったら、また結界に風穴が開いて\n綻んじゃうわけでしょ？　それでどうやって戻る気なの？"},{pos:"left",exp:"normal1",chara:"yukari",serif:"心配せずとも大丈夫よ、霊夢。ちゃんと帰り道は用意しているから"},{pos:"right",exp:"normal1",chara:"reimu",serif:"そう？　ならいいけれども"}];e.exports=r},{}],102:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],103:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],104:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],105:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],106:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],107:[function(t,e,i){"use strict";var r=[{pos:"left",exp:"normal1",chara:"yukari",serif:null},{pos:"right",exp:"normal1",chara:"reimu",serif:"ねぇ、あと何か所くらい残っているのかしら？"},{pos:"right",exp:"normal1",chara:"reimu",serif:"そろそろ疲れてきたんだけれども"},{pos:"left",exp:"normal4",chara:"yukari",serif:"そうねぇ、ここを含めてあと3つってところかしら"},{pos:"right",exp:"normal1",chara:"reimu",serif:"はぁ……、早く帰って水風呂でさっぱりしたいわね"},{pos:"left",exp:"smile",chara:"yukari",serif:"あら、久しぶりに一緒に入る？\n昔みたいに頭の先から爪先までくまなく洗ってあげるわ"},{pos:"right",exp:"angry1",chara:"reimu",serif:"ゼッタイに嫌"},{pos:"left",exp:"ecstasy1",chara:"yukari",serif:"恥ずかしがらなくて良いのにー"}];e.exports=r},{}],108:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],109:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],110:[function(t,e,i){"use strict";var r=[{pos:"left",exp:"normal1",chara:"yukari",serif:null},{pos:"right",exp:"normal1",chara:"reimu",serif:"やっと最後の1枚が終わったわね"},{pos:"right",exp:"normal1",chara:"reimu",serif:"じゃ、とっとと帰りましょ？"},{pos:"left",exp:"normal1",chara:"yukari",serif:"……それは出来ないわ"},{pos:"right",exp:"normal1",chara:"reimu",serif:"えっ？　どうして？"},{pos:"left",exp:"normal1",chara:"yukari",serif:"さっきも言ったでしょ？　ここは“博麗大結界”と“幻と実体の境界”の境目。\nそして私は、この地で番人をしなきゃいけないの"},{pos:"right",exp:"normal1",chara:"reimu",serif:"でも、さっき帰り道は用意してるって……"},{pos:"left",exp:"normal2",chara:"yukari",serif:"“２人分”とは言っていないわ"},{pos:"left",exp:"normal2",chara:"yukari",serif:"だから、ね――"},{pos:"right",exp:"confused",chara:"reimu",serif:"紫っ！？"}];e.exports=r},{}],111:[function(t,e,i){"use strict";var r=[{pos:"left",exp:"normal1",chara:"yukari",serif:null},{pos:"right",exp:"normal1",chara:"reimu",serif:"長かった肝試しも、残すところこれで最後ってところかしら"},{pos:"left",exp:"normal3",chara:"yukari",serif:"ええ、そうね"},{pos:"left",exp:"normal3",chara:"yukari",serif:"どう？　楽しかったでしょ？"},{pos:"right",exp:"normal2",chara:"reimu",serif:"全然"},{pos:"left",exp:"normal2",chara:"yukari",serif:"最後までつれないのねぇ"}];e.exports=r},{}],112:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],113:[function(t,e,i){"use strict";var r=[{pos:"right",exp:"normal1",chara:"reimu",serif:"ふぅ、何とかここまでは来れたわね"},{pos:"right",exp:"normal1",chara:"reimu",serif:"ただ、あまり時間は残されていないみたい。\n巫術を使って、一時的に肉体と精神とを分離させているだけに過ぎないし"},{pos:"right",exp:"normal1",chara:"reimu",serif:"下手したらこの何もかもあやふやな\nこの世界に私が溶け込まれてしまうことだって十分有り得るし……"},{pos:"right",exp:"strength2",chara:"reimu",serif:"意地でもアンタを幻想郷へと連れ戻すわよ、紫"}];e.exports=r},{}],114:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],115:[function(t,e,i){"use strict";var r=[{pos:"right",exp:"normal1",chara:"reimu",serif:"やっぱり思った通りだわ。博麗大結界は霊符による\n２つの力で結界が構成されているのね"},{pos:"right",exp:"normal1",chara:"reimu",serif:"１つは真っ白に清められた書紙による“物理的な結力”。\nそしてもう１つが、その書紙に朱で書かれた咒文による“概念的な結力”"},{pos:"right",exp:"normal1",chara:"reimu",serif:"どうりでさっきまでは、いくら霊符を引っ剥がしたところで何も起きなかったわけね。\nおかしいと思ったわ"},{pos:"right",exp:"normal1",chara:"reimu",serif:"この２つの力を同時に取り除いていけば、いつかは必ず結界に綻びが出てくるはずよ。\nその先にはきっと、アイツが――"}];e.exports=r},{}],116:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],117:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],118:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],119:[function(t,e,i){"use strict";var r=[{pos:"right",exp:"normal1",chara:"reimu",serif:"ずいぶんと数が増えてきた上に、回収するのが一段と難しくなってきたわね……。\n面倒ったらありゃしない"},{pos:"right",exp:"normal1",chara:"reimu",serif:"それと、この辺りに霊符を張ったのは間違いなく紫本人ね。\nこんなにも綺麗な字で霊符を書くことが出来るのは、アイツ以外にいないし"},{pos:"right",exp:"normal1",chara:"reimu",serif:"その上ずいぶんと古い霊符がところどころに混じってるし……。\nそれだけ厳重にこの結界を長い間守り続けてきたってことなのかしら"},{pos:"right",exp:"normal1",chara:"reimu",serif:"アイツ……こんなにも幻想郷を愛していたんだ……"}];e.exports=r},{}],120:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],121:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],122:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],123:[function(t,e,i){"use strict";var r=[{pos:"right",exp:"normal1",chara:"reimu",serif:"それにしても笑っちゃうわよね。この前の終わらない冬の時は\n紫が境界に穴を空けたのに、今はその逆で私が空けてるだなんて"},{pos:"right",exp:"normal1",chara:"reimu",serif:"紫は番人失格だなんて言ってたけれども、\n私もこんなことしてたんじゃ博麗の巫女失格よね"},{pos:"right",exp:"confused",chara:"reimu",serif:"今なら少しだけ……アイツの気持ちも分からなくはないかな……"}];e.exports=r},{}],124:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],125:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],126:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],127:[function(t,e,i){"use strict";var r=[{pos:"right",exp:"normal1",chara:"reimu",serif:"大分進んだから、そろそろアイツが出てきても\n良い頃合いなのだけれども……どこにいるのかしら"},{pos:"right",exp:"normal1",chara:"reimu",serif:"まさかアイツもこの狭間に溶けてしまうなんてことないよね……？"}];e.exports=r},{}],128:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],129:[function(t,e,i){"use strict";var r=[{pos:"right",exp:"normal2",chara:"reimu",serif:"そろそろ私も辛くなってきたわね。油断したら一瞬で意識を持っていかれそうだわ"},{pos:"right",exp:"normal2",chara:"reimu",serif:"そうなる前に早く見つけ出さないと……！"},{pos:"right",exp:"angry1",chara:"reimu",serif:"一体どこにいるのよ、紫！"}];e.exports=r},{}],130:[function(t,e,i){arguments[4][52][0].apply(i,arguments)},{dup:52}],131:[function(t,e,i){"use strict";var r=[{pos:"right",exp:"normal1",chara:"reimu",serif:"紫！？"},{pos:"left",exp:"normal1",chara:"yukari",serif:"あら、わざわざここまで来てくれたの？　嬉しいわ"},{pos:"right",exp:"normal1",chara:"reimu",serif:"なにのんきなこといってるのよ、早く帰るわよ"},{pos:"left",exp:"normal1",chara:"yukari",serif:"それは出来ないわ"},{pos:"left",exp:"normal1",chara:"yukari",serif:"前にも話したでしょ？　幻想郷は全てを受け入れるのよ。残酷なほどにね"}];e.exports=r},{}],132:[function(t,e,i){"use strict";var r,n=t("./game"),o=t("./constant");window.onload=function(){var t=document.getElementById("mainCanvas");if(r=new n(t),r.init(),r.setupEvents(),o.DEBUG.ON){var e=document.getElementById("debug");r.setupDebug(e)}r.startRun()},window.onerror=function(t,e,i,r,n){},window.changeFullScreen=function(){r.fullscreen()},window.require&&window.require("electron").webFrame.setVisualZoomLevelLimits(1,1)},{"./constant":2,"./game":4}],133:[function(t,e,i){"use strict";var r=t("../hakurei").object.sprite,n=t("../hakurei").util,o=t("./exchange_anim"),a=t("../constant"),s=function(t){r.apply(this,arguments),this.type=a.ALTEREGO};n.inherit(s,r),s.prototype.init=function(t){r.prototype.init.apply(this,arguments),this.span=0,this.exchange_animation_start_count=0,this.exchange_anim=new o(this.scene,this.parent),this.chara_no=t},s.prototype.isYukari=function(){return this.chara_no===a.YUKARI_NO},s.prototype.isExReimu=function(){return this.chara_no===a.EX_REIMU_NO},s.prototype.x=function(){return this.scene.isVertical()?this.parent.x():this.scene.width-this.parent.x()},s.prototype.y=function(){return this.scene.isVertical()?this.scene.height-this.parent.y():this.parent.y()},s.prototype.beforeDraw=function(){r.prototype.beforeDraw.apply(this,arguments),this.exchange_animation_start_count&&this.frame_count-this.exchange_animation_start_count>this.span&&(this.exchange_animation_start_count=0,this.removeSubObject(this.exchange_anim));var t=this.scene.objects_by_tile_type[a.ITEM_FOR_YUKARI];this.checkCollisionWithObjects(t)},s.prototype.onCollision=function(t){t.type===a.ITEM_FOR_YUKARI&&this.scene.addYukariItemNum()},s.prototype.draw=function(){r.prototype.draw.apply(this,arguments);var t=this.core.ctx;t.save();var e=this.scene.player().remainExchangeNum();t.fillStyle="rgb( 255, 255, 255 )",t.textAlign="center",t.font="12px 'PixelMplus'",t.fillText(e,this.x(),this.y()-this.height()/2-10),t.restore()},s.prototype.collisionWidth=function(){return 24},s.prototype.collisionHeight=function(){return 24},s.prototype.isShow=function(){return this.exchange_animation_start_count?!1:!0},s.prototype.spriteName=function(){return"stage_tile_32"},s.prototype.spriteAnimationSpan=function(){return this.isYukari()?30:10},s.prototype.spriteIndices=function(){if(this.isYukari())return[{x:5,y:0},{x:6,y:0}];if(this.parent.isClimbDown())return[{x:5,y:5},{x:6,y:5}];var t;return t=this.scene.isVertical()?this.parent.is_reflect:!this.parent.is_reflect,t?[{x:3,y:5},{x:4,y:5}]:[{x:1,y:5},{x:2,y:5}]},s.prototype.spriteWidth=function(){return 32},s.prototype.spriteHeight=function(){return 32},s.prototype.startExchange=function(t){this.exchange_animation_start_count=this.frame_count,this.span=t,this.exchange_anim.init(this.x(),this.y(),t,this.chara_no),this.addSubObject(this.exchange_anim)},e.exports=s},{"../constant":2,"../hakurei":5,"./exchange_anim":135}],134:[function(t,e,i){"use strict";var r=t("../hakurei").object.sprite,n=t("../hakurei").util,o=function(t){r.apply(this,arguments)};n.inherit(o,r),o.prototype.init=function(t,e){r.prototype.init.apply(this,arguments),this.x(t),this.y(e)},o.prototype.spriteName=function(){return"stage_tile_24"},o.prototype.spriteIndices=function(){return[{x:0,y:1}]},o.prototype.spriteWidth=function(){return 24},o.prototype.spriteHeight=function(){return 24},e.exports=o},{"../hakurei":5}],135:[function(t,e,i){"use strict";var r=t("../hakurei").object.sprite,n=t("../hakurei").util,o=t("../constant"),a=function(t,e){r.apply(this,arguments)};n.inherit(a,r),a.prototype.init=function(t,e,i,n){r.prototype.init.apply(this,arguments),this.x(t),this.y(e),this.chara_no=n,this.anim_span=i},a.prototype.beforeDraw=function(){r.prototype.beforeDraw.apply(this,arguments)},a.prototype.isReimu=function(){return this.chara_no===o.REIMU_NO},a.prototype.isYukari=function(){return this.chara_no===o.YUKARI_NO},a.prototype.isExReimu=function(){return this.chara_no===o.EX_REIMU_NO},a.prototype.spriteName=function(){return"stage_tile_32"},a.prototype.spriteIndices=function(){return this.isYukari()?[{x:0,y:1},{x:1,y:1},{x:2,y:1},{x:3,y:1},{x:3,y:1},{x:4,y:1},{x:5,y:1},{x:6,y:1},{x:6,y:3},{x:5,y:3},{x:4,y:3},{x:3,y:3},{x:3,y:3},{x:2,y:3},{x:1,y:3},{x:0,y:3}]:this.isExReimu()?[{x:0,y:6},{x:1,y:6},{x:2,y:6},{x:3,y:6},{x:3,y:6},{x:4,y:6},{x:5,y:6},{x:6,y:6},{x:6,y:3},{x:5,y:3},{x:4,y:3},{x:3,y:3},{x:3,y:3},{x:2,y:3},{x:1,y:3},{x:0,y:3}]:this.parent.alterego.isYukari()?[{x:0,y:3},{x:1,y:3},{x:2,y:3},{x:3,y:3},{x:3,y:3},{x:4,y:3},{x:5,y:3},{x:6,y:3},{x:6,y:1},{x:5,y:1},{x:4,y:1},{x:3,y:1},{x:3,y:1},{x:2,y:1},{x:1,y:1},{x:0,y:1}]:this.parent.alterego.isExReimu()?[{x:0,y:3},{x:1,y:3},{x:2,y:3},{x:3,y:3},{x:3,y:3},{x:4,y:3},{x:5,y:3},{x:6,y:3},{x:6,y:6},{x:5,y:6},{x:4,y:6},{x:3,y:6},{x:3,y:6},{x:2,y:6},{x:1,y:6},{x:0,y:6}]:void 0},a.prototype.spriteWidth=function(){return 32},a.prototype.spriteHeight=function(){return 32},a.prototype.spriteAnimationSpan=function(){return 3},e.exports=a},{"../constant":2,"../hakurei":5}],136:[function(t,e,i){"use strict";var r=(t("../constant"),t("../hakurei").constant,t("../hakurei").object.sprite),n=t("../hakurei").util,o=function(t){r.apply(this,arguments)};n.inherit(o,r),o.prototype.init=function(t,e){r.prototype.init.apply(this,arguments),this.x(t),this.y(e)},o.prototype.spriteName=function(){return"stage_tile_32"},o.prototype.spriteIndices=function(){return[{x:3,y:2},{x:4,y:2}]},o.prototype.spriteAnimationSpan=function(){return 10},o.prototype.spriteWidth=function(){return 32},o.prototype.spriteHeight=function(){return 32},o.prototype.scaleWidth=function(){return 3},o.prototype.scaleHeight=function(){return 3},e.exports=o},{"../constant":2,"../hakurei":5}],137:[function(t,e,i){"use strict";var r=t("../hakurei").object.sprite,n=t("../hakurei").util,o=function(t){r.apply(this,arguments)};n.inherit(o,r),o.prototype.init=function(t,e,i){r.prototype.init.apply(this,arguments),this.x(t),this.y(e),this.is_vertical=i},o.prototype.draw=function(t,e,i){this.init(t,e,i),r.prototype.draw.apply(this,arguments)},o.prototype.spriteName=function(){return"stage_tile_24"},o.prototype.spriteIndices=function(){return[{x:0,y:0}]},o.prototype.spriteWidth=function(){return 24},o.prototype.spriteHeight=function(){return 24},o.prototype.rotateAdjust=function(){return this.is_vertical?90:0},e.exports=o},{"../hakurei":5}],138:[function(t,e,i){"use strict";var r=t("../hakurei").object.sprite,n=t("../hakurei").util,o=function(t){r.apply(this,arguments)};n.inherit(o,r),o.prototype.init=function(t,e,i){r.prototype.init.apply(this,arguments),this.x(t),this.y(e),this.rotate=i||0},o.prototype.draw=function(t,e,i){this.init(t,e,i),r.prototype.draw.apply(this,arguments)},o.prototype.spriteName=function(){return"stage_tile_24"},o.prototype.spriteIndices=function(){return[{x:1,y:0}]},o.prototype.spriteWidth=function(){return 24},o.prototype.spriteHeight=function(){return 24},o.prototype.rotateAdjust=function(){return this.rotate},e.exports=o},{"../hakurei":5}],139:[function(t,e,i){"use strict";var r=t("./tile_base"),n=t("../../hakurei").util,o=function(t){
r.apply(this,arguments)};n.inherit(o,r),o.prototype.init=function(t,e){r.prototype.init.apply(this,arguments),this.x(t),this.y(e),this.is_collision=!0},o.prototype.isBlock=function(){return!0},o.prototype.isCollision=function(){return this.is_collision},o.prototype.collisionWidth=function(){return 24},o.prototype.collisionHeight=function(){return 24},o.prototype.spriteName=function(){return"block"},o.prototype.spriteIndices=function(){console.error("spriteIndices must be overwritten")},o.prototype.spriteWidth=function(){return 16},o.prototype.spriteHeight=function(){return 16},o.prototype.scaleWidth=function(){return 1.5*this._scale},o.prototype.scaleHeight=function(){return 1.5*this._scale},e.exports=o},{"../../hakurei":5,"./tile_base":165}],140:[function(t,e,i){"use strict";var r=t("../../constant"),n=t("./block_base"),o=t("../../hakurei").util,a=function(t){n.apply(this,arguments),this.type=r.BLOCK_BLUE};o.inherit(a,n),a.prototype.spriteIndices=function(){return[{x:5,y:0}]},e.exports=a},{"../../constant":2,"../../hakurei":5,"./block_base":139}],141:[function(t,e,i){"use strict";var r=40,n=t("../../constant"),o=t("./block_base"),a=t("../../hakurei").util,s=function(t){o.apply(this,arguments),this.type=n.BLOCK_DISAPPEAR};a.inherit(s,o),s.prototype.init=function(t,e){o.prototype.init.apply(this,arguments),this.start_fall_frame=0,this.is_show=!0,this.is_collision=!0},s.prototype.spriteIndices=function(){return[{x:0,y:0}]},s.prototype.spriteName=function(){return this.scene.isInExStory()?"tile_red":"tile_gray"},s.prototype.beforeDraw=function(){o.prototype.beforeDraw.apply(this,arguments),this.start_fall_frame&&r-this.frame_count+this.start_fall_frame<=0&&(this.is_show=!1,this.start_fall_frame=0)},s.prototype.fall=function(){this.start_fall_frame=this.frame_count,this.is_collision=!1},s.prototype.isShow=function(){return this.is_show},s.prototype.isCollision=function(){return this.is_collision},s.prototype.alpha=function(){var t=.5;return this.start_fall_frame?t*(r-(this.frame_count-this.start_fall_frame))/r:t},e.exports=s},{"../../constant":2,"../../hakurei":5,"./block_base":139}],142:[function(t,e,i){"use strict";var r=t("../../constant"),n=t("./block_base"),o=t("../../hakurei").util,a=function(t){n.apply(this,arguments),this.type=r.BLOCK_GREEN};o.inherit(a,n),a.prototype.spriteIndices=function(){return[{x:4,y:0}]},e.exports=a},{"../../constant":2,"../../hakurei":5,"./block_base":139}],143:[function(t,e,i){"use strict";var r=t("../../constant"),n=t("./block_base"),o=t("../../hakurei").util,a=function(t){n.apply(this,arguments),this.type=r.BLOCK_PURPLE};o.inherit(a,n),a.prototype.spriteIndices=function(){return[{x:7,y:0}]},e.exports=a},{"../../constant":2,"../../hakurei":5,"./block_base":139}],144:[function(t,e,i){"use strict";var r=t("../../constant"),n=t("./block_base"),o=t("../../hakurei").util,a=function(t){n.apply(this,arguments),this.type=r.BLOCK_RED};o.inherit(a,n),a.prototype.spriteIndices=function(){return[{x:6,y:0}]},e.exports=a},{"../../constant":2,"../../hakurei":5,"./block_base":139}],145:[function(t,e,i){"use strict";var r=t("../../constant"),n=t("./block_base"),o=t("../../hakurei").util,a=function(t){n.apply(this,arguments),this.type=r.BLOCK_STONE1};o.inherit(a,n),a.prototype.spriteIndices=function(){return[{x:0,y:0}]},a.prototype.spriteName=function(){return this.scene.isInExStory()?"tile_red":"tile_gray"},e.exports=a},{"../../constant":2,"../../hakurei":5,"./block_base":139}],146:[function(t,e,i){"use strict";var r=t("../../constant"),n=t("./block_base"),o=t("../../hakurei").util,a=function(t){n.apply(this,arguments),this.type=r.BLOCK_STONE2};o.inherit(a,n),a.prototype.spriteIndices=function(){return[{x:0,y:0}]},a.prototype.spriteName=function(){return this.scene.isInExStory()?"tile_red":"tile_gray"},e.exports=a},{"../../constant":2,"../../hakurei":5,"./block_base":139}],147:[function(t,e,i){"use strict";var r=t("../../constant"),n=t("./block_base"),o=t("../../hakurei").util,a=function(t){n.apply(this,arguments),this.type=r.BLOCK_STONE3};o.inherit(a,n),a.prototype.spriteIndices=function(){return[{x:0,y:0}]},a.prototype.spriteName=function(){return this.scene.isInExStory()?"tile_red":"tile_gray"},e.exports=a},{"../../constant":2,"../../hakurei":5,"./block_base":139}],148:[function(t,e,i){"use strict";var r=t("../../constant"),n=t("./tile_base"),o=t("../../hakurei").util,a=function(t){n.apply(this,arguments),this.type=r.DEATH};o.inherit(a,n),a.prototype.init=function(t,e){n.prototype.init.apply(this,arguments),this.x(t),this.y(e),this.is_show=!0},a.prototype.isCollision=function(){return!0},a.prototype.spriteName=function(){return"stage_tile_24"},a.prototype.spriteIndices=function(){return[{x:2,y:0}]},a.prototype.spriteWidth=function(){return 24},a.prototype.spriteHeight=function(){return 24},e.exports=a},{"../../constant":2,"../../hakurei":5,"./tile_base":165}],149:[function(t,e,i){"use strict";var r=2,n=t("../../constant"),o=t("./tile_base"),a=t("../../hakurei").util,s=function(t){o.apply(this,arguments),this.type=n.ENEMY};a.inherit(s,o),s.prototype.init=function(t,e){o.prototype.init.apply(this,arguments),this.x(t),this.y(e),this.is_left=!1},s.prototype.beforeDraw=function(){o.prototype.beforeDraw.apply(this,arguments);var t=this.x();this.is_left?this._x-=r:this._x+=r,this.checkCollisionWithBlocks()||(this._x=t,this.is_left=!this.is_left);var e=this.checkCollisionWithLeftRightBlocks();e&&(e=e>0?r:-r,this._x+=e,this.is_left=!this.is_left)},s.prototype.isCollision=function(){return!0};var u=[n.BLOCK_GREEN,n.BLOCK_BLUE,n.BLOCK_RED,n.BLOCK_PURPLE,n.BLOCK_DISAPPEAR,n.BLOCK_STONE1,n.BLOCK_STONE2,n.BLOCK_STONE3,n.LADDER];s.prototype.checkCollisionWithBlocks=function(){for(var t=this,e=!1,i=0;i<u.length;i++)for(var r=u[i],n=t.scene.objects_by_tile_type[r],o=0;o<n.length;o++){var a=n[o];if(!(t.y()-t.collisionHeight()/2>a.y()-a.collisionHeight()/2)&&a.isCollision()&&t.checkCollision(a)){e=!0;break}}return e};var c=[n.BLOCK_GREEN,n.BLOCK_BLUE,n.BLOCK_RED,n.BLOCK_PURPLE,n.BLOCK_DISAPPEAR,n.BLOCK_STONE1,n.BLOCK_STONE2,n.BLOCK_STONE3];s.prototype.checkCollisionWithLeftRightBlocks=function(){for(var t=this,e=0,i=0;i<c.length;i++)for(var r=c[i],n=t.scene.objects_by_tile_type[r],o=0;o<n.length;o++){var a=n[o];if(!(t.getCollisionDownY()-1<=a.getCollisionUpY())&&!(t.getCollisionUpY()>a.getCollisionDownY())&&a.isCollision()&&t.checkCollision(a)){e=t.x()-a.x();break}}return e},s.prototype.collisionWidth=function(t){return 1},s.prototype.collisionHeight=function(t){return t&&t.type===n.PLAYER?1:25},s.prototype.isReflect=function(){return!this.is_left},s.prototype.spriteName=function(){return"stage_tile_32"},s.prototype.spriteIndices=function(){return[{x:2,y:4},{x:3,y:4}]},s.prototype.spriteAnimationSpan=function(){return 10},s.prototype.spriteWidth=function(){return 32},s.prototype.spriteHeight=function(){return 32},e.exports=s},{"../../constant":2,"../../hakurei":5,"./tile_base":165}],150:[function(t,e,i){"use strict";var r=1,n=t("../../constant"),o=t("./tile_base"),a=t("../../hakurei").util,s=function(t){o.apply(this,arguments),this.type=n.ENEMY_VERTICAL};a.inherit(s,o),s.prototype.init=function(t,e){o.prototype.init.apply(this,arguments),this.x(t),this.y(e),this.is_down=!1},s.prototype.beforeDraw=function(){o.prototype.beforeDraw.apply(this,arguments),this.is_down?this._y+=r:this._y-=r,(this._y<62||this._y>20*n.TILE_SIZE+50-12)&&(this.is_down=!this.is_down);var t=this.scene.getBlocks();this.checkCollisionWithObjects(t)},s.prototype.isCollision=function(t){var e=this;if(t){if(e.x()-e.collisionWidth()/2>t.x()+t.collisionWidth()/2)return!1;if(e.x()+e.collisionWidth()/2<t.x()-t.collisionWidth()/2)return!1}return!0},s.prototype.onCollision=function(t){t.isBlock()&&(this.is_down=!this.is_down)},s.prototype.collisionWidth=function(t){return 1},s.prototype.collisionHeight=function(t){return t&&t.type===n.PLAYER?1:24},s.prototype.isReflect=function(){return!this.is_left},s.prototype.spriteName=function(){return"stage_tile_32"},s.prototype.spriteIndices=function(){return[{x:0,y:4},{x:1,y:4}]},s.prototype.spriteAnimationSpan=function(){return 10},s.prototype.spriteWidth=function(){return 32},s.prototype.spriteHeight=function(){return 32},e.exports=s},{"../../constant":2,"../../hakurei":5,"./tile_base":165}],151:[function(t,e,i){"use strict";var r=t("../../constant"),n=t("./tile_base"),o=t("../../hakurei").util,a=function(t){n.apply(this,arguments),this.type=r.ITEM_FOR_REIMU};o.inherit(a,n),a.prototype.init=function(t,e){n.prototype.init.apply(this,arguments),this.x(t),this.y(e),this.is_show=!0,this.is_collision=!0,this.start_got_animation_frame_count=0},a.prototype.got=function(){this.is_collision=!1,this.core.playSound("got_item_ohuda"),this.start_got_animation_frame_count=this.frame_count},a.prototype.isShow=function(){return this.is_show},a.prototype.isCollision=function(){return this.is_collision},a.prototype.beforeDraw=function(){if(n.prototype.beforeDraw.apply(this,arguments),this.start_got_animation_frame_count){var t=this.frame_count-this.start_got_animation_frame_count;10>t&&t>=0?this._y-=5:15>t&&t>=10||(this.is_show=!1,this.start_got_animation_frame_count=0)}},a.prototype.spriteName=function(){return"stage_tile_24"},a.prototype.spriteIndices=function(){return this.scene.isExReimu()?[{x:2,y:2}]:[{x:1,y:2}]},a.prototype.spriteWidth=function(){return 24},a.prototype.spriteHeight=function(){return 24},e.exports=a},{"../../constant":2,"../../hakurei":5,"./tile_base":165}],152:[function(t,e,i){"use strict";var r=t("../../constant"),n=t("./tile_base"),o=t("../../hakurei").util,a=function(t){n.apply(this,arguments),this.type=r.ITEM_FOR_YUKARI};o.inherit(a,n),a.prototype.init=function(t,e){n.prototype.init.apply(this,arguments),this.x(t),this.y(e),this.is_show=!0,this.is_collision=!0,this.start_got_animation_frame_count=0},a.prototype.got=function(){this.is_collision=!1,this.core.playSound("got_item_ribon"),this.start_got_animation_frame_count=this.frame_count},a.prototype.onCollision=function(t){t.type===r.ALTEREGO&&this.got()},a.prototype.isShow=function(){return this.is_show},a.prototype.isCollision=function(){return this.is_collision},a.prototype.beforeDraw=function(){if(n.prototype.beforeDraw.apply(this,arguments),this.start_got_animation_frame_count){var t=this.frame_count-this.start_got_animation_frame_count;10>t&&t>=0?this._y-=5:15>t&&t>=10||(this.is_show=!1,this.start_got_animation_frame_count=0)}},a.prototype.spriteName=function(){return"stage_tile_24"},a.prototype.spriteIndices=function(){return this.scene.isExReimu()?[{x:3,y:2}]:[{x:0,y:2}]},a.prototype.spriteWidth=function(){return 24},a.prototype.spriteHeight=function(){return 24},e.exports=a},{"../../constant":2,"../../hakurei":5,"./tile_base":165}],153:[function(t,e,i){"use strict";var r=t("../../constant"),n=t("./tile_base"),o=t("../../hakurei").util,a=function(t){n.apply(this,arguments),this.type=r.ITEM_OF_EXCHANGE};o.inherit(a,n),a.prototype.init=function(t,e){n.prototype.init.apply(this,arguments),this.x(t),this.y(e),this.is_show=!0,this.is_collision=!0,this.start_got_animation_frame_count=0},a.prototype.got=function(){this.is_collision=!1,this.core.playSound("got_item_ohuda"),this.start_got_animation_frame_count=this.frame_count},a.prototype.isShow=function(){return this.is_show},a.prototype.isCollision=function(){return this.is_collision},a.prototype.beforeDraw=function(){if(n.prototype.beforeDraw.apply(this,arguments),this.start_got_animation_frame_count){var t=this.frame_count-this.start_got_animation_frame_count;10>t&&t>=0?this._y-=5:15>t&&t>=10||(this.is_show=!1,this.start_got_animation_frame_count=0)}},a.prototype.spriteName=function(){return"stage_tile_24"},a.prototype.spriteIndices=function(){return[{x:0,y:3}]},a.prototype.spriteWidth=function(){return 24},a.prototype.spriteHeight=function(){return 24},a.prototype.rotateAdjust=function(){return 2*this.frame_count%360},e.exports=a},{"../../constant":2,"../../hakurei":5,"./tile_base":165}],154:[function(t,e,i){"use strict";var r=t("../../constant"),n=t("./tile_base"),o=t("../../hakurei").util,a=function(t){n.apply(this,arguments),this.type=r.LADDER};o.inherit(a,n),a.prototype.init=function(t,e){n.prototype.init.apply(this,arguments),this.x(t),this.y(e)},a.prototype.isCollision=function(){return!0},a.prototype.spriteName=function(){return"hashigo"},a.prototype.spriteIndices=function(){return[{x:0,y:0}]},a.prototype.spriteWidth=function(){return 32},a.prototype.spriteHeight=function(){return 16},a.prototype.scaleWidth=function(){return.75*this._scale},a.prototype.scaleHeight=function(){return 1.5*this._scale},a.prototype.collisionWidth=function(){return 24},a.prototype.collisionHeight=function(){return 24},e.exports=a},{"../../constant":2,"../../hakurei":5,"./tile_base":165}],155:[function(t,e,i){"use strict";var r=t("../../constant"),n=t("../../hakurei").constant,o=2,a=2,s=2,u=47.7,c=60,l=[r.BLOCK_GREEN,r.BLOCK_BLUE,r.BLOCK_RED,r.BLOCK_PURPLE,r.BLOCK_DISAPPEAR,r.BLOCK_STONE1,r.BLOCK_STONE2,r.BLOCK_STONE3,r.LADDER],h=[r.BLOCK_GREEN,r.BLOCK_BLUE,r.BLOCK_RED,r.BLOCK_PURPLE,r.BLOCK_DISAPPEAR,r.BLOCK_STONE1,r.BLOCK_STONE2,r.BLOCK_STONE3],p=t("./tile_base"),f=(t("./block_base"),t("../alterego")),_=t("../exchange_anim"),g=t("../../hakurei").util,m=t("./player/state_normal"),d=t("./player/state_moveleft"),y=t("./player/state_moveright"),x=t("./player/state_climbdown"),b=t("./player/state_dying"),S=t("./player/state_exchange"),v=t("./player/state_falldown"),M=function(t){p.apply(this,arguments),this.type=r.PLAYER,this.state=null,this.states={},this.states[r.STATE_NORMAL]=new m(t,this),this.states[r.STATE_MOVELEFT]=new d(t,this),this.states[r.STATE_MOVERIGHT]=new y(t,this),this.states[r.STATE_CLIMBDOWN]=new x(t,this),this.states[r.STATE_DYING]=new b(t,this),this.states[r.STATE_EXCHANGE]=new S(t,this),this.states[r.STATE_FALLDOWN]=new v(t,this)};g.inherit(M,p),M.prototype.init=function(t,e){p.prototype.init.apply(this,arguments),this.x(t),this.y(e),this.exchange_num=0,this.scene.width/2<this.x()?this.is_reflect=!0:this.is_reflect=!1,this.fall_blocks={},this.alterego=new f(this.scene,this),this.alterego.init(this.scene.isExReimu()?r.EX_REIMU_NO:r.YUKARI_NO),this.addSubObject(this.alterego),this.exchange_anim=new _(this.scene,this),this.changeState(r.STATE_NORMAL)},M.prototype.beforeDraw=function(){p.prototype.beforeDraw.apply(this,arguments),this.currentState().beforeDraw()},M.prototype.update=function(){this.currentState()instanceof d?this.moveLeft():this.currentState()instanceof y&&this.moveRight();var t=this.checkCollisionWithLeftRightBlocks();t&&(t=t>0?o:-o,this._x+=t),this.currentState().isEnableToFallDown()&&(this.checkCollisionWithBlocks()?this.isFallingDown()&&this.changeState(r.STATE_NORMAL):this.changeState(r.STATE_FALLDOWN));var e=this.checkCollisionWithLadder();if(e&&this.currentState().isEnableToPlayMove()&&!this.isClimbDown()&&(this.core.isKeyDown(n.BUTTON_DOWN)||this.core.isKeyDown(n.BUTTON_UP))&&this.changeState(r.STATE_CLIMBDOWN),this.isClimbDown()){e||this.changeState(r.STATE_NORMAL),this.core.isKeyDown(n.BUTTON_DOWN)?(this._x=e.x(),this.climbDown()):this.core.isKeyDown(n.BUTTON_UP)&&(this.changeState(r.STATE_CLIMBDOWN),this._x=e.x(),this.climbUp(),e=this.checkCollisionWithLadder(),e||(this.climbDown(),this.changeState(r.STATE_NORMAL)));var i=this.checkCollisionWithBlocks2();i&&(i=i>0?s:-s,this._y+=i)}if(this.currentState().isEnableToDie()){var a=this.checkCollisionWithDeathOrEnemy();a&&this.startDie()}this.isDying()&&this.currentState().frame_count>c&&(this.scene.notifyPlayerDie(),this.quitDie()),this.isExchanging()&&this.currentState().frame_count>u&&(this.exchangePosition(),this.quitExchange(),this.removeSubObject(this.exchange_anim)),this.isFallingDown()&&this.fallDown();var l=this.checkCollisionWithItems();l&&(l.got(),this.scene.addReimuItemNum());var h=this.checkCollisionWithExchangeItems();h&&(h.got(),this.scene.exchangeVertical());for(var p in this.fall_blocks){var f=this.fall_blocks[p];this.checkCollision(f)||(f.fall(),delete this.fall_blocks[f.id])}var _=this.checkCollisionWithFallBlock();_&&(this.fall_blocks[_.id]=_);var g=this.checkCollisionWithBlocks3();this.isNormal()&&g&&(this._y=g.getCollisionUpY()-this.collisionHeight()/2+1)},M.prototype.checkCollisionWithBlocks=function(){for(var t=this,e=!1,i=0;i<l.length;i++)for(var r=l[i],n=t.scene.objects_by_tile_type[r],o=0;o<n.length;o++){var a=n[o];if(!(t.y()-t.collisionHeight()/2>a.y()-a.collisionHeight()/2)&&a.isCollision()&&t.checkCollision(a)){e=a;break}}return e},M.prototype.checkCollisionWithBlocks2=function(){for(var t=this,e=!1,i=0;i<h.length;i++)for(var r=h[i],n=t.scene.objects_by_tile_type[r],o=0;o<n.length;o++){var a=n[o];if(a.isCollision()&&t.checkCollision(a)){e=t.y()-a.y();break}}return e},M.prototype.checkCollisionWithBlocks3=function(){for(var t=this,e=!1,i=0;i<h.length;i++)for(var r=h[i],n=t.scene.objects_by_tile_type[r],o=0;o<n.length;o++){var a=n[o];if(!(t.y()-t.collisionHeight()/2>a.y()-a.collisionHeight()/2)&&a.isCollision()&&t.checkCollision(a)){e=a;break}}return e},M.prototype.checkCollisionWithLeftRightBlocks=function(){for(var t=this,e=0,i=0;i<h.length;i++)for(var r=h[i],n=t.scene.objects_by_tile_type[r],o=0;o<n.length;o++){var a=n[o];if(!(t.getCollisionDownY()-1<=a.getCollisionUpY())&&!(t.getCollisionUpY()>a.getCollisionDownY())&&a.isCollision()&&t.checkCollision(a)){e=t.x()-a.x();break}}return e},M.prototype.checkCollisionWithLadder=function(){var t=this,e=!1;return t.scene.objects_by_tile_type[r.LADDER].forEach(function(i){t.checkCollision(i)&&(e=i)}),e},M.prototype.checkCollisionWithItems=function(){var t=this,e=!1;return t.scene.objects_by_tile_type[r.ITEM_FOR_REIMU].forEach(function(i){i.isCollision()&&t.checkCollision(i)&&(e=i)}),e},M.prototype.checkCollisionWithExchangeItems=function(){var t=this,e=!1;return t.scene.objects_by_tile_type[r.ITEM_OF_EXCHANGE].forEach(function(i){i.isCollision()&&t.checkCollision(i)&&(e=i)}),e},M.prototype.checkCollisionWithDeathOrEnemy=function(){var t=this,e=!1;return t.scene.objects_by_tile_type[r.DEATH].concat(t.scene.objects_by_tile_type[r.ENEMY]).concat(t.scene.objects_by_tile_type[r.ENEMY_VERTICAL]).forEach(function(i){t.checkCollision(i)&&(e=i)}),e},M.prototype.checkCollisionWithFallBlock=function(){for(var t=this,e=null,i=t.scene.objects_by_tile_type[r.BLOCK_DISAPPEAR],n=0;n<i.length;n++){var o=i[n];if(!(t.y()-t.collisionHeight()/2>o.y()-o.collisionHeight()/2)&&o.isCollision()&&t.checkCollision(o)){e=o;break}}return e},M.prototype.changeState=function(t){this.state=t,this.currentState().init(),r.DEBUG.ON},M.prototype.currentState=function(){return this.states[this.state]},M.prototype.moveLeft=function(){this._x-=o,this.is_reflect=!0},M.prototype.moveRight=function(){this._x+=o,this.is_reflect=!1},M.prototype.climbUp=function(){this.currentState().isEnableToPlayMove()&&(this._y-=s)},M.prototype.climbDown=function(){this.currentState().isEnableToPlayMove()&&(this._y+=s)},M.prototype.notifyMoveRight=function(){this.currentState().isEnableToPlayMove()&&this.changeState(r.STATE_MOVERIGHT)},M.prototype.notifyMoveLeft=function(){this.currentState().isEnableToPlayMove()&&this.changeState(r.STATE_MOVELEFT)},M.prototype.notifyMoveUp=function(){this.currentState().isEnableToPlayMove()&&this.changeState(r.STATE_MOVEUP)},M.prototype.notifyMoveDown=function(){this.currentState().isEnableToPlayMove()&&this.changeState(r.STATE_MOVEDOWN)},M.prototype.notifyNotMove=function(){this.currentState().isEnableToPlayMove()&&this.changeState(r.STATE_NORMAL)},M.prototype.isClimbDown=function(){return this.currentState()instanceof x},M.prototype.fallDown=function(){this._y+=a},M.prototype.isFallingDown=function(){return this.currentState()instanceof v},M.prototype.startExchange=function(){return this.currentState().isEnableToPlayExchange()?this.checkCollisionBetweenAlterEgoAndBlocks()?!1:this.remainExchangeNum()<=0?!1:(this.changeState(r.STATE_EXCHANGE),this.exchange_anim.init(this.x(),this.y(),u),this.addSubObject(this.exchange_anim),this.alterego.startExchange(u),this.exchange_num++,!0):!1},M.prototype.isExchanging=function(){return this.currentState()instanceof S},M.prototype.quitExchange=function(){this.changeState(r.STATE_NORMAL)},M.prototype.isNormal=function(){return this.currentState()instanceof m},M.prototype.checkCollisionBetweenAlterEgoAndBlocks=function(){for(var t=!1,e=0;e<h.length;e++)for(var i=h[e],r=this.scene.objects_by_tile_type[i],n=0;n<r.length;n++){var o=r[n];if(o.isCollision()&&this.alterego.checkCollision(o)){t=!0;break}}return t},M.prototype.exchangePosition=function(){var t=this.alterego.x(),e=this.alterego.y();this.x(t),this.y(e)},M.prototype.startDie=function(){this.core.playSound("dead"),this.changeState(r.STATE_DYING)},M.prototype.isDying=function(){return this.currentState()instanceof b},M.prototype.quitDie=function(){this.changeState(r.STATE_NORMAL)},M.prototype.remainExchangeNum=function(){return this.scene.max_exchange_num-this.exchange_num},M.prototype.spriteName=function(){return"stage_tile_32"},M.prototype.spriteIndices=function(){return this.isClimbDown()?[{x:5,y:2},{x:6,y:2}]:this.is_reflect?[{x:3,y:2},{x:4,y:2}]:[{x:1,y:2},{x:2,y:2}]},M.prototype.spriteAnimationSpan=function(){return 10},M.prototype.spriteWidth=function(){return 32},M.prototype.spriteHeight=function(){return 32},M.prototype.isShow=function(){return this.isDying()?this.frame_count%40>20:this.isExchanging()?!1:!0},M.prototype.collisionWidth=function(t){return 24},M.prototype.collisionHeight=function(t){return 32},e.exports=M},{"../../constant":2,"../../hakurei":5,"../alterego":133,"../exchange_anim":135,"./block_base":139,"./player/state_climbdown":157,"./player/state_dying":158,"./player/state_exchange":159,"./player/state_falldown":160,"./player/state_moveleft":162,"./player/state_moveright":163,"./player/state_normal":164,"./tile_base":165}],156:[function(t,e,i){"use strict";var r=t("../../../hakurei").object.base,n=t("../../../hakurei").util,o=function(t,e){r.apply(this,arguments)};n.inherit(o,r),o.prototype.isEnableToPlayMove=function(){return!0},o.prototype.isEnableToPlayExchange=function(){return!0},o.prototype.isEnableToFallDown=function(){return!0},o.prototype.isEnableToDie=function(){return!0},e.exports=o},{"../../../hakurei":5}],157:[function(t,e,i){"use strict";var r=(t("../../../constant"),t("./state_base")),n=t("../../../hakurei").util,o=function(t){r.apply(this,arguments)};n.inherit(o,r),o.prototype.isEnableToFallDown=function(){return!1},e.exports=o},{"../../../constant":2,"../../../hakurei":5,"./state_base":156}],158:[function(t,e,i){"use strict";var r=(t("../../../constant"),t("./state_base")),n=t("../../../hakurei").util,o=function(t){r.apply(this,arguments)};n.inherit(o,r),o.prototype.isEnableToPlayMove=function(){return!1},o.prototype.isEnableToPlayExchange=function(){return!1},o.prototype.isEnableToFallDown=function(){return!1},o.prototype.isEnableToDie=function(){return!1},e.exports=o},{"../../../constant":2,"../../../hakurei":5,"./state_base":156}],159:[function(t,e,i){"use strict";var r=(t("../../../constant"),t("./state_base")),n=t("../../../hakurei").util,o=function(t){r.apply(this,arguments)};n.inherit(o,r),o.prototype.isEnableToPlayMove=function(){return!1},o.prototype.isEnableToPlayExchange=function(){return!1},o.prototype.isEnableToFallDown=function(){return!1},o.prototype.isEnableToDie=function(){return!1},e.exports=o},{"../../../constant":2,"../../../hakurei":5,"./state_base":156}],160:[function(t,e,i){"use strict";var r=(t("../../../constant"),t("./state_base")),n=t("../../../hakurei").util,o=function(t){r.apply(this,arguments)};n.inherit(o,r),o.prototype.isEnableToPlayMove=function(){return!1},e.exports=o},{"../../../constant":2,"../../../hakurei":5,"./state_base":156}],161:[function(t,e,i){"use strict";var r=(t("../../../constant"),t("./state_base")),n=t("../../../hakurei").util,o=function(t){r.apply(this,arguments)};n.inherit(o,r),e.exports=o},{"../../../constant":2,"../../../hakurei":5,"./state_base":156}],162:[function(t,e,i){"use strict";var r=(t("../../../constant"),t("./state_move_base")),n=t("../../../hakurei").util,o=function(t){r.apply(this,arguments)};n.inherit(o,r),e.exports=o},{"../../../constant":2,"../../../hakurei":5,"./state_move_base":161}],163:[function(t,e,i){arguments[4][162][0].apply(i,arguments)},{"../../../constant":2,"../../../hakurei":5,"./state_move_base":161,dup:162}],164:[function(t,e,i){"use strict";var r=(t("../../../constant"),t("./state_base")),n=t("../../../hakurei").util,o=function(t){r.apply(this,arguments)};n.inherit(o,r),e.exports=o},{"../../../constant":2,"../../../hakurei":5,"./state_base":156}],165:[function(t,e,i){"use strict";var r=t("../../hakurei").object.sprite,n=t("../../hakurei").util,o=function(t){r.apply(this,arguments)};n.inherit(o,r),o.prototype.init=function(t,e,i){i=i||1,r.prototype.init.apply(this,arguments),this.x(t),this.y(e),this._scale=i},o.prototype.isBlock=function(){return!1},e.exports=o},{"../../hakurei":5}],166:[function(t,e,i){"use strict";var r=t("../hakurei").scene.base,n=t("../hakurei").util,o=t("../assets_config"),a=t("../constant"),s=function(t){r.apply(this,arguments)};n.inherit(s,r),s.prototype.init=function(){r.prototype.init.apply(this,arguments);var t=n.canPlayOgg()?".ogg":".m4a";for(var e in o.images)this.core.image_loader.loadImage(e,o.images[e]);for(var i in o.sounds){var a=o.sounds[i];this.core.audio_loader.loadSound(i,a.path+t,a.volume)}for(var s in o.bgms){var u=o.bgms[s];this.core.audio_loader.loadBGM(s,u.path+t,1,u.loopStart,u.loopEnd)}},s.prototype.beforeDraw=function(){r.prototype.beforeDraw.apply(this,arguments),this.core.image_loader.isAllLoaded()&&this.core.audio_loader.isAllLoaded()&&this.core.font_loader.isAllLoaded()&&(a.DEBUG.START_SCENE?this.core.changeScene(a.DEBUG.START_SCENE):this.core.changeScene("title"))},s.prototype.draw=function(){r.prototype.draw.apply(this,arguments);var t=this.core.ctx;t.save(),t.fillStyle="white",t.fillRect(0,0,this.core.width,this.core.height),t.restore();var e=this.frame_count%60,i=15,n="";n=i>e&&e>=0?"":2*i>e&&e>=1*i?".":3*i>e&&e>=2*i?"..":"...",t.save(),t.fillStyle="rgb( 0, 0, 0 )",t.textAlign="left",t.font="30px 'Migu'",t.fillText("Now Loading"+n,this.core.width-250,this.core.height-50),t.restore(),t.save(),t.fillStyle="rgb(119, 66, 244)",t.fillRect(0,this.core.height-20,this.core.width*this.progress(),50),t.restore()},s.prototype.progress=function(){var t=(this.core.audio_loader.progress()+this.core.image_loader.progress()+this.core.font_loader.progress())/3;return t},e.exports=s},{"../assets_config":1,"../constant":2,"../hakurei":5}],167:[function(t,e,i){"use strict";var r=t("../hakurei").scene.base,n=t("../hakurei").util,o=t("../hakurei").constant,a=(t("../constant"),t("../logic/get_title_bgm")),s=100,u=[["menu_story_start","reminiscence",function(t){var e=t.storage_story.getNormalStageProgress();e?t.changeScene("stage",e+1,"talk"):t.changeScene("reminiscence")}],["menu_ex_story_start","ex_epigraph",function(t){var e=t.storage_story.getExStageProgress();e?t.changeScene("stage",e+1,"talk"):t.changeScene("ex_epigraph")}],["menu_select_stage","select",function(t){t.changeScene("select")}],["menu_music_room","music",function(t){t.changeScene("music")}]],c=function(t){r.apply(this,arguments)};n.inherit(c,r),c.prototype.init=function(){r.prototype.init.apply(this,arguments),this.index=0;var t=this.core.storage_story.getIsNormalStageCleared(),e=this.core.storage_story.getLatestStageResult()?!0:!1;this.menu_list=[];for(var i=0,n=u.length;n>i;i++){var o=u[i];(t||"ex_epigraph"!==o[1])&&(e||"select"!==o[1])&&this.menu_list.push(o)}this.core.stopBGM(),this.setFadeIn(s)},c.prototype.beforeDraw=function(){if(r.prototype.beforeDraw.apply(this,arguments),60===this.frame_count&&this.core.playBGM(a.exec(this.core.storage_story)),this.core.isKeyPushOrLongDown(o.BUTTON_DOWN)&&(this.core.playSound("select"),this.index++,this.index>=this.menu_list.length&&(this.index=this.menu_list.length-1)),this.core.isKeyPushOrLongDown(o.BUTTON_UP)&&(this.core.playSound("select"),this.index--,this.index<0&&(this.index=0)),this.core.isKeyPush(o.BUTTON_Z)){this.core.playSound("select");var t=this.menu_list[this.index][2];t(this.core)}},c.prototype.draw=function(){this.core.clearCanvas();var t=this.core.ctx;t.save();var e;e=this.core.storage_story.getIsNormalStageCleared()&&!this.core.storage_story.getIsExStageCleared()?this.core.image_loader.getImage("title_bg_without_yukari"):this.core.image_loader.getImage("title_bg"),t.drawImage(e,0,0,e.width,e.height,0,0,this.core.width,this.core.height);var i=this.core.image_loader.getImage("title");t.drawImage(i,20,-20,i.width,i.height);for(var r=this.core.width-120,n=130,o=0,a=this.menu_list.length;a>o;o++){var s,u,c=this.menu_list[o];this.index===o?(s="_on",u=10):(s="_off",u=0);var l=this.core.image_loader.getImage(c[0]+s);t.drawImage(l,r-u,n,l.width,l.height),n+=l.height}t.restore()},c.prototype._drawText=function(t,e,i){var r=this.core.ctx;r.fillStyle="rgb( 0, 0, 0 )",r.lineWidth=4,r.strokeText(t,e,i),r.fillStyle="rgb( 255, 255, 255 )",r.fillText(t,e,i)},e.exports=c},{"../constant":2,"../hakurei":5,"../logic/get_title_bgm":42}],168:[function(t,e,i){"use strict";var r=t("../logic/serif/reminiscence"),n=t("../hakurei").util,o=(t("../constant"),t("./serif_base")),a=function(t){o.apply(this,arguments)};n.inherit(a,o),a.prototype.notifySerifEnd=function(){this.core.changeScene("logo")},a.prototype.serifScript=function(){return r},a.prototype.bgm=function(){return"reminiscence"},a.prototype.backgroundTransitionColor=function(){return"black"},e.exports=a},{"../constant":2,"../hakurei":5,"../logic/serif/reminiscence":51,"./serif_base":221}],169:[function(t,e,i){"use strict";var r=240,n=t("../hakurei").scene.base,o=t("../hakurei").util,a=function(t){n.apply(this,arguments)};o.inherit(a,n),a.prototype.init=function(){n.prototype.init.apply(this,arguments),this.core.stopBGM()},a.prototype.beforeDraw=function(){n.prototype.beforeDraw.apply(this,arguments),this.isTransitionEnd()&&this.core.changeScene("prologue")},a.prototype.draw=function(){var t=this.core.ctx;t.save(),t.fillStyle="black",t.fillRect(0,0,this.core.width,this.core.height),t.restore();var e=0;this.frame_count<r/3?e=this.frame_count/(r/3):r/3<=this.frame_count&&this.frame_count<2*r/3?e=1:2*r/3<=this.frame_count&&this.frame_count<r&&(e=(r-this.frame_count)/(r/3));var i=this.core.image_loader.getImage("title"),n=20,o=this.core.height/2-i.height/2;t.save(),t.globalAlpha=e,t.drawImage(i,n,o,i.width,i.height),t.restore()},a.prototype.isTransitionEnd=function(){return r<this.frame_count},e.exports=a},{"../hakurei":5}],170:[function(t,e,i){"use strict";var r=t("../logic/serif/prologue"),n=t("../hakurei").util,o=(t("../constant"),t("./serif_base")),a=function(t){o.apply(this,arguments)};n.inherit(a,o),a.prototype.notifySerifEnd=function(){var t=1;this.core.changeScene("stage",t,"talk")},a.prototype.serifScript=function(){return r},a.prototype.background=function(){return"shrine_noon"},a.prototype.bgm=function(){return"prologue"},e.exports=a},{"../constant":2,"../hakurei":5,"../logic/serif/prologue":50,"./serif_base":221}],171:[function(t,e,i){"use strict";var r=t("../hakurei").util,n=(t("../hakurei").constant,t("../constant")),o=t("../object/background_eye"),a=t("../logic/score"),s=t("../logic/create_map"),u=t("../hakurei").scene.base,r=t("../hakurei").util,c=t("./stage/before_talk"),l=t("./stage/after_talk"),h=t("./stage/play"),p=t("./stage/result_clear_by_story"),f=t("./stage/result_clear_by_select"),_=t("./stage/pause"),g=t("../stage_config"),m=g.MAPS,d=g.SERIF_BEFORES,y=g.SERIF_AFTERS,x=g.EYES_NUM,b=function(t){u.apply(this,arguments),this.addSubScene("talk",new c(t,this)),this.addSubScene("after_talk",new l(t,this)),this.addSubScene("play",new h(t,this)),this.addSubScene("result_clear_by_story",new p(t,this)),this.addSubScene("result_clear_by_select",new f(t,this)),this.addSubScene("pause",new _(t,this))};r.inherit(b,u),b.prototype.init=function(t,e,i){u.prototype.init.apply(this,arguments),this.stage_no=t||1,e||(e="talk"),this.core.audio_loader.isPlayingBGM(this.getBGMName())||this.core.stopBGM(),
this.is_from_select_scene=i?!0:!1,this.reimu_item_num=0,this.yukari_item_num=0,this.eyes=[],this.max_exchange_num=m[this.stage_no].exchange_num,this._is_vertical=m[this.stage_no].is_vertical,this.objects_by_tile_type=null,n.DEBUG.ON&&this.checkValidMap(m[this.stage_no].map),this.parseAndCreateMap(m[this.stage_no].map),this.max_item_num=this.calcItemNum(),"talk"===e?this.changeSubScene("talk",d[this.stage_no]):this.changeSubScene(e)},b.prototype.beforeDraw=function(){this.frame_count++,this.changeNextSubSceneIfReserved(),this.currentSubScene()&&this.currentSubScene().beforeDraw(),60===this.frame_count&&this.core.changeBGM(this.getBGMName())},b.prototype.getBlocks=function(){for(var t=[],e=0,i=this.objects.length;i>e;e++)this.objects[e].isBlock()&&t.push(this.objects[e]);return t},b.prototype.notifyPlayerDie=function(){this.notifyRestart()},b.prototype.notifyRestart=function(){this.core.changeScene("stage",this.stage_no,"play",this.is_from_select_scene)},b.prototype.notifyQuit=function(){this.is_from_select_scene?this.core.changeScene("select",this.stage_no):this.core.changeScene("title")},b.prototype.notifyStageClear=function(){this.core.storage_story.updateStageResult(this.stage_no,this.getSubScene("play").frame_count,this.player().exchange_num),this.is_from_select_scene||(this.isInExStory()?(this.core.storage_story.incrementExStageProgress(),this.isLastExStory()&&(this.core.storage_story.resetExStageProgress(),this.core.storage_story.clearExStage())):(this.core.storage_story.incrementNormalStageProgress(),this.isLastNormalStory()&&(this.core.storage_story.resetNormalStageProgress(),this.core.storage_story.clearNormalStage()))),this.core.storage_story.save(),this.is_from_select_scene?this.changeSubScene("result_clear_by_select"):this.changeSubScene("result_clear_by_story")},b.prototype.notifyResultClearEndByStory=function(){y[this.stage_no].length>0?this.changeSubScene("after_talk",y[this.stage_no]):this.notifyAfterTalkEnd()},b.prototype.notifyResultClearEndBySelect=function(){this.setFadeOut(60),this.core.changeScene("select",this.stage_no)},b.prototype.notifyAfterTalkEnd=function(){this.isLastNormalStory()?(this.setFadeOut(60,"white"),this.core.changeScene("after_normal")):this.isLastExStory()?(this.setFadeOut(120,"white"),this.core.changeScene("after_ex")):n.TRIAL&&this.stage_no===n.TRIAL_LAST_STAGE_NO?(this.core.storage_story.resetNormalStageProgress(),this.core.changeScene("title")):this.core.changeScene("stage",this.stage_no+1)},b.prototype.isLastNormalStory=function(){return this.stage_no===n.EX_STORY_START_STAGE_NO-1?!0:!1},b.prototype.isInNormalStory=function(){return!this.isInExStory()},b.prototype.isLastExStory=function(){return m[this.stage_no+1]?!1:!0},b.prototype.isInExStory=function(){return this.stage_no>=n.EX_STORY_START_STAGE_NO?!0:!1},b.prototype.player=function(){return this.objects_by_tile_type[n.PLAYER][0]},b.prototype.isClear=function(){return this.reimu_item_num+this.yukari_item_num>=this.max_item_num?!0:!1},b.prototype.isVertical=function(){return this._is_vertical},b.prototype.exchangeVertical=function(){this._is_vertical=!this._is_vertical},b.prototype.draw=function(){var t=this.core.ctx;t.save();var e=this.core.image_loader.getImage(this.getBGImageName()),i=t.createPattern(e,"repeat");t.fillStyle=i,t.translate(-this.core.frame_count%103,-103+this.core.frame_count%103),t.fillRect(0,0,1648,1648),t.restore(),s.drawBackground(t,this.core.image_loader.getImage("bg"),n.STAGE_OFFSET_X,n.STAGE_OFFSET_Y),t.save(),t.fillStyle="rgb( 255, 255, 255 )",t.font="24px 'PixelMplus'",t.textAlign="right",t.fillText("ステージ: "+this.stage_no,this.core.width-30,30),t.restore(),t.save();for(var r=0,o=this.eyes.length;o>r;r++)this.eyes[r].draw();for(var a=0;a<n.RENDER_SORT.length;a++)for(var u=n.RENDER_SORT[a],c=0,l=this.objects_by_tile_type[u].length;l>c;c++)this.objects_by_tile_type[u][c].draw();s.drawFrames(this,n.STAGE_OFFSET_X,n.STAGE_OFFSET_Y),this.currentSubScene()&&this.currentSubScene().draw()},b.prototype.addReimuItemNum=function(){this.reimu_item_num+=1},b.prototype.addYukariItemNum=function(){this.yukari_item_num+=1},b.prototype.checkValidMap=function(t){t.length!==n.STAGE_TILE_Y_NUM&&window.alert("マップの縦が20行である必要があります。");for(var e=!1,i=0;i<t.length;i++){var r=t[i];r.length!==n.STAGE_TILE_X_NUM&&window.alert("マップの縦が30行である必要があります。");for(var o=0;o<r.length;o++){var a=r[o];a===n.PLAYER&&(e=!0)}}e||window.alert("このマップではプレイヤーの位置が定義されていません。")},b.prototype.parseAndCreateMap=function(t){this.objects_by_tile_type=s.exec(this,t,n.STAGE_OFFSET_X,n.STAGE_OFFSET_Y),this.removeAllObject();for(var e in this.objects_by_tile_type)this.addObjects(this.objects_by_tile_type[e])},b.prototype.createBackGroundEyes=function(){for(var t=n.TILE_SIZE*n.STAGE_TILE_X_NUM,e=n.TILE_SIZE*n.STAGE_TILE_Y_NUM,i=0;i<x[this.stage_no];i++){var r=n.STAGE_OFFSET_X+Math.floor(Math.random()*t),a=n.STAGE_OFFSET_Y+Math.floor(Math.random()*e),s=new o(this);s.init(r,a),this.eyes.push(s)}},b.prototype.calcItemNum=function(){return this.objects_by_tile_type[n.ITEM_FOR_REIMU].length+this.objects_by_tile_type[n.ITEM_FOR_YUKARI].length},b.prototype.calcHonor=function(){return a.calcHonor(this.stage_no,this.getSubScene("play").frame_count,this.player().exchange_num)},b.prototype.getBGImageName=function(){return this.stage_no<=10?"stage_bg01":10<this.stage_no&&this.stage_no<=20?"stage_bg02":20<this.stage_no&&this.stage_no<=30?"stage_bg03":30<this.stage_no&&this.stage_no<=40?"stage_bg04":"stage_bg01"},b.prototype.getBGMName=function(){return this.stage_no<=10?"stage_a":10<this.stage_no&&this.stage_no<=20?"stage_b":20<this.stage_no&&this.stage_no<=30?"stage_c":30<this.stage_no&&this.stage_no<=35?"stage_d":35<this.stage_no&&this.stage_no<=40?"stage_e":"stage_a"},b.prototype.isExReimu=function(){return this.isInNormalStory()?!1:this.is_from_select_scene&&this.core.storage_story.getIsExStageCleared()?!1:!0},b.prototype.clearStageForDebug=function(){this.currentSubScene()instanceof h&&(this.reimu_item_num=this.max_item_num-this.yukari_item_num)},e.exports=b},{"../constant":2,"../hakurei":5,"../logic/create_map":41,"../logic/score":45,"../object/background_eye":134,"../stage_config":229,"./stage/after_talk":222,"./stage/before_talk":223,"./stage/pause":224,"./stage/play":225,"./stage/result_clear_by_select":226,"./stage/result_clear_by_story":227}],172:[function(t,e,i){"use strict";var r=t("../logic/serif/after_normal"),n=t("../hakurei").util,o=(t("../constant"),t("./serif_base")),a=function(t){o.apply(this,arguments)};n.inherit(a,o),a.prototype.notifySerifEnd=function(){this.core.changeScene("title")},a.prototype.serifScript=function(){return r},a.prototype.bgm=function(){},a.prototype.isPlayFadeIn=function(){return!0},e.exports=a},{"../constant":2,"../hakurei":5,"../logic/serif/after_normal":47,"./serif_base":221}],173:[function(t,e,i){"use strict";var r=240,n=t("../hakurei").scene.base,o=t("../hakurei").util,a=function(t){n.apply(this,arguments)};o.inherit(a,n),a.prototype.init=function(){n.prototype.init.apply(this,arguments),this.core.stopBGM()},a.prototype.beforeDraw=function(){n.prototype.beforeDraw.apply(this,arguments),this.isTransitionEnd()&&this.core.changeScene("ex_prologue")},a.prototype.draw=function(){var t=this.core.ctx;t.save(),t.fillStyle="black",t.fillRect(0,0,this.core.width,this.core.height),t.restore();var e=0;this.frame_count<r/3?e=this.frame_count/(r/3):r/3<=this.frame_count&&this.frame_count<2*r/3?e=1:2*r/3<=this.frame_count&&this.frame_count<r&&(e=(r-this.frame_count)/(r/3));var i="幻想郷は全てを受け入れるのよ。",n="それはそれは残酷な話ですわ。",o=this.core.width/2-250;t.save(),t.globalAlpha=e,t.fillStyle="rgb( 255, 255, 255 )",t.textAlign="left",t.font="30px 'Migu'",t.fillText(i,o,this.core.height/2),t.fillText(n,o,this.core.height/2+35),t.restore()},a.prototype.isTransitionEnd=function(){return r<this.frame_count},e.exports=a},{"../hakurei":5}],174:[function(t,e,i){"use strict";var r=t("../logic/serif/ex_prologue"),n=t("../hakurei").util,o=t("../constant"),a=t("./serif_base"),s=function(t){a.apply(this,arguments)};n.inherit(s,a),s.prototype.notifySerifEnd=function(){var t=o.EX_STORY_START_STAGE_NO;this.core.changeScene("stage",t,"talk")},s.prototype.serifScript=function(){return r},s.prototype.background=function(){return"shrine_night"},s.prototype.isPlayFadeOut=function(){return!0},e.exports=s},{"../constant":2,"../hakurei":5,"../logic/serif/ex_prologue":49,"./serif_base":221}],175:[function(t,e,i){"use strict";var r=t("../logic/serif/after_ex"),n=t("../hakurei").util,o=(t("../constant"),t("./serif_base")),a=function(t){o.apply(this,arguments)};n.inherit(a,o),a.prototype.init=function(){o.prototype.init.apply(this,arguments)},a.prototype.beforeDraw=function(){o.prototype.beforeDraw.apply(this,arguments)},a.prototype.isPlayFadeIn=function(){return!0},a.prototype.isPlayFadeOut=function(){return!0},a.prototype.notifySerifEnd=function(){this.core.changeScene("staffroll")},a.prototype.serifScript=function(){return r},a.prototype.bgm=function(){return"after_ex"},e.exports=a},{"../constant":2,"../hakurei":5,"../logic/serif/after_ex":46,"./serif_base":221}],176:[function(t,e,i){"use strict";var r=[["プログラム","さい"],["ドット絵・UI","AOI"],["イラスト","シノバ (shnva)"],["脚本・演出","土露団子"],["BGM","敷き紙"],["DLカード デザイン","RF"]],n=600,o=t("../hakurei").scene.base,a=t("../hakurei").util,s=t("../object/reimu_for_staffroll"),u=function(t){o.apply(this,arguments)};a.inherit(u,o),u.prototype.init=function(){o.prototype.init.apply(this,arguments),this.reimu=new s(this),this.reimu.init(this.core.width-100,this.core.height-100),this.removeAllObject(),this.addObject(this.reimu),this.serif_index=0,this.is_ending=!1,this.is_play_bgm=!1,this.core.stopBGM()},u.prototype.beforeDraw=function(){o.prototype.beforeDraw.apply(this,arguments),60!==this.frame_count||this.is_play_bgm||(this.core.playBGM("staffroll"),this.is_play_bgm=!0),this.frame_count>n&&(this.frame_count=0,this.is_ending?this.core.changeScene("epilogue"):this.serif_index+1===r.length?this.is_ending=!0:this.serif_index++)},u.prototype.draw=function(){var t=this.core.ctx;if(t.save(),t.fillStyle="black",t.fillRect(0,0,this.core.width,this.core.height),t.restore(),this.is_ending)this.reimu.x(this.reimu.x()-this.core.width/n);else{var e=0;this.frame_count<n/4?e=this.frame_count/(n/4):n/4<=this.frame_count&&this.frame_count<2*n/4?e=1:2*n/4<=this.frame_count&&this.frame_count<3*n/4?e=(3*n/4-this.frame_count)/(n/4):3*n/4<=this.frame_count&&this.frame_count<n&&(e=0);var i=r[this.serif_index][0],a=r[this.serif_index][1];this.core.width/2-250;t.save(),t.globalAlpha=e,t.fillStyle="rgb( 255, 255, 255 )",t.textAlign="left",t.font="30px 'Migu'",t.fillText(i,this.core.width/2-150,this.core.height/2-30),t.fillText(a,this.core.width/2-50,this.core.height/2+20),t.restore()}o.prototype.draw.apply(this,arguments)},e.exports=u},{"../hakurei":5,"../object/reimu_for_staffroll":136}],177:[function(t,e,i){"use strict";var r=t("../logic/serif/epilogue"),n=t("../hakurei").util,o=(t("../constant"),t("./serif_base")),a=function(t){o.apply(this,arguments)};n.inherit(a,o),a.prototype.init=function(){o.prototype.init.apply(this,arguments),this._is_play_drop_sound=!1,this._is_play_bgm=!1},a.prototype.beforeDraw=function(){o.prototype.beforeDraw.apply(this,arguments),9!==this.serif.progress||this._is_play_drop_sound||(this._is_play_drop_sound=!0,this.core.playSound("drop")),3!==this.serif.progress||this._is_play_bgm||(this._is_play_bgm=!0,this.core.playBGM("epilogue"))},a.prototype.notifySerifEnd=function(){this.core.changeScene("title")},a.prototype.serifScript=function(){return r},a.prototype.background=function(){return"shrine_noon"},a.prototype.isPlayFadeIn=function(){return!0},e.exports=a},{"../constant":2,"../hakurei":5,"../logic/serif/epilogue":48,"./serif_base":221}],178:[function(t,e,i){"use strict";var r=t("../hakurei").scene.base,n=t("../hakurei").util,o=t("../hakurei").constant,a=(t("../constant"),[{image:"thumbnail15",messages:["主人公は霊夢"]},{image:"thumbnail15",messages:["霊夢が動くと反対側の紫も動く"]},{image:"thumbnail15",messages:["紫は壁や敵を無視できる"]},{image:"thumbnail15",messages:["御札は霊夢しか獲得できない"]},{image:"thumbnail15",messages:["リボンは紫しか獲得できない"]},{image:"thumbnail15",messages:["Xキーで霊夢と紫の位置を","入れ替えて進もう"]},{image:"thumbnail15",messages:["入れ替え回数には上限があるよ"]},{image:"thumbnail15",messages:["ステージのアイテムを","すべて集めるとクリア！"]}]),s=function(t){r.apply(this,arguments)};n.inherit(s,r),s.prototype.init=function(){r.prototype.init.apply(this,arguments),this.index=0},s.prototype.beforeDraw=function(){r.prototype.beforeDraw.apply(this,arguments),this.core.isKeyPush(o.BUTTON_RIGHT)&&(this.index++,this.index>=a.length&&(this.index=a.length-1,this.core.changeScene("title"))),this.core.isKeyPush(o.BUTTON_LEFT)&&(this.index--,this.index<0&&(this.index=0))},s.prototype.draw=function(){this.core.clearCanvas();var t=this.core.ctx;t.save();var e=this.core.image_loader.getImage("title_bg");t.drawImage(e,0,0,e.width,e.height,0,0,this.core.width,this.core.height),t.fillStyle="rgb( 0, 0, 0 )",t.globalAlpha=.5,t.fillRect(0,0,this.core.width,this.core.height),t.restore(),t.font="36px 'Migu'",t.textAlign="left",this._drawText(a[this.index].messages[0],100,500),a[this.index].messages[1]&&this._drawText(a[this.index].messages[1],100,540),0!==this.index&&this._drawText("◀",10,250),this._drawText("▶",this.core.width-50,250);var i=this.core.image_loader.getImage(a[this.index].image);t.drawImage(i,0,0,i.width,i.height,80,20,.8*i.width,.8*i.height)},s.prototype._drawText=function(t,e,i){var r=this.core.ctx;r.fillStyle="rgb( 0, 0, 0 )",r.lineWidth=4,r.strokeText(t,e,i),r.fillStyle="rgb( 255, 255, 255 )",r.fillText(t,e,i)},e.exports=s},{"../constant":2,"../hakurei":5}],179:[function(t,e,i){"use strict";var r=11,n=12,o=13,a=10,s=9,u=7,c=[[0,0,0,0,0,0,0,0,0,0,0,r,n,n,n,n,n,n,o,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,r,n,n,n,n,o,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,r,n,n,o,0,0,u,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,r,n,n,o,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,r,n,n,o,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,r,n,n,o,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,r,n,n,n,n,n,o,6,r,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,o,0],[0,0,0,0,r,o,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,r,n,o,0,0],[0,0,0,0,r,o,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,r,n,o,0,0],[0,0,0,0,r,o,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,s,0,0,0,r,n,o,0,0],[0,0,0,0,r,o,0,r,n,o,0,0,0,0,0,0,0,0,0,0,r,n,o,0,0,r,n,o,0,0],[0,0,0,0,r,o,0,r,n,o,0,0,0,0,0,0,0,0,0,0,r,n,o,0,0,r,n,o,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,s,0,0,0,0,s,0,0,0,0,0,0,0,0,0,0,0,0],[0,r,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,o,0],[0,0,r,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,o,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a]];e.exports={map:c,exchange_num:2,is_vertical:!1,criteria_time:420,criteria_exchange_num:2}},{}],180:[function(t,e,i){"use strict";var r=11,n=12,o=13,a=10,s=8,u=9,c=6,l=7,h=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,u,u,u,0,0,0,0,0,0,0,0,0,0,0,0,u,u,u,0,0,0,0],[0,0,0,0,0,r,n,c,n,n,n,n,n,o,0,0,0,0,0,r,n,c,n,n,n,n,n,o,0,0],[0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,c,0,0,s,0,0,0,0,0,0,0,0,s,0,c,0,0,0,0,0,0,0,0],[0,0,0,0,r,n,n,n,n,c,n,o,0,0,0,0,0,0,r,n,n,n,n,c,n,o,0,0,0,0],[0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,c,0,0,0,0,l,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,u,u,0,0,c,0,0,0,0,0,0],[0,0,0,0,0,0,r,n,n,n,n,n,n,n,n,o,0,0,r,n,n,n,n,n,n,n,n,n,o,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a]];e.exports={map:h,exchange_num:1,is_vertical:!1,criteria_time:820,criteria_exchange_num:1}},{}],181:[function(t,e,i){"use strict";var r=11,n=12,o=13,a=10,s=8,u=9,c=6,l=7,h=14,p=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,u,0,0,0,0,0,0,0,0,l,0,0,0,0,0,0,0,0,0,u,0,0,0,0,0],[0,0,0,0,0,r,o,c,r,o,0,0,0,0,0,0,0,0,0,0,r,n,n,n,o,0,0,0,0,0],[0,0,0,0,0,0,0,c,0,0,0,0,r,n,n,n,n,o,0,0,0,0,c,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0],[0,0,0,h,h,0,s,0,0,0,s,0,0,0,u,u,0,0,0,0,0,0,c,0,0,h,h,0,0,0],[0,r,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,o,0],[0,0,r,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,o,0,0],[0,0,0,r,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,o,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a]];e.exports={map:p,exchange_num:3,is_vertical:!1,criteria_time:770,criteria_exchange_num:3}},{}],182:[function(t,e,i){"use strict";var r=11,n=12,o=13,a=10,s=8,u=9,c=6,l=7,h=5,p=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,u,0,u,0,u,0,u,0,0,0,0,0,0,0,0,0,s,0,0],[0,r,o,c,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,r,n,o,0],[0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,c,0,0,0,0,0,l,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,r,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,c,n,n,o,0,0],[0,0,0,r,n,n,n,n,n,o,0,0,0,0,0,0,0,0,0,0,0,0,r,n,c,n,o,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0],[0,0,s,0,0,0,0,0,0,0,0,u,0,u,0,u,0,u,0,0,0,0,0,0,c,0,0,0,0,0],[0,r,n,o,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,r,n,o,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a]];e.exports={map:p,exchange_num:1,is_vertical:!1,criteria_time:1200,criteria_exchange_num:0}},{}],183:[function(t,e,i){"use strict";var r=11,n=12,o=13,a=10,s=8,u=9,c=6,l=7,h=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,l,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u,0,0,u,0,0,0],[0,0,r,o,c,r,n,n,o,0,0,0,0,0,0,0,0,0,0,0,0,0,r,n,n,n,n,o,0,0],[0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,c,0,0,0,0,u,0,s,0,0,0,0,0,0,0,0,0,0,u,0,0,0,0,0,0,0],[0,0,0,0,c,0,0,0,r,n,n,n,n,n,n,n,n,n,n,n,n,n,n,o,0,0,0,0,0,0],[0,0,0,0,c,0,0,0,0,r,n,n,n,n,o,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u,0,0,0,0,0,0,u,0,0,0],[0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,r,n,n,n,n,n,n,n,n,o,0,0],[0,0,0,s,c,0,0,0,u,0,0,0,0,0,u,0,0,0,0,0,0,0,0,r,n,n,o,0,0,0],[0,0,0,r,n,n,n,n,n,n,n,n,n,n,n,n,n,o,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a]];e.exports={map:h,exchange_num:2,is_vertical:!1,criteria_time:1300,criteria_exchange_num:2}},{}],184:[function(t,e,i){"use strict";var r=11,n=12,o=13,a=10,s=8,u=9,c=-1,l=7,h=5,p=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,u,u,u,0,0,s,s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u,u,u,0,0,0],[0,r,n,n,n,n,n,n,n,n,h,h,h,h,h,h,h,h,h,h,n,n,n,n,n,n,n,n,o,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,u,u,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,r,n,n,o,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,l,0,0,0,0,0,0,0,0,0,0,0,0,n,n,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,c,0,u,u,u,0,0,0,0,0,0,0,0,n,n,0,0,0,0,0,0,0,0,u,u,u,0,0,0],[0,r,n,n,n,n,n,n,n,n,h,h,n,n,n,n,n,n,h,h,n,n,n,n,n,n,n,n,o,0],[0,0,r,n,n,n,n,n,n,n,0,0,n,n,n,n,n,n,0,0,n,n,n,n,n,n,n,o,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a]];e.exports={map:p,exchange_num:4,is_vertical:!0,criteria_time:730,criteria_exchange_num:2}},{}],185:[function(t,e,i){"use strict";var r=11,n=12,o=13,a=10,s=8,u=9,c=6,l=7,h=14,p=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,s,0,0,s,0,0,s,0,0,h,h,0,0,0,0,0,0,0,0,0,0,0,0,u,u,0,0,0],[0,r,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,c,n,n,n,n,n,n,o,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0],[0,0,0,h,h,0,s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,u,u,0,0,0,0,0],[0,0,r,n,n,n,n,n,n,n,n,c,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,o,0,0],[0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,u,u,u,u,0,0,0,c,0,0,0,0,0,0,0,0,h,h,0,s,0,0,0,0,0,0],[0,0,0,r,n,n,n,n,n,n,n,n,n,n,n,c,n,n,n,n,n,n,n,n,n,n,o,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,l,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,r,n,n,n,n,n,n,o,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a]];e.exports={map:p,exchange_num:4,is_vertical:!1,criteria_time:1400,criteria_exchange_num:0}},{}],186:[function(t,e,i){"use strict";var r=11,n=12,o=13,a=10,s=8,u=9,c=6,l=7,h=14,p=15,f=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,r,n,o,0,r,n,n,n,c,n,n,n,n,n,n,n,n,n,n,n,n,o,0,r,n,o,0,0],[0,0,0,n,0,h,0,n,n,0,c,0,0,0,0,0,0,0,0,0,0,n,n,0,u,0,n,0,0,0],[0,0,0,n,0,h,0,n,n,0,c,0,0,0,0,0,0,0,0,0,0,n,n,0,u,0,n,0,0,0],[0,0,0,n,0,h,0,n,n,0,c,0,0,0,0,0,0,0,0,0,0,n,n,0,u,0,n,0,0,0],[0,0,0,n,0,h,0,n,n,0,c,0,0,0,s,0,0,0,0,0,0,n,n,0,u,0,n,0,0,0],[0,0,0,n,0,0,0,n,n,0,r,n,n,n,n,n,n,n,o,c,0,n,n,0,0,0,n,0,0,0],[0,0,0,n,0,u,0,n,n,0,0,0,0,0,0,0,0,0,0,c,0,n,n,0,h,0,n,0,0,0],[0,0,0,n,0,u,0,n,n,0,0,0,0,0,0,0,0,0,0,c,0,n,n,0,h,0,n,0,0,0],[0,0,0,n,0,u,0,n,n,0,0,0,0,0,l,0,0,0,0,c,0,n,n,0,h,0,n,0,0,0],[0,0,0,n,0,u,0,n,n,0,p,0,0,0,0,0,0,0,0,c,0,n,n,0,h,0,n,0,0,0],[0,0,0,n,0,0,0,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,0,0,0,n,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,r,n,o,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,r,n,o,0,0,0,0],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a]];e.exports={map:f,exchange_num:2,is_vertical:!0,criteria_time:800,criteria_exchange_num:2}},{}],187:[function(t,e,i){"use strict";var r=11,n=12,o=13,a=10,s=8,u=9,c=6,l=7,h=14,p=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,s,0,0,0,u,u,0,0,0,0,0,u,u,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,r,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,o,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,l,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,u,u,0,0,0,0,0,0,0,u,u,0,0,0,0,0],[0,0,r,n,n,n,n,n,n,o,0,n,c,r,n,n,o,c,n,0,r,n,n,n,n,n,n,o,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,c,0,h,h,0,c,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,r,n,n,n,n,n,n,o,0,0,0,0,0,0,0,0,0,0,0],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a]];e.exports={map:p,exchange_num:4,is_vertical:!0,criteria_time:1200,criteria_exchange_num:3}},{}],188:[function(t,e,i){"use strict";var r=11,n=12,o=13,a=10,s=8,u=6,c=7,l=14,h=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,l,l,l,l,0,0,0,0,0,0,0,0,0,0,0,0,0,0,s,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,o,u,r,n,n,n,n,n,n,n,n,n,n,n,n,o,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,u,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,u,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,u,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,u,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,s,0,0,0,0,0,0,0,u,0,0,0,0,0,0,l,l,l,l,0,0,0,0,0],[0,r,n,n,n,n,n,n,n,n,n,n,n,o,u,n,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,u,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,u,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,u,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,u,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,u,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,l,0,0,0,0,r,n,n,n,o,u,0,0,0,0,s,0,0,0,c,0,0,0],[0,0,0,r,n,n,n,n,n,n,n,n,o,0,0,0,r,n,n,n,n,n,o,u,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,r,n,n,n,n,o,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a]];e.exports={map:h,exchange_num:2,is_vertical:!1,criteria_time:1350,criteria_exchange_num:2}},{}],189:[function(t,e,i){"use strict";var r=11,n=12,o=13,a=10,s=8,u=9,c=6,l=7,h=5,p=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,r,0,0,o,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,r,n,n,o,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,u,u,u,u,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,r,n,o,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,r,n,o,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,u,u,u,0,0,u,u,u,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,n,c,h,h,h,h,h,h,h,h,h,h,c,n,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,n,c,0,0,0,0,0,0,0,0,0,0,c,n,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,s,u,n,c,0,0,0,0,u,u,0,0,s,0,c,n,u,s,0,0,0,0,0,0],[0,r,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,o,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a]];e.exports={map:p,exchange_num:1,is_vertical:!1,criteria_time:740,criteria_exchange_num:1}},{}],190:[function(t,e,i){"use strict";var r=11,n=12,o=13,a=10,s=8,u=9,c=6,l=7,h=5,p=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,s,0,0,0,0,u,0,u,0,0,u,0,u,0,0,0,0,s,0,0,0,0,0,0],[0,0,0,r,c,r,n,n,n,n,c,n,n,n,n,n,n,n,n,c,n,n,n,n,n,n,o,0,0,0],[0,0,0,0,c,0,0,0,0,0,c,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,c,0,0,0,0,0,c,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,c,0,0,0,0,0,c,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,c,0,0,0,0,0,c,0,u,0,0,0,0,u,0,c,0,0,0,0,0,0,0,0,0,0],[0,0,0,u,c,u,0,0,0,0,r,n,n,n,n,n,n,n,n,o,0,0,0,0,u,0,u,0,0,0],[0,0,r,n,n,n,o,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,r,n,c,n,o,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,l,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,r,h,h,o,0,0,0,0,0,0,0,0,c,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0],[0,0,0,0,0,0,s,0,0,0,0,0,u,0,u,u,0,u,0,0,0,0,0,s,0,c,0,0,0,0],[0,0,0,r,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,o,0,0,0],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a]];e.exports={map:p,exchange_num:1,is_vertical:!1,criteria_time:2040,criteria_exchange_num:1}},{}],191:[function(t,e,i){"use strict";var r=11,n=12,o=13,a=10,s=8,u=9,c=6,l=7,h=5,p=14,f=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,p,0,u,0,0,p,0,u,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,r,c,o,0,0,r,c,o,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,u,u,u,u,0,s,c,0,0,0,0,c,s,0,u,u,u,u,0,0,0,0,0,0],[0,0,r,n,n,n,n,n,n,n,n,n,n,n,h,h,n,n,n,n,n,n,n,o,c,r,n,o,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0],[0,0,0,u,0,0,0,0,0,0,0,s,u,0,0,0,0,u,s,0,0,0,0,0,c,0,u,0,0,0],[0,0,r,n,n,n,n,c,n,n,n,n,n,n,h,h,n,n,n,n,n,n,n,n,n,n,n,o,0,0],[0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[n,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l,0,0,0,0,n],[n,0,0,0,0,0,0,c,0,0,0,0,0,0,u,u,u,u,0,0,0,0,0,0,0,0,0,0,0,n],[n,h,h,r,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,o,h,h,n],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a]];e.exports={map:f,exchange_num:2,is_vertical:!1,criteria_time:2300,
criteria_exchange_num:1}},{}],192:[function(t,e,i){"use strict";var r=11,n=12,o=13,a=10,s=8,u=9,c=6,l=7,h=15,p=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,u,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u,0,0,0,0,0],[0,0,r,n,n,n,o,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,r,n,n,n,o,0,0],[0,0,0,0,l,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,u,0,h,0,0,u,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,r,c,o,0,0,0,r,c,r,n,n,n,n,o,c,o,0,0,0,r,c,o,0,0,0,0],[0,0,0,0,0,c,0,0,0,0,0,c,0,0,0,0,0,0,c,0,0,0,0,0,c,0,0,0,0,0],[0,0,0,0,0,c,0,0,0,0,0,c,0,0,0,0,0,0,c,0,0,0,0,0,c,0,0,0,0,0],[0,0,0,0,0,c,0,0,0,0,0,c,0,0,s,s,0,0,c,0,0,0,0,0,c,0,0,0,0,0],[0,0,0,r,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,o,0,0,0],[0,0,0,0,r,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,o,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,u,u,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,r,n,n,o,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,u,u,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u,u,0,0,0,0],[0,0,0,r,n,n,o,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,r,n,n,o,0,0,0],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a]];e.exports={map:p,exchange_num:5,is_vertical:!1,criteria_time:1900,criteria_exchange_num:5}},{}],193:[function(t,e,i){"use strict";var r=11,n=12,o=13,a=10,s=8,u=16,c=9,l=6,h=7,p=5,f=14,_=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,h,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,n,n,n,n,n,n,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,n,p,p,p,p,p,p,p,n,n,n,n,n,n,p,p,p,l,p,p,p,n,0,0,0,0],[n,0,f,0,n,0,0,0,f,0,0,0,n,n,n,n,n,n,0,0,0,l,0,0,0,n,0,c,0,n],[n,p,p,p,n,0,0,0,f,0,0,0,n,n,n,n,n,n,0,0,0,l,0,0,0,n,p,p,p,n],[n,0,0,0,n,0,0,0,f,0,0,0,n,n,n,n,n,n,0,0,0,l,0,0,0,n,0,0,0,n],[n,0,0,0,n,0,0,0,f,0,0,0,n,n,n,n,n,n,0,0,0,l,0,0,0,n,0,0,0,n],[n,0,u,0,n,0,0,0,0,0,0,0,n,n,n,n,n,n,0,0,0,l,0,0,0,n,0,u,0,n],[0,0,0,0,n,0,0,0,0,0,0,0,n,n,n,n,n,n,0,0,0,l,0,0,0,n,0,0,0,0],[n,0,0,0,n,p,p,p,l,p,p,p,n,n,n,n,n,n,p,p,p,p,p,p,p,n,0,0,0,n],[n,0,c,0,n,0,0,0,l,0,0,0,n,n,n,n,n,n,0,0,0,f,0,0,0,n,0,f,0,n],[n,p,p,p,n,0,0,0,l,0,0,0,n,n,n,n,n,n,0,0,0,f,0,0,0,n,p,p,p,n],[n,0,0,0,n,0,0,0,l,0,0,0,n,n,n,n,n,n,0,0,0,f,0,0,0,n,0,0,0,n],[0,0,0,0,n,0,0,0,l,0,0,0,0,0,0,0,0,0,0,0,0,f,0,0,0,n,0,0,0,0],[0,0,0,0,n,0,0,0,l,0,0,0,s,0,c,c,0,0,0,0,0,0,0,0,0,n,0,0,0,0],[0,0,0,0,r,p,p,p,p,p,p,p,r,n,n,n,n,o,p,p,p,p,p,p,p,o,0,0,0,0],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a]];e.exports={map:_,exchange_num:3,is_vertical:!1,criteria_time:1600,criteria_exchange_num:2}},{}],194:[function(t,e,i){"use strict";var r=11,n=12,o=13,a=10,s=16,u=9,c=6,l=7,h=14,p=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u,0,0,u,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,r,n,o,c,r,o,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,r,n,o,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,u,0,u,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,r,n,n,n,n,o,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,l,0,0,0,0,0,0,0,0,0,0,u,0,u,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,r,c,r,n,n,n,n,o,c,o,0],[0,0,0,0,0,0,0,0,0,r,n,n,n,n,o,0,0,0,0,0,c,0,0,0,0,0,0,c,0,0],[0,0,0,0,0,0,0,s,0,0,0,0,0,0,0,0,0,0,0,h,0,h,0,0,0,0,h,0,h,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,r,n,o,0,s,0,0,r,n,o,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,u,0,0,0,0,0,0,u,0,0,0,0,0,0,u,0,u,0,0,0,0,0],[0,0,0,0,0,0,0,r,n,o,0,0,0,0,r,n,o,0,0,0,0,r,n,n,n,o,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u,u,0,0,0,0,0,0,0,0,0,0],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,r,n,n,o,a,a,a,a,a,a,a,a,a]];e.exports={map:p,exchange_num:5,is_vertical:!0,criteria_time:1420,criteria_exchange_num:3}},{}],195:[function(t,e,i){"use strict";var r=11,n=12,o=13,a=8,s=16,u=9,c=6,l=7,h=5,p=14,f=15,_=[[r,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,o],[r,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,o],[r,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,o],[r,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,o],[r,0,0,0,s,0,0,0,0,0,0,0,0,0,u,u,0,0,0,0,0,0,0,0,0,s,0,0,0,o],[r,0,0,0,0,0,0,0,0,0,0,0,r,h,h,h,h,o,0,0,0,0,0,0,0,0,0,0,0,o],[r,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,o],[r,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,o],[r,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,o],[r,0,0,0,u,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,p,0,0,0,o],[r,l,c,r,o,0,0,0,0,0,0,0,0,0,u,u,0,0,0,0,0,0,0,0,0,r,o,c,0,o],[r,0,c,r,o,0,0,0,0,0,0,0,c,r,n,n,o,c,0,0,0,0,0,0,0,r,o,c,0,o],[r,o,c,r,o,h,h,h,h,h,h,h,r,n,n,n,n,o,h,h,h,h,h,h,h,r,o,c,r,o],[r,0,c,r,o,0,0,0,u,0,0,0,0,0,0,0,0,0,0,0,0,p,0,0,0,r,o,c,0,o],[r,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,o],[r,0,c,0,0,0,0,0,p,0,0,0,0,0,0,0,0,0,0,0,0,u,0,0,0,0,0,c,0,o],[r,0,c,0,0,0,0,0,n,0,0,0,0,0,0,0,0,0,0,0,0,n,0,0,0,0,0,c,0,o],[r,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,o],[r,0,c,0,0,0,0,0,a,0,a,0,0,0,f,0,0,0,0,0,a,0,a,0,0,0,0,c,0,o],[r,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,o]];e.exports={map:_,exchange_num:3,is_vertical:!1,criteria_time:1200,criteria_exchange_num:2}},{}],196:[function(t,e,i){"use strict";var r=11,n=12,o=13,a=10,s=8,u=9,c=6,l=7,h=5,p=14,f=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,n,0,0,u,u,s,0,0,0,0,0,0,0,0,0,0,u,u,0,0,n,0,0,0,0,0],[0,0,0,0,n,h,n,n,n,n,n,n,n,n,c,n,n,n,n,n,n,n,n,h,n,0,0,0,0,0],[0,0,0,0,n,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,n,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,n,0,u,p,0,0,0,0,0,0,s,0,0,c,0,0,0,0,p,0,s,0,0,0,0,u,0,n,0],[0,n,h,n,n,n,c,n,n,n,n,n,n,n,n,n,0,n,n,n,n,n,n,n,c,n,n,h,n,0],[0,n,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0],[0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l,c,0,0,0,0,0],[0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,n,0,u,0,0,c,0,u,0,n,0],[0,n,0,u,0,0,c,0,0,u,0,n,0,0,0,0,0,0,0,n,h,n,n,n,n,n,n,h,n,0],[0,n,h,r,n,n,n,n,n,o,h,n,0,0,0,0,0,0,0,n,0,0,0,0,0,0,0,0,n,0],[0,n,0,0,0,0,0,0,0,0,0,n,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a]];e.exports={map:f,exchange_num:3,is_vertical:!1,criteria_time:1100,criteria_exchange_num:2}},{}],197:[function(t,e,i){"use strict";var r=11,n=12,o=13,a=10,s=8,u=9,c=6,l=7,h=5,p=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,u,0,0,0,0,s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,s,0,0,0,u,0,0],[0,n,h,h,h,h,r,c,o,h,h,h,h,h,o,0,r,h,h,h,h,r,c,o,h,h,h,n,0,0],[0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0],[0,0,u,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0],[0,0,n,h,0,0,0,c,0,0,0,0,0,0,u,0,u,s,0,0,s,0,c,0,0,0,0,0,u,0],[0,0,0,0,0,r,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,0,h,n,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,u,0,0,0,0,0,0,s,0,0,s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u,0,0],[0,n,0,0,0,r,c,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,c,n,n,0,n,0,0],[0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0],[0,0,0,0,0,0,c,l,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0],[0,0,u,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,u,0],[0,0,n,0,r,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,r,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a]];e.exports={map:p,exchange_num:4,is_vertical:!0,criteria_time:1850,criteria_exchange_num:2}},{}],198:[function(t,e,i){"use strict";var r=11,n=12,o=13,a=10,s=8,u=9,c=6,l=7,h=5,p=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,c,h,n,h,c,0,r,n,o,0,r,n,n,o,0,r,n,o,c,u,h,n,h,0,0,0,0],[0,0,0,c,0,n,0,c,0,r,0,0,0,0,0,0,0,0,0,0,o,c,0,0,n,0,u,0,0,0],[0,0,0,c,0,n,0,c,0,r,0,0,0,0,0,0,0,0,0,0,o,c,0,0,n,0,0,0,0,0],[0,0,0,c,0,n,0,c,0,r,0,0,0,0,s,0,u,0,0,0,o,c,u,0,n,0,0,0,0,0],[0,0,0,c,0,n,0,c,0,r,o,h,h,h,h,h,h,h,h,r,o,c,0,0,n,0,u,0,0,0],[0,0,0,c,0,n,0,c,0,r,0,0,0,0,0,0,0,0,0,0,o,c,0,0,n,0,0,0,0,0],[0,0,0,c,0,n,0,c,0,r,0,0,0,0,0,0,0,0,0,0,o,0,u,0,n,0,0,0,0,0],[0,0,0,c,0,n,0,c,0,r,0,0,0,0,0,0,0,0,0,0,o,0,0,0,n,0,u,0,0,0],[0,0,0,c,0,n,0,c,0,r,0,0,0,0,u,0,0,s,0,0,o,0,0,0,n,0,0,0,0,0],[0,0,0,c,0,n,0,c,0,r,o,h,h,h,h,h,h,h,h,r,o,0,u,0,n,0,0,0,0,0],[0,0,0,c,0,n,0,c,0,r,0,0,0,0,0,0,0,0,0,0,o,0,0,0,n,0,u,0,0,0],[0,0,0,c,0,n,0,c,0,r,0,0,0,0,0,0,0,0,0,0,o,0,0,0,n,0,0,0,0,0],[0,0,0,c,0,n,0,c,0,r,0,0,0,0,0,0,0,0,0,0,o,0,0,0,0,0,0,0,0,0],[0,0,0,c,0,n,0,c,0,r,o,0,0,0,0,0,0,0,0,r,o,0,0,0,0,l,0,0,0,0],[0,0,0,c,0,n,0,c,0,r,o,0,0,0,u,0,u,0,0,r,o,0,0,0,0,0,0,0,0,0],[0,r,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,o,0,0,0],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a]];e.exports={map:p,exchange_num:6,is_vertical:!1,criteria_time:1800,criteria_exchange_num:6}},{}],199:[function(t,e,i){"use strict";var r=11,n=12,o=13,a=10,s=9,u=6,c=7,l=5,h=14,p=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,u,r,h,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,s,o,0,0,0,0],[0,0,0,u,r,o,s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,h,r,o,0,0,0,0],[0,0,0,u,r,n,o,h,0,0,0,0,0,0,0,0,0,0,0,0,0,0,s,r,n,o,0,0,0,0],[0,0,0,u,r,n,n,n,o,0,0,0,0,0,0,0,0,0,0,0,0,r,n,n,n,o,0,0,0,0],[0,0,0,u,r,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,o,0,0,0,0],[0,0,0,u,r,0,0,h,0,0,0,0,0,0,s,0,0,s,0,0,0,0,s,0,0,o,u,0,0,0],[0,0,0,u,r,n,n,n,n,l,n,n,n,n,n,n,n,n,n,n,l,n,n,n,n,o,u,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,u,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,h,0,0,0,0,0,0,h,0,0,0,0,0,0,0,u,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,r,l,l,n,n,l,l,o,0,0,0,0,0,0,0,u,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,r,0,0,n,n,0,0,o,0,0,0,0,0,0,0,u,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,r,0,0,n,n,0,0,o,0,0,0,0,0,0,0,u,0,0,0],[0,0,r,n,n,n,n,n,n,n,n,n,a,a,n,n,a,a,n,n,n,n,n,n,n,n,n,n,o,0],[0,0,0,r,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,o,0,0],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a]];e.exports={map:p,exchange_num:4,is_vertical:!1,criteria_time:1400,criteria_exchange_num:4}},{}],200:[function(t,e,i){"use strict";var r=11,n=12,o=13,a=10,s=8,u=16,c=9,l=6,h=7,p=5,f=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,r,o,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,l,r,0,c,0,c,0,0,0,r,o,0,0,0,c,0,c,0,o,l,0,0,0,0,0],[0,0,0,0,0,l,r,p,p,p,p,p,p,p,r,o,p,p,p,p,p,p,p,o,l,0,0,0,0,0],[0,0,0,0,0,l,r,0,0,0,0,0,0,0,r,o,0,0,0,0,0,0,0,o,l,0,0,0,0,0],[0,0,0,0,0,l,r,0,0,0,0,0,0,0,r,o,0,0,0,0,0,0,0,o,l,0,0,0,0,0],[0,0,0,0,0,l,r,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,o,l,0,0,0,0,0],[0,0,0,0,0,l,r,0,c,0,0,s,0,c,0,0,c,0,s,0,0,c,0,o,l,0,0,0,0,0],[0,0,0,0,0,l,r,0,r,n,n,n,n,n,n,n,n,n,n,n,n,o,0,o,l,0,0,0,0,0],[0,0,0,0,0,l,r,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,o,l,0,0,0,0,0],[0,0,0,0,0,l,r,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,o,l,0,0,0,0,0],[0,0,0,0,0,l,r,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,o,l,0,0,0,0,0],[0,0,0,0,0,l,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u,0,0,0,l,0,0,0,0,0],[0,0,0,r,0,l,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l,0,o,0,0,0],[0,0,0,r,0,l,0,0,0,0,0,0,0,h,0,0,0,0,0,0,0,0,0,0,l,0,o,0,0,0],[0,0,0,r,0,l,0,0,0,u,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l,0,o,0,0,0],[0,0,0,r,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,o,0,0,0],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a]];e.exports={map:f,exchange_num:5,is_vertical:!1,criteria_time:900,criteria_exchange_num:2}},{}],201:[function(t,e,i){"use strict";var r=11,n=12,o=13,a=10,s=8,u=9,c=6,l=7,h=5,p=14,f=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,p,0,0,0,0,0,0,u,u,u,0,0,0,s,0,0,0,0,0,0,u,0,0,0,0,0],[0,0,0,r,n,o,0,0,r,c,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,o,0,0,0,0],[0,0,0,0,c,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,c,0,0,0,0,c,0,0,0,s,0,0,0,u,u,u,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,c,0,0,0,r,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,o,0,0,0,0],[0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,u,0,c,0,u,0,0,0,0,0,0,0,0,0,0,0,0,0,u,u,u,0,0,0,0,0,0,0],[0,0,r,n,n,n,o,h,h,h,h,h,h,h,h,h,r,c,n,n,n,n,n,n,o,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,l,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,r,n,n,n,n,n,n,n,n,n,n,n,n,o,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a]];e.exports={map:f,exchange_num:4,is_vertical:!1,criteria_time:1300,criteria_exchange_num:3}},{}],202:[function(t,e,i){"use strict";var r=11,n=12,o=13,a=10,s=16,u=9,c=6,l=7,h=5,p=14,f=[[r,o,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,s,0,r,o],[r,o,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,r,o],[r,o,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,r,o],[r,o,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,r,o],[r,o,0,0,0,c,0,0,0,0,0,l,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,r,o],[r,o,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u,0,0,0,r,o],[r,o,0,0,0,c,0,0,0,0,0,r,p,0,0,0,0,p,o,0,0,0,0,0,u,0,0,0,r,o],[r,o,0,0,0,c,0,0,0,0,0,0,r,p,0,0,p,o,0,0,0,0,0,0,c,0,0,0,r,o],[r,o,0,0,0,p,0,0,0,0,0,0,0,r,h,h,o,0,0,0,0,0,0,0,c,0,0,0,r,o],[r,o,0,0,0,p,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,r,o],[r,o,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,r,o],[r,o,0,0,0,c,0,0,0,r,0,0,0,0,u,u,0,0,0,0,o,0,0,0,p,0,0,0,r,o],[r,o,0,0,0,c,0,0,0,r,h,h,h,h,h,h,h,h,h,h,o,0,0,0,p,0,0,0,r,o],[r,o,0,0,0,c,0,0,0,r,0,0,0,0,0,0,0,0,0,0,o,0,0,0,c,0,0,0,r,o],[r,o,0,0,0,u,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,r,o],[r,o,0,0,0,u,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,r,o],[r,o,0,0,r,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,o,0,0,r,o],[r,o,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,r,o],[r,o,0,s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,r,o],[r,o,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,r,o]];e.exports={map:f,exchange_num:6,is_vertical:!1,criteria_time:1100,criteria_exchange_num:6}},{}],203:[function(t,e,i){"use strict";var r=11,n=12,o=13,a=10,s=8,u=16,c=9,l=6,h=7,p=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,l,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,l,0,0,0,0,0,0,l,0,0,0,0,0,0,l,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,l,0,0,0,0,0,0,l,0,0,0,0,0,0,l,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,l,0,c,s,s,0,0,l,0,c,s,s,0,0,l,0,c,s,s,0,0,0,0],[0,0,0,r,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,o,0,0,0],[0,0,0,0,0,0,0,l,0,0,0,0,0,0,l,0,0,0,0,0,0,l,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,l,0,0,0,0,0,0,l,0,0,0,0,0,0,l,0,0,0,0,0,0,0,0],[0,0,0,h,0,0,0,l,0,0,0,0,0,0,l,0,0,0,0,0,0,l,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,l,0,0,0,0,0,0,l,0,0,0,0,0,0,l,0,0,0,0,0,0,0,0],[0,0,0,r,n,o,0,l,0,0,0,0,0,0,l,0,0,0,0,0,0,l,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,l,0,c,0,0,0,0,l,0,0,0,0,0,0,l,0,c,0,0,0,0,0,0],[0,0,0,0,0,0,0,r,n,o,0,0,0,0,l,u,c,0,0,0,0,r,n,o,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,r,n,o,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a]];e.exports={map:p,exchange_num:6,is_vertical:!0,criteria_time:1300,criteria_exchange_num:6}},{}],204:[function(t,e,i){"use strict";var r=11,n=12,o=13,a=10,s=8,u=16,c=9,l=6,h=7,p=5,f=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,c,0,c,s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,s,c,0,c,0,0,0],[0,0,0,r,n,n,n,n,n,n,n,n,n,n,n,l,n,n,n,n,n,n,n,n,n,n,o,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l,0,0,0,0,0,0,c,0,0,0,0,0,0,0],[0,0,0,r,0,0,0,r,p,p,p,p,p,p,p,l,p,p,p,p,p,p,o,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,l,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,r,p,p,p,p,p,p,p,l,p,p,p,p,p,p,o,0,0,0,0,0,0,0],[0,0,0,h,0,0,0,0,0,0,u,0,0,0,0,l,0,0,0,u,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,u,0,0,0,0,l,0,0,0,u,0,0,0,0,0,0,0,0,0,0],[0,0,0,r,0,r,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,o,l,o,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l,0,0,0,0],[0,0,0,s,c,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,l,s,0,0,0],[0,0,0,r,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,o,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a]];e.exports={map:f,exchange_num:5,is_vertical:!0,criteria_time:1300,criteria_exchange_num:4}},{}],205:[function(t,e,i){"use strict";var r=11,n=12,o=13,a=10,s=16,u=9,c=6,l=7,h=[[0,0,0,0,s,0,s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,s,0,s,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,s,0,0,0,0,s,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,s,0,u,0,c,r,n,n,o,c,0,u,0,s,0,0,0,0,0,0,0,0],[0,0,0,0,s,0,s,0,c,r,n,o,c,0,0,0,0,c,r,n,o,c,0,s,0,s,0,0,0,0],[0,0,0,0,c,r,c,o,c,0,0,0,c,0,0,0,0,c,0,0,0,c,r,c,o,c,0,0,0,0],[0,0,l,0,c,0,c,0,c,0,0,0,c,0,0,0,0,c,0,0,0,c,0,c,0,c,0,0,0,0],[0,0,0,0,c,0,c,0,c,0,0,0,c,0,0,0,0,c,0,0,0,c,0,c,0,c,0,u,0,0],[0,r,n,o,c,0,c,0,c,0,0,0,c,0,0,0,0,c,0,0,0,c,0,c,0,c,r,n,o,0],[0,0,0,0,c,0,c,0,c,0,0,0,c,0,0,0,0,c,0,0,0,c,0,c,0,c,0,0,0,0],[0,0,0,0,c,0,c,0,c,0,0,0,c,0,0,0,0,c,0,0,0,c,0,c,0,c,0,0,0,0],[0,0,0,0,c,r,c,o,c,0,u,0,c,0,0,0,0,c,0,u,0,c,r,c,o,c,0,0,0,0],[0,0,0,0,s,0,s,0,c,r,n,o,c,0,0,0,0,c,r,n,o,c,0,s,0,s,0,0,0,0],[0,0,0,0,0,0,0,0,s,0,0,0,c,r,n,n,o,c,0,0,0,s,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,s,0,0,0,0,s,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,s,0,s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,s,0,s,0,0,0,0],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a]];e.exports={map:h,exchange_num:4,is_vertical:!1,criteria_time:2e3,criteria_exchange_num:0}},{}],206:[function(t,e,i){"use strict";var r=11,n=12,o=13,a=10,s=16,u=9,c=6,l=7,h=5,p=14,f=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,l,0,0,0,0,r,0,0,r,n,n,n,n,n,n,n,n,n,n,o,0,o,0,0,0,0,0,0],[0,0,0,0,0,0,0,r,0,0,r,n,n,n,n,n,n,n,n,n,n,o,0,o,0,0,0,0,0,0],[0,0,r,n,n,c,o,r,0,0,r,n,n,n,n,n,n,n,n,n,n,o,0,o,0,0,0,0,0,0],[0,0,0,0,0,c,0,r,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,o,0,p,0,u,0,0],[0,0,0,0,0,c,0,r,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,o,0,r,c,o,0,0],[0,0,0,0,0,c,0,r,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,o,0,0,c,0,0,0],[0,0,0,0,0,c,0,r,0,0,0,p,p,p,0,0,u,u,u,0,0,0,0,o,0,0,c,0,0,0],[0,0,0,0,0,c,0,r,o,h,h,h,h,h,h,h,h,h,h,h,h,h,r,o,0,0,c,0,0,0],[0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0],[0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0],[0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0],[0,0,0,0,0,c,0,0,0,0,0,0,u,u,0,0,u,u,0,0,0,0,0,0,0,0,c,0,0,0],[0,0,r,n,n,n,n,n,o,h,h,h,h,h,0,0,h,h,h,h,h,r,n,n,n,n,n,o,0,0],[0,0,r,0,0,0,0,0,o,0,0,0,0,0,0,0,0,0,0,0,0,r,0,0,0,0,0,o,0,0],[0,0,r,0,0,u,0,0,o,0,0,0,0,0,0,0,0,0,0,0,0,r,0,0,0,0,0,o,0,0],[0,0,r,0,0,u,0,0,o,0,0,0,0,0,0,0,0,0,0,0,0,r,0,0,0,0,0,o,0,0],[0,0,r,0,0,0,0,0,o,0,0,0,0,0,0,0,0,0,0,0,0,r,0,0,u,0,0,o,0,0],[0,0,r,h,h,h,h,h,o,0,0,0,0,0,s,s,0,0,0,0,0,r,h,h,h,h,h,o,0,0],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a]];e.exports={map:f,exchange_num:5,is_vertical:!0,criteria_time:1100,criteria_exchange_num:4}},{}],207:[function(t,e,i){"use strict";var r=11,n=12,o=13,a=10,s=8,u=9,c=6,l=7,h=5,p=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,r,o,0,0,0,0,0,0,0,0,0,0,0,0,0,r,o,h,h,h,h,h,h,h,r,o,0,0],[0,0,r,o,0,0,0,0,0,0,0,0,0,0,0,0,0,r,o,0,0,0,0,0,0,0,r,o,0,0],[0,0,r,o,0,0,0,0,0,0,0,0,0,0,0,0,0,r,o,0,0,0,0,0,0,0,r,o,0,0],[0,0,r,o,0,0,c,c,c,c,0,0,0,0,0,0,0,r,o,0,u,u,u,u,0,0,r,o,0,0],[0,0,r,o,0,0,c,c,c,c,0,0,0,0,0,0,0,r,o,0,u,u,u,u,0,0,r,o,0,0],[0,0,r,o,0,0,c,c,c,c,0,0,0,0,0,0,0,r,o,0,u,u,u,u,0,0,r,o,0,0],[0,0,r,o,0,0,c,c,c,c,0,0,0,0,0,0,0,0,0,0,u,u,u,u,0,0,r,o,0,0],[0,0,r,o,s,0,c,c,c,c,s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,r,o,0,0],[0,0,r,n,n,n,n,n,n,n,n,n,n,n,n,c,n,n,n,n,n,r,n,n,n,n,n,o,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,l,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,r,n,n,n,n,n,n,n,n,n,n,n,n,n,n,o,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a]];e.exports={map:p,exchange_num:4,is_vertical:!1,criteria_time:2500,criteria_exchange_num:4}},{}],208:[function(t,e,i){"use strict";var r=11,n=12,o=13,a=10,s=8,u=9,c=6,l=7,h=5,p=14,f=15,_=[[0,r,n,n,n,n,n,n,n,n,n,n,n,o,0,0,r,n,n,n,n,n,n,n,n,n,n,n,o,0],[0,r,o,0,0,0,0,0,0,0,0,0,r,o,0,0,r,o,0,0,0,0,0,0,0,0,0,r,o,0],[0,r,o,0,0,0,u,u,u,0,0,0,r,o,0,0,r,o,0,0,0,p,p,p,0,0,0,r,o,0],[0,0,r,h,c,h,h,h,h,h,h,h,o,0,0,0,0,r,h,h,h,h,h,h,h,c,h,o,0,0],[0,0,r,0,c,0,0,0,0,0,0,0,o,0,0,0,0,r,0,0,0,0,0,0,0,c,0,o,0,0],[0,0,r,0,c,0,0,0,0,0,0,0,o,0,0,0,0,r,0,0,0,0,0,0,0,c,0,o,0,0],[0,0,r,0,c,0,0,0,0,0,0,0,o,0,0,0,0,r,0,0,0,0,0,0,0,c,0,o,0,0],[0,0,r,s,c,0,u,0,u,0,0,0,o,0,0,0,0,r,0,0,0,u,0,u,0,c,0,o,0,0],[0,0,r,n,n,n,n,n,n,n,n,n,o,0,0,0,0,r,n,n,n,n,n,n,n,n,n,o,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,r,n,n,n,n,n,n,n,n,n,o,0,0,0,0,r,n,n,n,n,n,n,n,n,n,o,0,0],[0,0,r,0,0,0,0,0,0,0,0,0,o,0,0,0,0,r,0,0,0,0,0,0,0,0,0,o,0,0],[0,0,r,f,0,0,0,0,0,0,0,s,o,0,0,0,0,r,f,0,0,0,0,0,0,0,s,o,0,0],[0,0,r,h,h,h,h,c,h,h,h,h,o,0,0,0,0,r,h,h,h,h,c,h,h,h,h,o,0,0],[0,0,r,0,0,0,0,c,0,0,0,0,o,0,0,0,0,r,0,0,0,0,c,0,0,0,0,o,0,0],[0,0,r,0,0,0,0,c,0,0,0,0,o,0,0,0,0,r,0,0,0,0,c,0,0,0,0,o,0,0],[0,0,r,l,0,0,0,c,0,0,0,0,o,0,0,0,0,r,0,0,0,0,c,0,0,0,0,o,0,0],[0,0,r,0,p,p,0,c,0,p,p,0,o,0,0,0,0,r,0,u,u,0,c,0,u,u,0,o,0,0],[0,r,n,n,n,n,n,n,n,n,n,n,n,o,0,0,r,n,n,n,n,n,n,n,n,n,n,n,o,0],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a]];e.exports={map:_,exchange_num:4,is_vertical:!0,criteria_time:1200,criteria_exchange_num:4}},{}],209:[function(t,e,i){"use strict";var r=11,n=12,o=13,a=8,s=16,u=9,c=6,l=7,h=5,p=[[r,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,o],[r,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,o],[r,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,o],[r,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,o],[r,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,o],[r,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,o],[r,0,0,0,0,0,u,u,0,0,0,0,u,a,0,0,0,u,0,0,0,0,u,u,0,0,0,0,0,o],[r,0,0,r,h,h,h,h,h,h,h,c,h,h,h,h,h,h,c,h,h,h,h,h,h,h,o,0,0,o],[r,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,o],[r,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,o],[r,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,o],[r,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,o],[r,0,0,0,0,0,0,0,s,0,0,c,u,u,a,a,u,u,c,0,0,s,0,0,0,0,0,0,0,o],[r,0,0,r,n,n,n,c,n,n,n,n,n,n,n,n,n,n,n,n,n,n,c,n,n,n,o,0,0,o],[r,0,0,0,0,0,0,c,0,0,0,0,s,0,0,0,0,s,0,0,0,0,c,0,0,0,0,0,0,o],[r,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,o],[r,0,0,0,0,0,0,c,0,0,s,0,0,0,s,0,s,0,0,s,0,0,c,0,0,0,0,0,0,o],[r,0,0,0,0,0,0,c,0,0,0,0,0,0,0,l,0,0,0,0,0,0,c,0,0,0,0,0,0,o],[r,u,u,u,0,0,s,c,s,0,0,0,0,0,0,0,0,0,0,0,0,s,c,s,0,0,u,u,u,o],[r,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,o]];e.exports={map:p,exchange_num:1,is_vertical:!1,criteria_time:2e3,criteria_exchange_num:0}},{}],210:[function(t,e,i){"use strict";var r=11,n=12,o=13,a=10,s=16,u=9,c=6,l=7,h=14,p=15,f=[[0,0,0,0,0,0,0,0,0,r,n,o,0,0,0,0,0,0,0,r,n,o,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,r,o,s,r,o,0,0,0,0,0,r,o,s,r,o,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,u,0,0,0,0,c,0,0,0,0,u,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,u,0,0,h,0,c,0,h,0,0,u,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,u,0,0,r,n,c,n,o,0,0,u,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,p,0,0,0,0,c,0,0,0,0,u,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,r,n,o,0,0,0,c,0,0,0,r,n,o,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,l,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,r,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,o,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,p,0,0,0,0,p,0,0,0,0,u,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,r,n,n,n,n,n,n,n,n,n,o,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a]];e.exports={map:f,exchange_num:4,is_vertical:!0,criteria_time:1500,criteria_exchange_num:4}},{}],211:[function(t,e,i){"use strict";var r=11,n=12,o=13,a=10,s=8,u=9,c=7,l=5,h=14,p=15,f=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,r,n,n,n,n,o,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,r,n,n,n,o,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,u,u,u,u,u,u,u,u,u,u,u,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,r,n,o,l,l,l,l,l,l,l,l,l,l,l,r,n,o,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,u,u,u,u,u,u,u,u,u,u,u,s,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,r,n,o,l,l,l,l,l,l,l,l,l,r,n,o,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,s,0,u,u,u,p,u,u,u,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,r,n,o,l,l,l,l,l,l,l,r,n,o,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,h,0,0,s,0,s,0,s,0,h,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,r,n,o,l,l,l,l,l,r,o,0,0,0,0,0,0,0,0,0,0],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a]];e.exports={map:f,exchange_num:1,is_vertical:!0,criteria_time:1100,criteria_exchange_num:1}},{}],212:[function(t,e,i){"use strict";var r=11,n=12,o=13,a=10,s=8,u=16,c=9,l=6,h=7,p=5,f=14,_=[[0,0,0,0,0,0,0,0,0,r,n,o,0,0,0,0,0,0,r,n,o,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,h,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,l,0,0,r,n,n,o,0,0,l,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,l,0,0,0,0,0,0,0,0,l,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,f,f,f,0,l,0,0,0,0,0,0,0,0,l,0,f,f,f,0,0,0,0,0,0],[0,0,0,r,n,n,n,n,n,n,l,n,n,n,n,n,n,n,n,l,n,n,n,n,n,n,o,0,0,0],[0,0,0,0,0,0,0,0,0,0,l,0,0,0,0,0,0,0,0,l,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,u,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,f,0,0,0,0,0,0,0,0,f,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,c,c,c,s,s,s,s,s,s,s,s,s,s,s,s,c,c,c,0,0,0,0,0,0],[0,0,0,r,n,o,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,r,n,o,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a]];e.exports={map:_,exchange_num:4,is_vertical:!0,criteria_time:960,criteria_exchange_num:3}},{}],213:[function(t,e,i){"use strict";var r=11,n=12,o=13,a=10,s=8,u=6,c=7,l=5,h=14,p=15,f=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,s,0,0,0,h,0,0,0,0,0,0,0,0,0,0,0,0,h,0,0,0,s,0,0,0,0],[0,0,r,n,n,n,n,u,o,0,0,0,0,0,0,0,0,0,0,0,0,r,u,n,n,n,n,o,0,0],[0,0,0,0,0,0,0,u,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,u,0,0,0,0,0,0,p,0,0,0,0,0,0,0,u,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,u,0,0,l,l,l,r,n,n,o,l,l,l,0,0,u,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,u,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,u,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u,0,0,0,0,0,0,0],[0,0,0,0,0,0,s,u,h,h,0,0,0,0,0,0,0,0,0,0,h,h,u,s,0,0,0,0,0,0],[0,r,n,n,n,n,n,n,n,o,0,0,0,0,0,0,0,0,0,0,r,n,n,n,n,n,n,n,o,0],[0,0,0,0,0,0,0,0,0,o,h,0,h,0,0,0,0,h,0,h,r,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,r,n,u,o,0,0,0,0,r,u,n,o,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,u,0,0,c,0,0,0,u,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,p,0,0,0,u,0,0,0,0,0,0,u,0,0,0,p,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,r,n,n,n,n,n,n,n,n,n,n,n,n,n,n,o,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a]];e.exports={map:f,exchange_num:3,is_vertical:!0,criteria_time:1600,criteria_exchange_num:2}},{}],214:[function(t,e,i){"use strict";var r=11,n=12,o=13,a=10,s=8,u=16,c=9,l=7,h=14,p=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,l,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,r,n,o,0,0,0,r,n,n,o,0,0,0,r,n,o,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,r,n,o,0,0,0,0,0,0,0,0,0,0,r,n,o,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,u,0,0,0,0,0,0,0,0,0,0,0,0,u,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,s,0,0,0,0,0,0,0],[0,0,0,0,r,n,n,o,0,r,n,n,n,o,0,0,r,n,n,n,o,0,r,n,n,o,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,r,n,o,0,0,0,0,0,0,0,0,0,0,r,n,o,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,h,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,r,n,n,n,n,n,n,n,n,n,n,o,0,0,0,0,0,0,0,0,0],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a]];
e.exports={map:p,exchange_num:3,is_vertical:!0,criteria_time:1660,criteria_exchange_num:2}},{}],215:[function(t,e,i){"use strict";var r=11,n=12,o=13,a=10,s=8,u=9,c=6,l=7,h=5,p=15,f=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,u,p,u,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u,u,u,0,0,0],[0,0,0,r,n,o,0,0,0,0,0,0,s,0,0,u,u,u,0,0,s,0,0,0,r,n,o,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,r,n,n,n,c,n,n,n,o,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,r,h,h,h,h,h,h,r,n,c,n,n,o,h,h,h,h,h,h,o,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,l,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,u,p,u,0,0,0,0,0,r,n,n,n,n,n,o,0,0,0,0,0,0,u,p,u,0,0,0],[0,0,0,r,n,o,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,r,n,o,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a]];e.exports={map:f,exchange_num:3,is_vertical:!0,criteria_time:940,criteria_exchange_num:3}},{}],216:[function(t,e,i){"use strict";var r=11,n=12,o=13,a=10,s=8,u=9,c=6,l=7,h=5,p=14,f=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,p,0,0,0,0,0,0,0,0,p,s,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,r,n,n,n,n,o,c,c,r,n,n,n,n,o,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,p,c,c,p,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,r,o,c,r,n,n,o,c,r,o,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,u,u,u,0,0,0,c,0,0,0,0,c,0,0,0,u,u,u,0,0,0,0,0,0],[0,0,r,h,h,h,r,n,o,0,0,0,c,0,0,0,l,c,0,0,0,r,n,o,h,h,h,o,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,r,o,c,c,r,o,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,u,0,0,0,0,0,0,0,0,0,0,0,p,c,c,p,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,r,c,r,n,n,n,n,o,c,o,0,0,0,0,0,0,0,0,n,0],[0,0,0,0,0,0,0,0,0,0,0,c,0,0,0,0,0,0,c,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,s,0,0,c,0,p,p,p,p,0,c,0,0,0,0,0,0,0,0,0,u,0],[0,n,0,0,0,0,0,r,n,n,n,n,n,n,n,n,n,n,n,n,n,n,o,0,0,0,0,0,0,0],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a]];e.exports={map:f,exchange_num:2,is_vertical:!1,criteria_time:1900,criteria_exchange_num:1}},{}],217:[function(t,e,i){"use strict";var r=11,n=12,o=13,a=10,s=8,u=16,c=6,l=7,h=14,p=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,r,c,r,o,h,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,h,r,n,n,o,0],[0,0,c,0,r,n,o,0,0,0,0,0,0,0,u,u,0,0,0,0,0,0,0,r,n,o,0,0,0,0],[0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,c,0,0,0,0,h,h,h,h,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,r,n,n,n,n,o,0,0,0,c,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,h,h,h,h,0,0,0,0,c,0,0],[0,0,0,0,0,0,r,n,n,n,n,o,0,l,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c,0,0],[0,0,c,0,0,0,0,0,0,0,0,0,0,r,n,n,o,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,c,0,0,0,0,0,0,0,0,0,s,s,s,s,s,s,0,0,0,0,0,0,0,0,0,0,0,0],[0,r,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,o,0],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a]];e.exports={map:p,exchange_num:4,is_vertical:!1,criteria_time:900,criteria_exchange_num:4}},{}],218:[function(t,e,i){"use strict";var r=11,n=12,o=13,a=10,s=9,u=7,c=14,l=15,h=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,r,o,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,r,o,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,r,o,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,s,0,0,0,0,0,0,r,o,0,0,0,0,l,0,0,0,s,0,0,l,0,0],[0,r,o,0,0,r,n,n,n,o,0,0,0,0,r,o,0,0,0,0,r,o,0,r,n,n,n,n,o,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,r,o,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,l,0,0,l,0,0,0,r,o,0,0,0,0,0,0,s,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,r,o,0,r,o,0,0,r,o,0,0,r,n,n,n,o,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,r,o,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,r,o,a,a,a,a,a,a,a,a,a,a,a,a,a,a],[r,n,n,n,n,n,n,n,n,n,n,n,n,n,r,o,n,n,n,n,n,n,n,n,n,n,n,n,n,o],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,r,o,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,r,o,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,s,s,s,0,0,0,0,0,0,r,o,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,r,n,n,n,o,0,0,0,0,0,0,r,o,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,u,0,0,0,0,0,0,0,0,0,0,0,r,o,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,c,c,c,0,0,0,0,0,s,l,0,0,0,r,o,0,0,0,0,s,l,0,0,l,0,0,s,0,0],[0,r,n,o,0,r,n,n,n,n,n,o,0,0,r,o,0,0,0,0,r,o,0,r,n,n,n,n,o,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,r,o,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,r,o,a,a,a,a,a,a,a,a,a,a,a,a,a,a]];e.exports={map:h,exchange_num:11,is_vertical:!1,criteria_time:1300,criteria_exchange_num:11}},{}],219:[function(t,e,i){"use strict";var r=t("../hakurei").scene.base,n=t("../hakurei").util,o=t("../hakurei").constant,a=(t("../constant"),t("../assets_config")),s=[];for(var u in a.bgms){var c=n.shallowCopyHash(a.bgms[u]);c.name=u,s.push(c)}var l=function(t){r.apply(this,arguments)};n.inherit(l,r),l.prototype.init=function(){r.prototype.init.apply(this,arguments),this.index=0,this.core.stopBGM()},l.prototype.beforeDraw=function(){if(r.prototype.beforeDraw.apply(this,arguments),this.core.isKeyPush(o.BUTTON_X)&&this.core.changeScene("title"),this.core.isKeyPushOrLongDown(o.BUTTON_DOWN)&&(this.index++,this.index>=s.length&&(this.index=s.length-1)),this.core.isKeyPushOrLongDown(o.BUTTON_UP)&&(this.index--,this.index<0&&(this.index=0)),this.core.isKeyPush(o.BUTTON_Z))if(s[this.index].is_normal&&!this.isNormalStoryCleared());else if(s[this.index].is_ex&&!this.isExStoryCleared());else{var t=s[this.index].name;this.core.playBGM(t)}},l.prototype.draw=function(){this.core.clearCanvas();var t=this.core.ctx;t.save(),this._showBackGround(),this._showRightChara(),this._showMessageWindow();var e=50,i=e+30,r=80;t.font="18px 'Migu'",t.textAlign="left",t.fillStyle="rgb( 255, 255, 255 )";for(var n=0,o=s.length;o>n;n++){var a=s[n],u=("00"+(n+1)).slice(-2);this.index===n&&(this._drawText("▶",e,r),a.is_normal&&!this.isNormalStoryCleared()?this._showMessage("ゲームをすすめたら聴けるわよ"):a.is_ex&&!this.isExStoryCleared()?this._showMessage("ゲームをすすめたら聴けるわよ"):this._showMessage(a.message)),a.is_normal&&!this.isNormalStoryCleared()?this._drawText(u+": ???????",i,r):a.is_ex&&!this.isExStoryCleared()?this._drawText(u+": ???????",i,r):this._drawText(u+": "+a.title,i,r),r+=30}t.restore(),this._showHowTo()},l.prototype._drawText=function(t,e,i){var r=this.core.ctx;r.fillStyle="rgb( 0, 0, 0 )",r.lineWidth=4,r.strokeText(t,e,i),r.fillStyle="rgb( 255, 255, 255 )",r.fillText(t,e,i)},l.prototype._showHowTo=function(){var t=this.core.ctx;t.save();var e="Xキー：戻る";t.font="14px 'Migu'",t.textAlign="left",this._drawText(e,10,this.core.height-10),t.restore()},l.prototype._showRightChara=function(){var t=this.core.ctx;t.save();var e=400,i=65,r=this.core.image_loader.getImage("reimu_normal1");t.drawImage(r,e,i,r.width,r.height),t.restore()};var h=10;l.prototype._showMessageWindow=function(){var t=this.core.ctx;t.save();var e=100;t.globalAlpha=.5,t.fillStyle="rgb( 0, 0, 0 )",t.fillRect(h,this.core.height-125,this.core.width-2*h,e),t.restore()},l.prototype._showMessage=function(t){var e=this.core.ctx;e.save(),e.font="18px 'Migu'",e.textAlign="left";var i,r=t.split("\n");if(r.length){i=this.core.height-125+40;for(var n=0,o=r.length;o>n;n++)e.fillStyle="rgb( 0, 0, 0 )",e.lineWidth=4,e.strokeText(r[n],2*h+20,i),e.fillStyle="white",e.fillText(r[n],2*h+20,i),i+=30}e.restore()},l.prototype._showBackGround=function(){var t=this.core.ctx,e=this.core.image_loader.getImage("shrine_noon");t.drawImage(e,0,0,e.width,e.height,0,0,this.core.width,this.core.height),t.fillStyle="rgb( 0, 0, 0 )",t.globalAlpha=.4,t.fillRect(0,0,this.core.width,this.core.height),t.globalAlpha=1},l.prototype.isExStoryCleared=function(){return this.core.storage_story.getIsExStageCleared()},l.prototype.isNormalStoryCleared=function(){return this.core.storage_story.getIsNormalStageCleared()},e.exports=l},{"../assets_config":1,"../constant":2,"../hakurei":5}],220:[function(t,e,i){"use strict";var r=t("../hakurei").scene.base,n=t("../hakurei").util,o=t("../hakurei").constant,a=t("../constant"),s=t("../logic/get_title_bgm"),u=t("../stage_config"),c=t("../logic/score"),l=t("../logic/create_map"),h=20,u=t("../stage_config"),p=u.MAPS,f=function(t){r.apply(this,arguments)};n.inherit(f,r),f.prototype.init=function(t){r.prototype.init.apply(this,arguments),this.stage_list=this.core.storage_story.getStageResultList(),t?this.selected_stage=t-1:this.selected_stage=0,this.stage_objects=this.createMap(),this.core.changeBGM(s.exec(this.core.storage_story))},f.prototype.beforeDraw=function(){r.prototype.beforeDraw.apply(this,arguments),this.core.isKeyPush(o.BUTTON_Z)?this.core.changeScene("stage",this.selected_stage+1,"play",!0):this.core.isKeyPush(o.BUTTON_X)&&this.core.changeScene("title"),this.core.isKeyPushOrLongDown(o.BUTTON_DOWN)&&(this.selected_stage++,this.selected_stage>=this.stage_list.length&&(this.selected_stage=this.stage_list.length-1),this.stage_objects=this.createMap()),this.core.isKeyPushOrLongDown(o.BUTTON_UP)&&(this.selected_stage--,this.selected_stage<0&&(this.selected_stage=0),this.stage_objects=this.createMap())},f.prototype.createMap=function(){var t=[],e=l.exec(this,p[this.selected_stage+1].map,12,70,.8);for(var i in e)Number(i)!==a.PLAYER&&(t=t.concat(e[i]));return t},f.prototype.isInNormalStory=function(){return!this.isInExStory()},f.prototype.isInExStory=function(){return this.selected_stage+1>=a.EX_STORY_START_STAGE_NO?!0:!1},f.prototype.isExReimu=function(){return this.isInNormalStory()?!1:this.core.storage_story.getIsExStageCleared()?!1:!0},f.prototype.draw=function(){this.core.clearCanvas();var t=this.core.ctx;t.save();var e=this.core.image_loader.getImage("title_bg");t.drawImage(e,0,0,e.width,e.height,0,0,this.core.width,this.core.height),t.fillStyle="rgb( 0, 0, 0 )",t.globalAlpha=.5,t.fillRect(0,0,this.core.width,this.core.height),t.globalAlpha=1,t.fillRect(this.core.width-170,0,170,this.core.height);var i,r,n,o;this.selected_stage<=h/2?(i=this.stage_list.slice(0,h),r=this.selected_stage,n=!1,o=!0):h/2<this.selected_stage&&this.selected_stage<=u.MAP_NUM-h/2?(i=this.stage_list.slice(this.selected_stage-h/2,h/2+this.selected_stage),r=h/2,n=!0,o=!0):u.MAP_NUM-h/2<this.selected_stage&&(i=this.stage_list.slice(h,u.MAP_NUM),r=this.selected_stage-(u.MAP_NUM-h/2)+h/2,n=!0,o=!1),t.font="18px 'Migu'",t.textAlign="left",t.fillStyle="rgb( 255, 255, 255 )";var s,p,f=(this.core.height-24*h)/2;for(s=0,p=i.length;p>s;s++){var _=i[s],g=_.stage_no.toString();g=("00"+g).slice(-2);var m="Stage "+g;if(s===r){var d=this.core.image_loader.getImage("cursor");t.drawImage(d,this.core.width-150,f-14+24*s)}this._drawText(m,this.core.width-120,f+24*s)}n&&t.fillText("▲",this.core.width-100,20),o&&t.fillText("▼",this.core.width-100,this.core.height-10);var y=this.core.storage_story.getStageResult(this.selected_stage+1);if(y){var x=("00"+y.stage_no).slice(-2);for(t.font="36px 'Migu'",t.textAlign="left",this._drawText("Stage "+x,20,50),l.drawBackground(t,this.core.image_loader.getImage("bg"),12,70,.8),s=0;s<this.stage_objects.length;s++)this.stage_objects[s].draw();l.drawFrames(this,12,70,.8);var b=c.calcHonor(y.stage_no,y.time,y.exchange_num),S=this.core.image_loader.getImage("star_on"),v=this.core.image_loader.getImage("star_off");for(s=0;s<a.MAX_SCORE;s++){var M=b>s?S:v;t.drawImage(M,this.core.width-300+s*M.width,this.core.height-120)}}this._showHowTo(),t.restore()},f.prototype._drawText=function(t,e,i){var r=this.core.ctx;r.fillStyle="rgb( 0, 0, 0 )",r.lineWidth=4,r.strokeText(t,e,i),r.fillStyle="rgb( 255, 255, 255 )",r.fillText(t,e,i)},f.prototype._showHowTo=function(){var t=this.core.ctx;t.save();var e="Xキー：戻る";t.font="14px 'Migu'",t.textAlign="left",this._drawText(e,10,this.core.height-10),t.restore()},e.exports=f},{"../constant":2,"../hakurei":5,"../logic/create_map":41,"../logic/get_title_bgm":42,"../logic/score":45,"../stage_config":229}],221:[function(t,e,i){"use strict";var r=10,n=5,o=1,a=100,s=100,u=t("../hakurei").util,c=(t("../constant"),t("../hakurei").constant),l=t("../hakurei").scene.base,h=t("../hakurei").serif_manager,p=t("../logic/create_darker_image"),f=function(t){l.apply(this,arguments),this.serif=new h};u.inherit(f,l),f.prototype.init=function(t){l.prototype.init.apply(this,arguments),this.serif.init(this.serifScript()),this.transition_count=0,this.core.stopBGM(),this.isPlayFadeIn()&&this.setFadeIn(60),this.isPlayFadeOut()&&this.setFadeOut(60)},f.prototype.beforeDraw=function(){l.prototype.beforeDraw.apply(this,arguments),60===this.frame_count&&this.bgm()&&this.core.playBGM(this.bgm()),this.isInTransition()&&(this.transition_count--,0===this.transition_count&&this.serif.startPrintMessage()),this.core.isKeyPush(c.BUTTON_Z)&&(this.serif.is_end()?this.notifySerifEnd():this.isInTransition()?(this.transition_count=0,this.serif.startPrintMessage()):(this.serif.next(),this.serif.is_background_changed()&&(this.transition_count=a,this.serif.cancelPrintMessage()))),this.core.isKeyPush(c.BUTTON_X)&&this.notifySerifEnd()},f.prototype.draw=function(){l.prototype.draw.apply(this,arguments);var t=this.core.ctx;this.isInTransition()?(t.fillStyle=this.backgroundTransitionColor(),t.fillRect(0,0,this.width,this.height),t.globalAlpha=(a-this.transition_count)/a,this._showBackground(),t.globalAlpha=1):(this._showBackground(),this.serif.right_image()&&this._showRightChara(),this.serif.left_image()&&this._showLeftChara(),this._showMessageWindow(),this._showMessage(),this._showHowTo())},f.prototype._showBackground=function(){var t=this.core.ctx,e=this.serif.background_image()?this.serif.background_image():this.background(),i=this.core.image_loader.getImage(e);t.drawImage(i,0,0,i.width,i.height,0,0,this.core.width,this.core.height)},f.prototype._showRightChara=function(){var t=this.core.ctx;t.save();var e=400,i=65,r=this.core.image_loader.getImage(this.serif.right_image());this.serif.is_right_talking()?(e-=n,i-=n):r=p.exec(r),t.drawImage(r,e,i,r.width*o,r.height*o),t.restore()},f.prototype._showLeftChara=function(){var t=this.core.ctx;t.save();var e=-50,i=25,r=this.core.image_loader.getImage(this.serif.left_image());this.serif.is_left_talking()?(e+=n,i-=n):r=p.exec(r),t.drawImage(r,e,i,r.width*o,r.height*o),t.restore()},f.prototype._showMessageWindow=function(){var t=this.core.ctx;t.save(),t.globalAlpha=.5,t.fillStyle="rgb( 0, 0, 0 )",t.fillRect(r,this.core.height-125,this.core.width-2*r,s),t.restore()},f.prototype._showMessage=function(){var t=this.core.ctx;t.save();var e=this.serif.font_color();e=e?u.hexToRGBString(e):"rgb(255, 255, 255)",t.font="18px 'Migu'",t.textAlign="left";var i,n=this.serif.lines();if(n.length){i=this.core.height-125+40;for(var o=0,a=n.length;a>o;o++)t.fillStyle="rgb( 0, 0, 0 )",t.lineWidth=4,t.strokeText(n[o],2*r+20,i),t.fillStyle=e,t.fillText(n[o],2*r+20,i),i+=30}t.restore()},f.prototype._showHowTo=function(){var t=this.core.ctx;t.save();var e="Xキー：スキップ";t.font="14px 'Migu'",t.textAlign="left",t.strokeStyle="rgb( 0, 0, 0 )",t.lineWidth=4,t.strokeText(e,this.core.width-130,this.core.height-10),t.fillStyle="white",t.fillText(e,this.core.width-130,this.core.height-10),t.restore()},f.prototype.notifySerifEnd=function(){throw new Error("notifySerifEnd method must be defined.")},f.prototype.serifScript=function(){throw new Error("serifScript method must be defined.")},f.prototype.background=function(){throw new Error("background method must be defined.")},f.prototype.backgroundTransitionColor=function(){return"white"},f.prototype.bgm=function(){},f.prototype.isPlayFadeIn=function(){return!1},f.prototype.isPlayFadeOut=function(){return!1},f.prototype.isInTransition=function(){return this.transition_count?!0:!1},e.exports=f},{"../constant":2,"../hakurei":5,"../logic/create_darker_image":40}],222:[function(t,e,i){"use strict";var r=t("./talk_base"),n=t("../../hakurei").util,o=function(t,e){r.apply(this,arguments)};n.inherit(o,r),o.prototype.init=function(t){r.prototype.init.apply(this,arguments)},o.prototype.notifyTalkEnd=function(){this.parent.notifyAfterTalkEnd()},e.exports=o},{"../../hakurei":5,"./talk_base":228}],223:[function(t,e,i){"use strict";var r=t("./talk_base"),n=t("../../hakurei").util,o=function(t,e){r.apply(this,arguments)};n.inherit(o,r),o.prototype.notifyTalkEnd=function(){this.parent.changeSubScene("play")},e.exports=o},{"../../hakurei":5,"./talk_base":228}],224:[function(t,e,i){"use strict";var r=t("../../hakurei").scene.base,n=t("../../hakurei").constant,o=t("../../hakurei").util,a=function(t,e){r.apply(this,arguments)};o.inherit(a,r),a.prototype.init=function(){r.prototype.init.apply(this,arguments),this.selectIndex=0},a.prototype.beforeDraw=function(){r.prototype.beforeDraw.apply(this,arguments),this.core.isKeyPushOrLongDown(n.BUTTON_UP)?(this.core.playSound("select"),this.selectIndex--,this.selectIndex<0&&(this.selectIndex=0)):this.core.isKeyPushOrLongDown(n.BUTTON_DOWN)&&(this.core.playSound("select"),this.selectIndex++,this.selectIndex>2&&(this.selectIndex=2)),this.core.isKeyPushOrLongDown(n.BUTTON_SPACE)?(this.core.playSound("select"),this.parent.changeSubScene("play")):this.core.isKeyPush(n.BUTTON_Z)&&(this.core.playSound("select"),0===this.selectIndex?this.parent.changeSubScene("play"):1===this.selectIndex?this.parent.notifyRestart():2===this.selectIndex&&this.parent.notifyQuit())},a.prototype.draw=function(){var t=this.core.ctx;t.save(),t.fillStyle="rgb( 0, 0, 0 )",t.globalAlpha=.7,t.fillRect(0,0,this.parent.width,this.parent.height),t.fillStyle="rgb( 255, 255, 255 )",t.textAlign="center",t.font="18px 'Migu'",0===this.selectIndex?t.globalAlpha=1:t.globalAlpha=.2,t.fillText("Continue",this.parent.width/2,200),1===this.selectIndex?t.globalAlpha=1:t.globalAlpha=.2,t.fillText("Restart",this.parent.width/2,240),2===this.selectIndex?t.globalAlpha=1:t.globalAlpha=.2,t.fillText("Quit",this.parent.width/2,280),t.restore()},e.exports=a},{"../../hakurei":5}],225:[function(t,e,i){"use strict";var r=t("../../hakurei").scene.base,n=t("../../hakurei").constant,o=t("../../hakurei").util,a=function(t,e){r.apply(this,arguments)};o.inherit(a,r),a.prototype.init=function(){r.prototype.init.apply(this,arguments)},a.prototype.beforeDraw=function(){r.prototype.beforeDraw.apply(this,arguments);for(var t=0,e=this.parent.objects.length;e>t;t++)this.parent.objects[t].beforeDraw();this.core.isKeyDown(n.BUTTON_LEFT)?this.parent.player().notifyMoveLeft():this.core.isKeyDown(n.BUTTON_RIGHT)?this.parent.player().notifyMoveRight():this.parent.player().notifyNotMove(),this.core.isKeyPush(n.BUTTON_X)&&(this.parent.player().startExchange()?this.core.playSound("boss_powerup"):this.core.playSound("forbidden")),this.core.isKeyPush(n.BUTTON_SPACE)&&this.parent.changeSubScene("pause"),this.parent.player().update(),this.parent.isClear()&&this.parent.notifyStageClear()},a.prototype.draw=function(){var t=this.core.ctx;t.save(),t.fillStyle="rgb( 255, 255, 255 )",t.font="18px 'PixelMplus'",t.textAlign="left",t.fillText("矢印キー: 移動, Xキー: スキマ移動, スペースキー: ポーズ",30,this.core.height-15),t.restore()},e.exports=a},{"../../hakurei":5}],226:[function(t,e,i){"use strict";var r=t("../../hakurei").scene.base,n=t("../../hakurei").constant,o=t("../../constant"),a=t("../../hakurei").util,s=(t("../../logic/score"),t("../../logic/result_message/select")),u=function(t,e){r.apply(this,arguments)};a.inherit(u,r),u.prototype.init=function(){r.prototype.init.apply(this,arguments),this.message=this.getMessage(),this.sound_count=0,this.move_frame_count0=0,this.is_show_bg=!1,this.move_frame_count1=1e3,this.move_frame_count2=1e3,this.move_frame_count3=-500,this.is_show_serif=!1},u.prototype.beforeDraw=function(){r.prototype.beforeDraw.apply(this,arguments);for(var t=0,e=this.parent.objects.length;e>t;t++)this.parent.objects[t].beforeDraw();this.core.isKeyPush(n.BUTTON_Z)&&(this.core.playSound("select"),this.goToNextScene()),this.move_frame_count0<40?this.move_frame_count0+=1:this.is_show_bg?0===this.sound_count?(this.sound_count++,this.core.playSound("stage_result1")):this.move_frame_count1>150?this.move_frame_count1-=50:1===this.sound_count?(this.sound_count++,this.core.playSound("stage_result1")):this.move_frame_count2>250?this.move_frame_count2-=50:this.move_frame_count3<400?this.move_frame_count3+=50:this.is_show_serif?2===this.sound_count&&(this.sound_count++,this.core.playSound("stage_result2")):this.is_show_serif=!0:this.is_show_bg=!0},u.prototype.draw=function(){var t=this.core.ctx;if(this.is_show_bg){var e=this.core.image_loader.getImage("mari_bg");t.drawImage(e,3,928,4*this.core.width,868,0,this.core.height/2-108.5,this.core.width,217)}t.save(),t.textAlign="left",t.fillStyle="rgb(232, 52, 33)",t.font="24px 'Migu'",t.fillText("STAGE CLEAR !",this.move_frame_count1,250),t.fillRect(this.move_frame_count1,260,280,1),t.font="28px 'Migu'",t.fillText("Score:",this.move_frame_count2,320);for(var i=this.parent.calcHonor(),r=this.core.image_loader.getImage("star_on"),n=this.core.image_loader.getImage("star_off"),a=0;a<o.MAX_SCORE;a++){var s=i>a?r:n;t.drawImage(s,this.move_frame_count2+100+a*s.width,285)}t.restore(),this._showRightChara(this.message.chara,this.message.face),t.save(),this.is_show_serif&&(this._showMessageWindow(),this._showMessage(this.message.message)),t.restore()},u.prototype._showRightChara=function(t,e){var i=this.core.ctx;i.save();var r=this.core.image_loader.getImage(t+"_"+e),n=this.move_frame_count3+r.width/2,o=65+r.height/2;"yukari"===this.message.chara&&(o-=40),i.translate(n,o),"yukari"===this.message.chara&&i.transform(-1,0,0,1,0,0),i.drawImage(r,-r.width/2,-r.height/2,r.width,r.height),i.restore()};var c=10;u.prototype._showMessageWindow=function(){var t=this.core.ctx;t.save();var e=100;t.globalAlpha=.5,t.fillStyle="rgb(0, 0, 0)",t.fillRect(c,this.core.height-125,this.core.width-2*c,e),t.restore()},u.prototype._showMessage=function(t){var e=this.core.ctx;e.save(),e.font="18px 'Migu'",e.textAlign="left";var i,r=t.split("\n");if(r.length){i=this.core.height-125+40;for(var n=0,o=r.length;o>n;n++)e.fillStyle="rgb( 0, 0, 0 )",e.lineWidth=4,e.strokeText(r[n],2*c+20,i),e.fillStyle="white",e.fillText(r[n],2*c+20,i),i+=30}e.restore()},u.prototype.goToNextScene=function(){this.parent.notifyResultClearEndBySelect()},u.prototype.getMessage=function(){var t=this.parent.calcHonor(),e=s[t],i=e[Math.floor(Math.random()*e.length)];return{chara:i[0],face:i[1],message:i[2]}},e.exports=u},{"../../constant":2,"../../hakurei":5,"../../logic/result_message/select":43,"../../logic/score":45}],227:[function(t,e,i){"use strict";var r=t("./result_clear_by_select"),n=(t("../../hakurei").constant,t("../../hakurei").util),o=t("../../logic/result_message/story"),a=function(t,e){r.apply(this,arguments)};n.inherit(a,r),a.prototype.goToNextScene=function(){this.parent.notifyResultClearEndByStory()},a.prototype.getMessage=function(){var t=this.parent.stage_no,e=o[t-1],i=e[Math.floor(Math.random()*e.length)];return{chara:i[0],face:i[1],message:i[2]}},e.exports=a},{"../../hakurei":5,"../../logic/result_message/story":44,"./result_clear_by_select":226}],228:[function(t,e,i){"use strict";var r=10,n=5,o=1,a=t("../../hakurei").scene.base,s=t("../../hakurei").constant,u=t("../../hakurei").util,c=t("../../hakurei").serif_manager,l=t("../../logic/create_darker_image"),h=function(t){a.apply(this,arguments),this.serif=new c};u.inherit(h,a),h.prototype.init=function(t){a.prototype.init.apply(this,arguments),this.serif.init(t)},h.prototype.beforeDraw=function(){return a.prototype.beforeDraw.apply(this,arguments),this.parent.player().update(),1===this.frame_count&&this.serif.is_end()?void this.notifyTalkEnd():(this.core.isKeyPush(s.BUTTON_Z)&&(this.serif.is_end()?this.notifyTalkEnd():this.serif.next()),void(this.core.isKeyPush(s.BUTTON_X)&&this.notifyTalkEnd()))},h.prototype.draw=function(){a.prototype.draw.apply(this,arguments);this.core.ctx;this.serif.right_image()&&this._showRightChara(),this.serif.left_image()&&this._showLeftChara(),this._showMessageWindow(),this._showMessage(),this._showHowTo()},h.prototype._showRightChara=function(){var t=this.core.ctx;t.save();var e=400,i=65,r=this.core.image_loader.getImage(this.serif.right_image());this.serif.is_right_talking()?(e-=n,i-=n):r=l.exec(r),t.drawImage(r,e,i,r.width*o,r.height*o),t.restore()},h.prototype._showLeftChara=function(){var t=this.core.ctx;t.save();var e=-50,i=25,r=this.core.image_loader.getImage(this.serif.left_image());this.serif.is_left_talking()?(e+=n,i-=n):r=l.exec(r),t.drawImage(r,e,i,r.width*o,r.height*o),t.restore()},h.prototype._showMessageWindow=function(){var t=this.core.ctx;t.save();var e=100;t.globalAlpha=.5,t.fillStyle="rgb( 0, 0, 0 )",t.fillRect(r,this.core.height-125,this.core.width-2*r,e),t.restore()},h.prototype._showMessage=function(){var t=this.core.ctx;t.save(),t.font="18px 'Migu'",t.textAlign="left";var e,i=this.serif.lines();if(i.length){e=this.core.height-125+40;for(var n=0,o=i.length;o>n;n++)t.fillStyle="rgb( 0, 0, 0 )",t.lineWidth=4,t.strokeText(i[n],2*r+20,e),t.fillStyle="white",t.fillText(i[n],2*r+20,e),e+=30}t.restore()},h.prototype._showHowTo=function(){var t=this.core.ctx;t.save();var e="Xキー：スキップ";t.font="14px 'Migu'",t.textAlign="left",t.fillStyle="rgb( 0, 0, 0 )",t.lineWidth=4,t.strokeText(e,this.core.width-130,this.core.height-10),t.fillStyle="white",t.fillText(e,this.core.width-130,this.core.height-10),t.restore()},h.prototype.notifyTalkEnd=function(){throw new Error("notifyTalkEnd must be implemented.")},e.exports=h},{"../../hakurei":5,"../../logic/create_darker_image":40}],229:[function(t,e,i){"use strict";var r=[null,t("./scene/map/stage01"),t("./scene/map/stage02"),t("./scene/map/stage03"),t("./scene/map/stage04"),t("./scene/map/stage05"),t("./scene/map/stage06"),t("./scene/map/stage07"),t("./scene/map/stage08"),t("./scene/map/stage09"),t("./scene/map/stage10"),t("./scene/map/stage11"),t("./scene/map/stage12"),t("./scene/map/stage13"),t("./scene/map/stage14"),t("./scene/map/stage15"),t("./scene/map/stage16"),t("./scene/map/stage17"),t("./scene/map/stage18"),t("./scene/map/stage19"),t("./scene/map/stage20"),t("./scene/map/stage21"),t("./scene/map/stage22"),t("./scene/map/stage23"),t("./scene/map/stage24"),t("./scene/map/stage25"),t("./scene/map/stage26"),t("./scene/map/stage27"),t("./scene/map/stage28"),t("./scene/map/stage29"),t("./scene/map/stage30"),t("./scene/map/stage31"),t("./scene/map/stage32"),t("./scene/map/stage33"),t("./scene/map/stage34"),t("./scene/map/stage35"),t("./scene/map/stage36"),t("./scene/map/stage37"),t("./scene/map/stage38"),t("./scene/map/stage39"),t("./scene/map/stage40")],n=[null,t("./logic/serif/stage01/before"),t("./logic/serif/stage02/before"),t("./logic/serif/stage03/before"),t("./logic/serif/stage04/before"),t("./logic/serif/stage05/before"),t("./logic/serif/stage06/before"),t("./logic/serif/stage07/before"),t("./logic/serif/stage08/before"),t("./logic/serif/stage09/before"),t("./logic/serif/stage10/before"),t("./logic/serif/stage11/before"),t("./logic/serif/stage12/before"),t("./logic/serif/stage13/before"),t("./logic/serif/stage14/before"),t("./logic/serif/stage15/before"),t("./logic/serif/stage16/before"),t("./logic/serif/stage17/before"),t("./logic/serif/stage18/before"),t("./logic/serif/stage19/before"),t("./logic/serif/stage20/before"),t("./logic/serif/stage21/before"),t("./logic/serif/stage22/before"),t("./logic/serif/stage23/before"),t("./logic/serif/stage24/before"),t("./logic/serif/stage25/before"),t("./logic/serif/stage26/before"),t("./logic/serif/stage27/before"),t("./logic/serif/stage28/before"),t("./logic/serif/stage29/before"),t("./logic/serif/stage30/before"),t("./logic/serif/stage31/before"),t("./logic/serif/stage32/before"),t("./logic/serif/stage33/before"),t("./logic/serif/stage34/before"),t("./logic/serif/stage35/before"),t("./logic/serif/stage36/before"),t("./logic/serif/stage37/before"),t("./logic/serif/stage38/before"),t("./logic/serif/stage39/before"),t("./logic/serif/stage40/before")],o=[null,t("./logic/serif/stage01/after"),t("./logic/serif/stage02/after"),t("./logic/serif/stage03/after"),t("./logic/serif/stage04/after"),t("./logic/serif/stage05/after"),t("./logic/serif/stage06/after"),t("./logic/serif/stage07/after"),t("./logic/serif/stage08/after"),t("./logic/serif/stage09/after"),t("./logic/serif/stage10/after"),t("./logic/serif/stage11/after"),t("./logic/serif/stage12/after"),t("./logic/serif/stage13/after"),t("./logic/serif/stage14/after"),t("./logic/serif/stage15/after"),t("./logic/serif/stage16/after"),t("./logic/serif/stage17/after"),t("./logic/serif/stage18/after"),t("./logic/serif/stage19/after"),t("./logic/serif/stage20/after"),t("./logic/serif/stage21/after"),t("./logic/serif/stage22/after"),t("./logic/serif/stage23/after"),t("./logic/serif/stage24/after"),t("./logic/serif/stage25/after"),t("./logic/serif/stage26/after"),t("./logic/serif/stage27/after"),t("./logic/serif/stage28/after"),t("./logic/serif/stage29/after"),t("./logic/serif/stage30/after"),t("./logic/serif/stage31/after"),t("./logic/serif/stage32/after"),t("./logic/serif/stage33/after"),t("./logic/serif/stage34/after"),t("./logic/serif/stage35/after"),t("./logic/serif/stage36/after"),t("./logic/serif/stage37/after"),t("./logic/serif/stage38/after"),t("./logic/serif/stage39/after"),t("./logic/serif/stage40/after")],a=[null,0,1,3,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6];e.exports={MAPS:r,MAP_NUM:r.length-1,SERIF_BEFORES:n,SERIF_AFTERS:o,EYES_NUM:a}},{"./logic/serif/stage01/after":52,"./logic/serif/stage01/before":53,"./logic/serif/stage02/after":54,"./logic/serif/stage02/before":55,"./logic/serif/stage03/after":56,"./logic/serif/stage03/before":57,"./logic/serif/stage04/after":58,"./logic/serif/stage04/before":59,"./logic/serif/stage05/after":60,"./logic/serif/stage05/before":61,"./logic/serif/stage06/after":62,"./logic/serif/stage06/before":63,"./logic/serif/stage07/after":64,"./logic/serif/stage07/before":65,"./logic/serif/stage08/after":66,"./logic/serif/stage08/before":67,"./logic/serif/stage09/after":68,"./logic/serif/stage09/before":69,"./logic/serif/stage10/after":70,"./logic/serif/stage10/before":71,"./logic/serif/stage11/after":72,"./logic/serif/stage11/before":73,"./logic/serif/stage12/after":74,"./logic/serif/stage12/before":75,"./logic/serif/stage13/after":76,"./logic/serif/stage13/before":77,"./logic/serif/stage14/after":78,"./logic/serif/stage14/before":79,"./logic/serif/stage15/after":80,"./logic/serif/stage15/before":81,"./logic/serif/stage16/after":82,"./logic/serif/stage16/before":83,"./logic/serif/stage17/after":84,"./logic/serif/stage17/before":85,"./logic/serif/stage18/after":86,"./logic/serif/stage18/before":87,"./logic/serif/stage19/after":88,"./logic/serif/stage19/before":89,"./logic/serif/stage20/after":90,"./logic/serif/stage20/before":91,"./logic/serif/stage21/after":92,"./logic/serif/stage21/before":93,"./logic/serif/stage22/after":94,"./logic/serif/stage22/before":95,"./logic/serif/stage23/after":96,
"./logic/serif/stage23/before":97,"./logic/serif/stage24/after":98,"./logic/serif/stage24/before":99,"./logic/serif/stage25/after":100,"./logic/serif/stage25/before":101,"./logic/serif/stage26/after":102,"./logic/serif/stage26/before":103,"./logic/serif/stage27/after":104,"./logic/serif/stage27/before":105,"./logic/serif/stage28/after":106,"./logic/serif/stage28/before":107,"./logic/serif/stage29/after":108,"./logic/serif/stage29/before":109,"./logic/serif/stage30/after":110,"./logic/serif/stage30/before":111,"./logic/serif/stage31/after":112,"./logic/serif/stage31/before":113,"./logic/serif/stage32/after":114,"./logic/serif/stage32/before":115,"./logic/serif/stage33/after":116,"./logic/serif/stage33/before":117,"./logic/serif/stage34/after":118,"./logic/serif/stage34/before":119,"./logic/serif/stage35/after":120,"./logic/serif/stage35/before":121,"./logic/serif/stage36/after":122,"./logic/serif/stage36/before":123,"./logic/serif/stage37/after":124,"./logic/serif/stage37/before":125,"./logic/serif/stage38/after":126,"./logic/serif/stage38/before":127,"./logic/serif/stage39/after":128,"./logic/serif/stage39/before":129,"./logic/serif/stage40/after":130,"./logic/serif/stage40/before":131,"./scene/map/stage01":179,"./scene/map/stage02":180,"./scene/map/stage03":181,"./scene/map/stage04":182,"./scene/map/stage05":183,"./scene/map/stage06":184,"./scene/map/stage07":185,"./scene/map/stage08":186,"./scene/map/stage09":187,"./scene/map/stage10":188,"./scene/map/stage11":189,"./scene/map/stage12":190,"./scene/map/stage13":191,"./scene/map/stage14":192,"./scene/map/stage15":193,"./scene/map/stage16":194,"./scene/map/stage17":195,"./scene/map/stage18":196,"./scene/map/stage19":197,"./scene/map/stage20":198,"./scene/map/stage21":199,"./scene/map/stage22":200,"./scene/map/stage23":201,"./scene/map/stage24":202,"./scene/map/stage25":203,"./scene/map/stage26":204,"./scene/map/stage27":205,"./scene/map/stage28":206,"./scene/map/stage29":207,"./scene/map/stage30":208,"./scene/map/stage31":209,"./scene/map/stage32":210,"./scene/map/stage33":211,"./scene/map/stage34":212,"./scene/map/stage35":213,"./scene/map/stage36":214,"./scene/map/stage37":215,"./scene/map/stage38":216,"./scene/map/stage39":217,"./scene/map/stage40":218}],230:[function(t,e,i){"use strict";var r=t("../hakurei").storage.save,n=t("../hakurei").util,o=t("../constant"),a=t("../logic/score"),s=function(t){r.apply(this,arguments)};n.inherit(s,r),s.prototype.incrementNormalStageProgress=function(){var t=this.getNormalStageProgress();t?t+=1:t=1,this.set("normal_stage_progress",t)},s.prototype.getNormalStageProgress=function(){return this.get("normal_stage_progress")},s.prototype.resetNormalStageProgress=function(){return this.remove("normal_stage_progress")},s.prototype.incrementExStageProgress=function(){var t=this.getExStageProgress();t?t+=1:t=o.EX_STORY_START_STAGE_NO,this.set("ex_stage_progress",t)},s.prototype.getExStageProgress=function(){return this.get("ex_stage_progress")},s.prototype.resetExStageProgress=function(){return this.remove("ex_stage_progress")},s.prototype.clearNormalStage=function(){this.set("is_normal_stage_cleared",!0)},s.prototype.getIsNormalStageCleared=function(){return this.get("is_normal_stage_cleared")},s.prototype.clearExStage=function(){this.set("is_ex_stage_cleared",!0)},s.prototype.getIsExStageCleared=function(){return this.get("is_ex_stage_cleared")},s.prototype.getStageResultList=function(){var t=this.get("stage_result_list");return t||(t=[]),t},s.prototype.getStageResult=function(t){var e=this.getStageResultList();return e[t-1]},s.prototype.getLatestStageResult=function(){var t=this.getStageResultList();return 0===t.length?null:t[t.length-1]},s.prototype.updateStageResult=function(t,e,i){t-=1;var r=this.getStageResultList();if(r[t]){var n=a.calcHonor(t+1,r[t].time,r[t].exchange_num),o=a.calcHonor(t+1,e,i);o>n&&(r[t].time=e,r[t].exchange_num=i)}else r[t]={stage_no:t+1,time:e,exchange_num:i};this.set("stage_result_list",r)},s.prototype.clearNormalStageForDebug=function(){for(var t=this.getStageResultList(),e=o.EX_STORY_START_STAGE_NO-1,i=0;e>i;i++)t[i]||(t[i]={stage_no:i+1,time:1,exchange_num:1});this.set("stage_result_list",t),this.clearNormalStage(),this.save()},s.prototype.clearExStageForDebug=function(){for(var t=this.getStageResultList(),e=o.EX_STORY_START_STAGE_NO,i=e-1;40>i;i++)t[i]||(t[i]={stage_no:i+1,time:1,exchange_num:1});this.set("stage_result_list",t),this.clearExStage(),this.save()},s.prototype.save=function(){o.TRIAL||r.prototype.save.apply(this,arguments)},e.exports=s},{"../constant":2,"../hakurei":5,"../logic/score":45}]},{},[132]);